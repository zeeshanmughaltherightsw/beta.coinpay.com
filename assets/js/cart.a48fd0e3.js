(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cart"],{"6f3b":function(e,t,c){},"908b":function(e,t,c){"use strict";c("6f3b")},"9e55":function(e,t,c){"use strict";var a=c("f2bf");const l={class:"p-4"},r={class:"max-w-7xl 3xl:max-w-8xl mx-auto"},n={class:"flex flex-col md:flex-row space-x-0 md:space-x-4"},o={class:"w-full mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4",style:{"min-height":"calc(100vh - 351px)"}};function s(e,t,c,s,d,b){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",o,[Object(a["renderSlot"])(e.$slots,"default")])])])])}var d={name:"CenteredLayout"},b=c("6b0d"),m=c.n(b);const i=m()(d,[["render",s]]);t["a"]=i},b789:function(e,t,c){"use strict";c.r(t);var a=c("f2bf");const l=e=>(Object(a["pushScopeId"])("data-v-4996cff8"),e=e(),Object(a["popScopeId"])(),e),r={key:0,class:"h-full"},n={class:"flex items-center justify-center h-full"},o={class:"text-center"},s={class:"mb-4 font-semibold text-lg"},d={key:1,class:"card"},b={class:"body"},m={class:"w-full scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600"},i={class:"table-sm mb-2"},u=l(()=>Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"Item"),Object(a["createElementVNode"])("th",null,"Price"),Object(a["createElementVNode"])("th",null,"Quantity"),Object(a["createElementVNode"])("th",null,"Subtotal"),Object(a["createElementVNode"])("th")])],-1)),p={class:"flex items-center"},j=["src","onClick"],O={class:"mb-0 ml-1"},h={class:"items-center"},y=l(()=>Object(a["createElementVNode"])("span",{class:"mr-3"},"x",-1)),N=["max","onChange","onUpdate:modelValue","onInput"],f={class:"text-right"},V={class:"pr-3"},v=["onClick"],E={class:"text-right",colspan:"5"},g={class:"font-bold pr-3"},x={class:"text-right",colspan:"4"};function k(e,t,c,l,k,C){const w=Object(a["resolveComponent"])("router-link"),q=Object(a["resolveComponent"])("icon"),I=Object(a["resolveComponent"])("centered-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(I,null,{default:Object(a["withCtx"])(()=>[0===l.cart.items.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("p",s,Object(a["toDisplayString"])(l.translate("pos.cart.empty_cart")),1),Object(a["createVNode"])(w,{to:{name:"shop-detail",params:{id:l.shopId}},class:"btn btn-primary",tag:"a"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.translate("pos.cart.continue_shopping")),1)]),_:1},8,["to"])])])])):Object(a["createCommentVNode"])("",!0),l.cart.items.length>0&&l.shop&&l.shop.products.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("table",i,[u,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.cart.items,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t},[Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("img",{class:"w-12 h-12 rounded-full mr-3",src:e.url,alt:"",onClick:t=>l.fancyBox(e.url)},null,8,j),Object(a["createElementVNode"])("p",O,Object(a["toDisplayString"])(e.name),1)])]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(l.formatPrice(e.price,l.currency)),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",h,[y,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{max:l.maxQty(e),onChange:c=>l.updateCart(e,t),"aria-label":"qty",class:"form-input w-36",min:"1",step:"1",type:"number","onUpdate:modelValue":t=>e.qty=t,onInput:t=>e.qty=0==e.qty?1:Math.round(e.qty)},null,40,N),[[a["vModelText"],e.qty]])])]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(l.formatPrice(e.price*e.qty,l.currency)),1),Object(a["createElementVNode"])("td",f,[Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("button",{onClick:e=>l.removeItem(t),class:"hover:text-red-500"},[Object(a["createVNode"])(q,{name:"trash"})],8,v)])])]))),128)),Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("td",E,[Object(a["createElementVNode"])("span",g,"Total: "+Object(a["toDisplayString"])(l.cartTotal),1)])]),Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("button",{onClick:t[0]||(t[0]=e=>l.clearCart()),class:"btn btn-danger"},Object(a["toDisplayString"])(l.translate("pos.cart.clear_cart")),1)]),Object(a["createElementVNode"])("td",x,[Object(a["createVNode"])(w,{to:{name:"shop-detail",params:{id:l.shopId}},class:"btn btn-default",tag:"a"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.translate("pos.cart.continue_shopping")),1)]),_:1},8,["to"]),Object(a["createVNode"])(w,{disabled:0===l.totalAmount,tag:"a",to:{name:"checkout"},class:"btn btn-primary ml-2 mr-3"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.translate("pos.cart.checkout")),1)]),_:1},8,["disabled"])])])])])])])])):Object(a["createCommentVNode"])("",!0)]),_:1})}var C=c("9e55"),w=c("cdae"),q=c("5502"),I=c("2e13"),B=c("2ef0"),S=c("8923"),D={name:"Cart",components:{CenteredLayout:C["a"],Icon:w["a"]},setup(){const e=Object(a["inject"])("translate"),t=Object(a["inject"])("toast"),c=Object(q["b"])(),{formatPrice:l,fancyBox:r}=Object(I["a"])(),n=Object(a["reactive"])({isValuesInValid:!1}),o=Object(a["computed"])(()=>c.state.altCoins),s=Object(a["computed"])(()=>c.state.shopsList),d=Object(a["computed"])(()=>c.state.shopId),b=Object(a["computed"])(()=>c.state.shopData),m=Object(a["computed"])(()=>c.state.cart),i=Object(a["computed"])(()=>{let e=null;return d.value&&(e=B["find"](s.value,{ID:d.value})),e}),u=Object(a["computed"])(()=>{let e="EUR";if(i.value){e=i.value.PayoutCurrencyShortName;const t=B["find"](o.value,{ShortName:e});t&&(e=t.LongName)}return e}),p=Object(a["computed"])(()=>{let e=0;return m.value.items.length>0&&m.value.items.map(t=>{e+=Number(t.qty)*Number(t.price)}),l(e,u.value)}),j=Object(a["computed"])(()=>{let e=0;return m.value.items.length>0&&m.value.items.map(t=>{e+=Number(t.qty)*Number(t.price)}),e}),O=e=>{const t=B["find"](b.value.products,{id:e.id});return t?Number(t.stock)-Number(e.qty):0},h=(e,a)=>{const l=B["cloneDeep"](m.value),r=B["find"](l.items,{id:e.id});l.items[a].qty=0==l.items[a].qty?1:Math.round(l.items[a].qty),(0===Number(e.qty)||Number(e.qty)>O(e))&&(l.items[a].qty=r.qty,t.error("Invalid quantity entered. The previous value will be restored.")),c.commit(S["ib"],l)},y=e=>{const t=B["cloneDeep"](m.value);t.items.splice(e,1),c.commit(S["ib"],t)},N=()=>{c.commit(S["ib"],{items:[],merchantId:null})};return{translate:e,shopId:d,cart:m,currency:u,formatPrice:l,cartTotal:p,totalAmount:j,shop:b,maxQty:O,updateCart:h,removeItem:y,clearCart:N,fancyBox:r,...Object(a["toRefs"])(n)}}},_=(c("908b"),c("6b0d")),T=c.n(_);const P=T()(D,[["render",k],["__scopeId","data-v-4996cff8"]]);t["default"]=P}}]);
//# sourceMappingURL=cart.a48fd0e3.js.map