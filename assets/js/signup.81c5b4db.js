(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signup"],{"34c3":function(e,t,n){"use strict";n.r(t);var c=n("f2bf"),o=n("44c6"),a=n.n(o),r=function(e){return Object(c["pushScopeId"])("data-v-e4239520"),e=e(),Object(c["popScopeId"])(),e},l={class:"max-w-xl w-full space-y-4 rounded bg-white dark:bg-gray-800 dark:text-gray-400 shadow p-4"},s={class:"text-xl font-bold mb-4 text-center"},i={class:"mb-2"},d={class:"flex items-center justify-between mb-1"},u={class:"text-red-500 text-sm"},m={class:"grid grid-cols-2 gap-1 md:gap-4"},b={class:"col-span-1"},p={class:"mb-2"},f={class:"flex items-center justify-between mb-1"},j={class:"text-red-500 text-sm"},O={class:"flex items-center"},w={class:"ml-3 cursor-pointer"},h={class:"col-span-1"},g={class:"mb-2"},v={class:"flex items-center justify-between mb-1"},y={class:"text-red-500 text-sm"},x={class:"mb-2"},V={class:"card mb-1"},k={class:"title"},N=r((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),E={class:"body"},C={key:0,class:"flex flex-wrap justify-start gap-x-1 gap-y-1 md:gap-x-2 md:gap-y-2 mb-4"},S=["src"],A={class:"text-right"},P={class:"text-red-500 text-sm"},B={class:"mb-2"},D={class:"flex items-center justify-between mb-1"},I={class:"text-red-500 text-sm"},L=["value"],U={class:"text-red-500 text-sm"},M={class:"mt-4"},q={key:0,class:"mr-3"},_={class:"text-center"},z={class:"flex items-center"},R={class:"mr-3"},T=r((function(){return Object(c["createElementVNode"])("div",{class:"text-center font-bold my-4"},[Object(c["createElementVNode"])("span",null,"Or...")],-1)})),K=r((function(){return Object(c["createElementVNode"])("img",{class:"w-5 h-5 mr-3",src:a.a,alt:"facebook"},null,-1)})),F=Object(c["createTextVNode"])(" Sign Up With Meta Facebook ");function J(e,t,n,o,a,r){var J=Object(c["resolveComponent"])("icon"),W=Object(c["resolveComponent"])("j-button"),Z=Object(c["resolveComponent"])("vue-recaptcha"),$=Object(c["resolveComponent"])("router-link"),H=Object(c["resolveComponent"])("auth-layout"),G=Object(c["resolveComponent"])("alt-coins-modal"),Q=Object(c["resolveDirective"])("tippy");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(H,null,{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("h1",s,Object(c["toDisplayString"])(o.translate("signup.title")),1),Object(c["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(c["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("signup.username")),1),Object(c["createElementVNode"])("div",u,Object(c["toDisplayString"])(o.showError(e.errorBag,"ownernickname")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{autofocus:"",autocomplete:"off",class:"form-input w-full",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.ownernickname=t})},null,512),[[c["vModelText"],e.form.ownernickname]])]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("signup.password")),1),Object(c["createElementVNode"])("div",j,Object(c["toDisplayString"])(!0===e.isValidPassword?"":!1===e.isValidPassword?"Password is not Valid":""),1)]),Object(c["createElementVNode"])("div",O,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",onKeyup:t[1]||(t[1]=function(){return o.validatePasswordOnKeyup&&o.validatePasswordOnKeyup.apply(o,arguments)}),type:"password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.ownerpassword=t})},null,544),[[c["vModelText"],e.form.ownerpassword]]),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",w,[Object(c["createVNode"])(J,{name:"exclamation-circle",classes:"w-5 h-5 text-yellow-500"})])),[[Q,{content:o.passwordRules}]])])])]),Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("signup.email")),1),Object(c["createElementVNode"])("div",y,Object(c["toDisplayString"])(o.showError(e.errorBag,"email")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"email","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.email=t})},null,512),[[c["vModelText"],e.form.email]])])])]),Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("signup.wallets")),1)]),N,Object(c["createElementVNode"])("div",E,[e.form.selectedaltcoins.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.form.selectedaltcoins,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t,class:"flex items-center w-40"},[Object(c["createElementVNode"])("img",{src:o.generateIconUrl(e.Name),alt:"",class:"w-6 h-6 mr-3"},null,8,S),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.Name),1)])})),128))])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",A,[Object(c["createVNode"])(W,{type:"button",onClick:o.launchAtlCoinsModal},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("signup.wallet_button")),1)]})),_:1},8,["onClick"])])])]),Object(c["createElementVNode"])("div",P,Object(c["toDisplayString"])(o.showError(e.errorBag,"selectedaltcoins")),1)]),Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("signup.locale")),1),Object(c["createElementVNode"])("div",I,Object(c["toDisplayString"])(o.showError(e.errorBag,"locale")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.locale=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.languages,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:t},Object(c["toDisplayString"])(e.naam),9,L)})),128))],512),[[c["vModelSelect"],e.form.locale]])]),Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(Z,{ref:"vueRecaptcha",siteKey:e.reCaptchaAPIKey,size:"normal",onExpire:o.recaptchaExpired,theme:o.mode,onFail:o.recaptchaFailed,onVerify:o.recaptchaVerified},null,8,["siteKey","onExpire","theme","onFail","onVerify"]),Object(c["createElementVNode"])("div",U,Object(c["toDisplayString"])(o.showError(e.errorBag,"reCaptcha")),1)]),Object(c["createElementVNode"])("div",M,[Object(c["createVNode"])(W,{disabled:e.isProcessing,size:"w-full"},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",q,[Object(c["createVNode"])(J,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("signup.button")),1)]})),_:1},8,["disabled"])])],32),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",z,[Object(c["createElementVNode"])("p",R,Object(c["toDisplayString"])(o.translate("login.forgot")),1),Object(c["createVNode"])($,{class:"link",to:"/recover-password",tag:"a"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("login.recover")),1)]})),_:1})])]),T,Object(c["createVNode"])(W,{size:"w-full",buttonStyle:"outline",onClick:t[6]||(t[6]=function(e){return o.authenticate("facebook")})},{default:Object(c["withCtx"])((function(){return[K,F]})),_:1})])]})),_:1}),Object(c["createVNode"])(G)],64)}var W=n("5530"),Z=(n("b64b"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("ac1f"),n("5319"),n("b0c0"),n("a15b"),n("d81d"),n("99af"),n("00b4"),n("227c")),$={class:"flex items-center justify-between"},H={class:"capitalize"},G={class:"flex items-center justify-between flex-col md:flex-row"},Q=Object(c["createTextVNode"])("Select All"),X=Object(c["createTextVNode"])(" Select Popular Only "),Y=Object(c["createTextVNode"])(" Unselect All "),ee={class:"relative flex-1 my-4"},te={class:"flex flex-wrap justify-center gap-2"},ne=["onClick"],ce=["src"],oe={class:"text-xs font-semibold"};function ae(e,t,n,o,a,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("modal");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[6]||(t[6]=function(e){return o.closeModal()})},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",$,[Object(c["createElementVNode"])("span",H,Object(c["toDisplayString"])(o.translate("account.wallet.choose")),1),Object(c["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(c["createVNode"])(l,{name:"close"})])])]})),content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",G,[Object(c["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[1]||(t[1]=function(e){return o.selectAll()})},{default:Object(c["withCtx"])((function(){return[Q]})),_:1}),Object(c["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[2]||(t[2]=function(e){return o.selectPopularOnly()})},{default:Object(c["withCtx"])((function(){return[X]})),_:1}),Object(c["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[3]||(t[3]=function(e){return o.unSelectAll()})},{default:Object(c["withCtx"])((function(){return[Y]})),_:1})]),Object(c["createElementVNode"])("div",ee,[Object(c["createVNode"])(l,{classes:"absolute w-5 h-5 top-3 left-3 dark:text-gray-300",name:"search"}),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.keyword=t}),"aria-label":"Search...",class:"form-input px-10 w-full",type:"text"},null,512),[[c["vModelText"],e.keyword]]),""!==e.keyword?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",{key:0,class:"absolute top-3 right-3 dark:text-gray-400 cursor-pointer",onClick:t[5]||(t[5]=function(t){return e.keyword=""})},[Object(c["createVNode"])(l,{classes:"w-5 h-5",name:"close"})])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",te,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.altCoinsList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t,class:Object(c["normalizeClass"])("w-24 w-24 p-3 cursor-pointer hover:border-blue-700 dark:hover:border-blue-500 text-center border-2 inline-block rounded-md shadow flex items-center justify-center flex-col ".concat(o.isSelected(e)?"border-green-500":"border-gray-300 dark:border-gray-500")),onClick:function(t){return o.toggleAltCoinsSelection(e)}},[Object(c["createElementVNode"])("img",{src:o.generateIconUrl(e.Name),alt:"",class:"w-10 h-10 mb-2 mx-auto"},null,8,ce),Object(c["createElementVNode"])("p",oe,Object(c["toDisplayString"])(e.Name),1)],10,ne)})),128))])]})),_:1},8,["maxWidth","show"])}n("4de4"),n("a434");var re=n("714b"),le=n("4032"),se=n("cdae"),ie=n("5502"),de=n("2e13"),ue=n("2ef0"),me={name:"AltCoinsModal",components:{Modal:re["a"],JButton:le["a"],Icon:se["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("emitter"),n=Object(ie["b"])(),o=Object(de["a"])(),a=o.generateIconUrl,r=Object(c["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,keyword:"",selectedAltCoinsList:[]}),l=Object(c["computed"])((function(){return n.state.altCoins})),s=Object(c["computed"])((function(){var e=ue["orderBy"](l.value,[function(e){return e.Name.toLowerCase()}],"asc");return e.filter((function(e){if(r.keyword&&""!==r.keyword){var t=r.keyword.toLowerCase();return-1!==e.Name.toLowerCase().indexOf(t)||-1!==e.ShortName.toLowerCase().indexOf(t)||-1!==e.LongName.toLowerCase().indexOf(t)}return!0}))})),i=function(){r.show=!1,r.confirmHook(r.selectedAltCoinsList)},d=function(e){return-1!==ue["findIndex"](r.selectedAltCoinsList,{ID:e.ID})},u=function(){r.selectedAltCoinsList=l.value},m=function(){r.selectedAltCoinsList=l.value.filter((function(e){return 1===e.BuyEnabled&&0===e.vFiat}))},b=function(){r.selectedAltCoinsList=[],r.selectedAltCoins="1,8,9,2"},p=function(e){var t=ue["findIndex"](r.selectedAltCoinsList,{ID:e.ID});-1!==t?r.selectedAltCoinsList.splice(t,1):r.selectedAltCoinsList.push(e)};return Object(c["onBeforeMount"])((function(){t.on("altCoinsModal",(function(e){r.selectedAltCoinsList=e.selectedAltCoinsList||[],r.confirmHook=e.confirm,r.show=!0}))})),Object(W["a"])(Object(W["a"])({translate:e},Object(c["toRefs"])(r)),{},{closeModal:i,generateIconUrl:a,altCoinsList:s,isSelected:d,toggleAltCoinsSelection:p,selectAll:u,selectPopularOnly:m,unSelectAll:b})}},be=n("6b0d"),pe=n.n(be);const fe=pe()(me,[["render",ae]]);var je=fe,Oe=n("2e4e"),we=n("ea45"),he=n("6c02"),ge=n("8923"),ve=n("df85"),ye=n("3933"),xe={name:"Signup",components:{AuthLayout:Z["a"],vueRecaptcha:Oe["a"],JButton:le["a"],Icon:se["a"],AltCoinsModal:je},setup:function(){var e=Object(ve["b"])(),t=e.cookies,n=Object(c["ref"])(null),o=Object(c["inject"])("http"),a=Object(c["inject"])("toast"),r=Object(c["inject"])("emitter"),l=Object(c["inject"])("translate"),s=Object(ie["b"])(),i=Object(he["e"])(),d=Object(we["a"])(),u=d.validate,m=d.showError,b=Object(de["a"])(),p=b.generateIconUrl,f=b.saveNotification,j=Object(c["reactive"])({reCaptchaAPIKey:"6LdOLTEUAAAAAGDKKH5DMUQbW8PtXjimV6ZDrBKr",form:{ownernickname:"",ownerpassword:"",email:"",selectedaltcoins:[],locale:"EN",totp:"000000",reCaptcha:""},errorBag:{},rules:{ownernickname:["required","regex:/^[a-zA-Z0-9.]{1,60}$/"],email:["required","email"],selectedaltcoins:["required"],locale:["required"],totp:["required"],reCaptcha:["required"]},messages:{ownernickname:{required:"Username is required",regex:"Username should only contain alpha numeric, max 60 characters"},ownerpassword:{required:"Password is required",regex:"Password is not valid"},email:{required:"Email is required",email:"Please provide a valid email"},selectedaltcoins:{required:"Please select at least 1 coin"},locale:{required:"Please select language"},totp:{integer:"Only numeric value is allowed"},reCaptcha:{required:"Verify you are not a robot"}},facebook:null,isSocial:!1,isProcessing:!1,isValidPassword:null}),O=Object(c["computed"])((function(){return s.state.mode})),w=Object(c["computed"])((function(){return s.state.isLoggedIn})),h=Object(c["computed"])((function(){return s.state.languages})),g=Object(c["computed"])((function(){return"\n            <p>1- Password should be minimal 6 and max 60 characters</p>\n            <p>2. At least one digit 0-9</p>\n            <p>3- At least one lowercase character a-z</p>\n            <p>4- At least one uppercase character A-Z</p>\n            <p>5- At least one allowed special character @$%#?&!*.+_|&#34;%&#39;&#60;&#62;(),/;=[]{}~</p>\n        "}));Object(c["watch"])((function(){return Object(W["a"])({},j.form)}),(function(e,t){Object.keys(j.errorBag).length>0&&(j.errorBag=u(j.form,j.rules,j.messages))}));var v="https://app.cointopay.com",y=function(e){j.form.reCaptcha=e},x=function(){n.value.reset(),j.form.reCaptcha=""},V=function(){},k=function(){r.emit("altCoinsModal",{selectedAltCoinsList:j.form.selectedaltcoins,confirm:function(e){j.form.selectedaltcoins=e}})},N=function(e){for(var t=0,n=0;n<e.length;n++){var c=e.charCodeAt(n);t=(t<<5)-t+c,t&=t}return t},E=function(e){"facebook"===e&&j.facebook.signIn().then((function(e){e&&(j.isSocial=!0,"undefined"!==typeof e.email?C(e):a.error("Please verify your email to your Facebook account or signup with your email manually"))})).catch((function(e){console.log(e)}))},C=function(e){var t=new URL(window.location.href),n=t.searchParams.get("r");n=null===n?0:n;var c="",r={Call:"CreateAccount",MerchantID:1,APIKey:"_",selectedaltcoins:1,shoptitle:e.name.replace(/ /g,"").toLowerCase(),email:e.email,ownernickname:e.email.replace(/[^a-z0-9]/gi,""),ownerpassword:e.id,locale:"EN",Sticky:1,r:n,output:"json"};o.get("".concat(v,"/v2REAPI"),{params:r}).then((function(t){if(t.data==="The Username "+r.ownernickname+" exists"){c=t.data;var n=r.ownernickname,l=N(n);r={User:n,Password:e.id,totp:"000000",api:l,output:"json"},o.get("".concat(v,"/Login"),{params:r}).then((function(t){if("Session already exists"===t.data)a.error(t.data);else{var c=t.data;c.Username=n,S(c,e.id)}})).catch((function(e){console.log(e),""!==c?(f(c),a.error(c)):a.error(e.response.data)}))}else{var s=t.data;s.Username=r.ownernickname,S(s,r.Password)}})).catch((function(e){j.isSocial&&j.facebook.signOut().then((function(){})),console.log(e)}))},S=function(e,n){delete e.Status,t.set("JSESSIONID",e.SessionID,{expires:"1Y",domain:".cointopay.com"}),s.dispatch(ge["q"],e).then((function(){s.dispatch(ge["i"],{User:e.Username,Password:n}),s.dispatch(ge["b"]).then((function(e){s.commit(ge["P"],!0),i.push({name:"wallet"})})).catch((function(e){console.log(e.response)}))}))},A=function(){if(j.errorBag=u(j.form,j.rules,j.messages),0===Object.keys(j.errorBag).length&&j.isValidPassword){j.isProcessing=!0;var e=new URL(window.location.href),n=e.searchParams.get("r");n=null===n?0:n;var c={Call:"CreateAccount",MerchantID:1,APIKey:"_",shoptitle:j.form.ownernickname,ownernickname:j.form.ownernickname,ownerpassword:encodeURIComponent(j.form.ownerpassword),email:j.form.email,selectedaltcoins:j.form.selectedaltcoins.map((function(e){return e.ID})).join(","),locale:j.form.locale,Sticky:1,r:n,output:"json"};o.get("".concat(v,"/v2REAPI"),{params:c}).then((function(e){if(e.data==="The Username ".concat(j.form.ownernickname," exists, Recover password with Username ").concat(j.form.ownernickname))j.isProcessing=!1,a.error(e.data);else{var n=e.data;delete n.Status,n.Username=j.form.ownernickname,t.set("JSESSIONID",n.SessionID,"7d","/",".cointopay.com",!0,"None"),s.dispatch(ge["q"],n).then((function(){s.dispatch(ge["i"],{User:n.Username,Password:c.ownerpassword}),s.dispatch(ge["b"]).then((function(e){j.isProcessing=!1,i.push({name:"wallet"})})).catch((function(e){j.isProcessing=!1,console.log(e.response)}))}))}})).catch((function(e){j.isProcessing=!1,console.log(e),a.error(e.response.data)}))}},P=function(){var e=/^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+)(?=.*[#?!@$%^&*\-.+_<>|%(),\\/;=\[\]`{}~])[A-Za-z0-9#?!@$%^&*\-.+_<>|%(),\\/;=\[\]`{}~]{6,60}$/;return e.test(j.form.ownerpassword)?j.isValidPassword=!0:j.isValidPassword=!1};return Object(c["onBeforeMount"])((function(){if(j.facebook=new ye["a"]("1018008431912064"),j.facebook&&j.facebook.initialize().then((function(e){})).catch((function(e){console.log(e)})),w.value){var e=s.state.currentRoute;i.push(e)}})),Object(W["a"])(Object(W["a"])({translate:l},Object(c["toRefs"])(j)),{},{vueRecaptcha:n,showError:m,mode:O,languages:h,passwordRules:g,generateIconUrl:p,recaptchaVerified:y,recaptchaExpired:x,recaptchaFailed:V,launchAtlCoinsModal:k,authenticate:E,submit:A,validatePasswordOnKeyup:P})}};n("d326");const Ve=pe()(xe,[["render",J],["__scopeId","data-v-e4239520"]]);t["default"]=Ve},"403a":function(e,t,n){},d326:function(e,t,n){"use strict";n("403a")}}]);
//# sourceMappingURL=signup.81c5b4db.js.map