{"version":3,"sources":["webpack:///./src/components/account/pos/office/Coupons.vue?5504","webpack:///./src/components/account/pos/office/Categories.vue?dd4a","webpack:///./src/views/pos/Office.vue","webpack:///./src/components/account/pos/office/Coupons.vue","webpack:///./src/components/account/pos/modals/office/SaveCouponModal.vue","webpack:///./src/components/account/pos/modals/office/SaveCouponModal.vue?840e","webpack:///./src/components/account/pos/office/Coupons.vue?7282","webpack:///./src/components/account/pos/office/ShippingMethods.vue","webpack:///./src/components/account/pos/modals/office/SaveShippingMethodModal.vue","webpack:///./src/components/account/pos/modals/office/SaveShippingMethodModal.vue?4a9f","webpack:///./src/components/account/pos/office/ShippingMethods.vue?207d","webpack:///./src/components/account/pos/office/Categories.vue","webpack:///./src/components/account/pos/modals/office/SaveCategoryModal.vue","webpack:///./src/components/account/pos/modals/office/SaveCategoryModal.vue?302a","webpack:///./src/components/account/pos/office/Categories.vue?fddd","webpack:///./src/views/pos/Office.vue?9c0f","webpack:///./src/components/account/pos/office/ShippingMethods.vue?f534","webpack:///./src/components/common/Pagination.vue","webpack:///./src/components/common/Pagination.vue?ebac"],"names":["class","_createElementVNode","href","target","for","alt","src","_imports_0","_imports_1","_createBlock","_component_pos_layout","content","_hoisted_1","_hoisted_2","$setup","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onChange","$event","id","type","_hoisted_8","_ctx","_createElementBlock","_hoisted_9","_createVNode","_component_icon","name","classes","_component_j_button","onClick","buttonStyle","size","_hoisted_10","onSubmit","_hoisted_11","placeholder","aria-label","url","disabled","_hoisted_13","_hoisted_14","length","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_component_router_link","to","params","ID","tag","_hoisted_30","rows","readonly","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_component_Categories","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_component_Coupons","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_component_Shipping_methods","_hoisted_43","colspan","_Fragment","coupon","index","key","KeyData","ValueData","_component_save_coupon_modal","_component_modal","maxWidth","show","onClose","title","couponCode","discount","components","Modal","Icon","JButton","setup","translate","inject","emitter","toast","http","store","useStore","showError","validate","validator","saveNotification","compositionUtils","state","reactive","closeable","form","errorBag","rules","messages","required","regex","between","isProcessing","user","computed","coupons","watch","newVal","oldVal","Object","keys","apiBaseUrl","process","closeModal","submit","formData","isValid","value","_","toLowerCase","toString","error","payload","POSDATA","Call","MerchantID","APIKey","output","get","then","response","status","dispatch","FETCH_COUPONS","message","success","catch","errors","console","log","onBeforeMount","on","args","split","Number","toRefs","__exports__","SaveCouponModal","swal","formatCode","code","deleteCoupon","fire","text","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","focusCancel","customClass","container","launchSaveCouponModal","emit","shippingMethod","countryName","shippingCost","_component_pagination","meta","onPage","_component_save_shipping_method_modal","countryId","country","_hoisted_12","generateId","countries","shippingMethods","updateCountryName","shippingMethodsList","action","push","SAVE_SHIPPING_METHODS","data","Pagination","SaveShippingMethodModal","formatPrice","currentPage","totalPages","limit","offset","accountInfo","altCoins","currency","PayoutCurrencyShortName","altCoin","ShortName","LongName","paginatedShippingMethods","slice","updatePage","page","deleteShippingMethod","splice","warning","launchSaveShippingMethodModal","FETCH_SHIPPING_METHODS","category","categoryName","style","categoryColor","_component_save_category_modal","categories","pos","categoriesList","SAVE_CATEGORIES","call","SaveCategoryModal","paginatedCategories","deleteCategory","categoriesLists","launchSaveCategoryModal","POSLayout","Coupons","ShippingMethods","Categories","siteUrl","window","location","protocol","host","isPosEnabled","posCalls","products","showShippingWarning","iframe","apiUrl","importFromCSV","evt","file","files","reader","FileReader","readAsText","onload","result","allTextLines","map","line","i","columns","trim","categoryColourCode","JSON","parse","stringify","categoryIndex","itemName","categoryID","description","stock","sku","price","imageUri","val","productsList","catIndex","importedCategory","product","prodIndex","SAVE_PRODUCTS","onerror","exportToCSV","filename","moment","format","forEach","csvContent","e","join","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","importFromShopify","axios","shopifyProducts","categoryId","Math","floor","random","p","variants","variant","image","images","item","isValidShopifyURL","string","res","match","deleteAllProducts","cancelButtonColor","togglePOS","showpos","status_code","FETCH_SHOP_DATA","shopId","render","aria-hidden","$props","props","emits","isPrev","isNext","pagesLimit","delta","pageRange","current","last","left","right","range","pages","l","activePage","updateLinks","prev","next","reCalculate","test","navigator","userAgent","addEventListener","onBeforeUnmount","removeEventListener"],"mappings":"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","file":"assets/js/account-pos-office.a672b136.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Coupons.vue?vue&type=style&index=0&id=2a086b86&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Categories.vue?vue&type=style&index=0&id=b1aacce6&scoped=true&lang=scss\"","<template>\r\n  <pos-layout>\r\n    <template v-slot:content>\r\n      <div class=\"card\">\r\n        <div class=\"title\">\r\n          <h5>{{ translate('pos.office.product_catalog') }}</h5>\r\n        </div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <div class=\"text-center w-full md:w-4/5 3xl:w-3/5 mx-auto\">\r\n            <a href=\"https://cointopay.com/examplePOS_CSV.csv\" target=\"_blank\"\r\n               class=\"text-blue-500 hover:underline\">Example Import Data</a>\r\n            <div class=\"flex items-center justify-center my-2\">\r\n              <input @change=\"importFromCSV($event)\" class=\"hidden\" id=\"importCSV\" type=\"file\"/>\r\n              <label class=\"btn btn-success w-32 lbl-file\" for=\"importCSV\">\r\n                <span v-if=\"isProcessing\" class=\"mr-3\">\r\n                  <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                </span>\r\n                <span>{{ translate('pos.office.import') }}</span>\r\n              </label>\r\n              <j-button @click=\"exportToCSV()\" buttonStyle=\"success\" size=\"w-32\" class=\"ml-3\">\r\n                {{ translate('pos.office.export') }}\r\n              </j-button>\r\n            </div>\r\n            <p class=\"mb-2\">{{ translate('pos.office.import_from_shopify') }}</p>\r\n            <form @submit.prevent=\"importFromShopify()\" class=\"flex-space-between\">\r\n              <div class=\"flex items-center\">\r\n                <input :placeholder=\"translate('pos.office.shopify_link')\" aria-label=\"url\"\r\n                       class=\"form-input w-full\" type=\"url\" v-model=\"form.url\"/>\r\n                <j-button :disabled=\"isProcessing || !isValidShopifyURL(form.url)\" buttonStyle=\"success\" size=\"w-32\"\r\n                          class=\"ml-3\">\r\n                  <span v-if=\"isProcessing\" class=\"mr-3\">\r\n                    <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                  </span>\r\n                  <span>{{ translate('pos.office.import') }}</span>\r\n                </j-button>\r\n              </div>\r\n            </form>\r\n            <p class=\"mt-2 text-left text-gray-500 text-sm\">https://3sixteen.myshopify.com/products.json?limit=1000</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--Delete All Products-->\r\n      <div class=\"card\" v-if=\"products.length > 0\">\r\n        <div class=\"title\">\r\n          <h5>{{ translate('pos.delete_catalog') }}</h5>\r\n        </div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <div class=\"text-center\">\r\n            <j-button @click=\"deleteAllProducts()\" buttonStyle=\"danger\">\r\n              {{ translate('pos.btn_delete_all_products') }}\r\n            </j-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--Enable/Disable Ecommerce-->\r\n      <div class=\"card\">\r\n        <div class=\"title\">\r\n          <h5>{{ translate('pos.e_commerce') }}</h5>\r\n        </div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12 text-center\">\r\n              <div class=\"w-full rounded shadow px-4 py-3 bg-yellow-500 mb-4 text-yellow-900 font-semibold\"\r\n                   v-if=\"showShippingWarning\">\r\n                {{ translate('pos.shipping_warning_msg') }}\r\n              </div>\r\n              <j-button @click=\"togglePOS(isPosEnabled ? 0 : 1)\" :buttonStyle=\"`${isPosEnabled ? 'danger': 'success'}`\"\r\n                        class=\"mr-2\">\r\n                {{ translate(`${isPosEnabled ? 'pos.btn_disable' : 'pos.btn_enable'}`) }}\r\n              </j-button>\r\n              <div class=\"mt-3\" v-if=\"isPosEnabled\">\r\n                <h5 class=\"font-bold text-lg mb-3\">Shop Link</h5>\r\n                <div class=\"flex items-center justify-center\">\r\n                  <router-link :to=\"{name:'shop-detail', params:{ id: user.ID }}\" class=\"mr-3\" tag=\"a\">\r\n                    {{ siteUrl + '/shop/' + user.ID }}\r\n                  </router-link>\r\n                  <button v-tippy=\"{content: translate('pos.office.help')}\">\r\n                    <icon name=\"question-mark\" classes=\"w-6 h-6 text-yellow-500\"></icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"mt-3\" v-if=\"isPosEnabled\">\r\n                <textarea class=\"form-input w-full md:w-3/5\" rows=\"4\" readonly aria-label=\"\"\r\n                          v-model=\"iframe\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       <!--E-Commerce Categories-->\r\n       <div class=\"card\">\r\n        <div class=\"title\">\r\n          <h5>{{ translate('pos.categories.title') }}</h5>\r\n        </div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <Categories></Categories>\r\n        </div>\r\n      </div>\r\n      <!--E-Commerce Coupons-->\r\n      <div class=\"card\">\r\n        <div class=\"title\">\r\n          <h5>{{ translate('pos.coupons.list_title') }}</h5>\r\n        </div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <Coupons></Coupons>\r\n        </div>\r\n      </div>\r\n      <!--E-Commerce Shipping-->\r\n      <div class=\"card\">\r\n        <div class=\"title\">\r\n          <h5>{{ translate('pos.shipping.title') }}</h5>\r\n        </div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <Shipping-methods></Shipping-methods>\r\n        </div>\r\n      </div>\r\n     \r\n      <!--APPS-->\r\n      <div class=\"card\">\r\n        <div class=\"title\">POS Apps</div>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <div class=\"flex items-center justify-center\">\r\n            <a href=\"https://play.google.com/store/apps/details?id=com.cointopay.pos\" target=\"_blank\">\r\n              <img alt=\"Play store\" src=\"@/assets/images/play_store.png\" class=\"h-10\"/></a>\r\n            <a href=\"https://apps.apple.com/us/app/c-pos/id1459100341\" target=\"_blank\">\r\n              <img alt=\"App store\" src=\"@/assets/images/app_store.svg\" class=\"h-10 ml-2\"/></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </template>\r\n  </pos-layout>\r\n</template>\r\n\r\n<script>\r\nimport POSLayout from '@/components/layouts/POSLayout'\r\nimport JButton from '@/templates/Button'\r\nimport Icon from '@/components/Icon'\r\nimport Coupons from '@/components/account/pos/office/Coupons'\r\nimport ShippingMethods from '@/components/account/pos/office/ShippingMethods'\r\nimport { computed, inject, onBeforeMount, reactive, toRefs } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { FETCH_SHOP_DATA, SAVE_CATEGORIES, SAVE_PRODUCTS, FETCH_SHIPPING_METHODS } from '@/store/keys'\r\nimport * as _ from 'lodash'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport * as moment from 'moment'\r\nimport axios from 'axios'\r\nimport Categories from '../../components/account/pos/office/Categories.vue'\r\n\r\nexport default {\r\n  name: 'Office',\r\n  components: {\r\n    \"pos-layout\": POSLayout,\r\n    Icon,\r\n    JButton,\r\n    Coupons,\r\n    ShippingMethods,\r\n    Categories\r\n},\r\n  setup () {\r\n    const translate = inject('translate')\r\n    const toast = inject('toast')\r\n    const http = inject('http')\r\n    const swal = inject('swal')\r\n\r\n    // Store\r\n    const store = useStore()\r\n\r\n    const {\r\n      saveNotification,\r\n      generateId\r\n    } = compositionUtils()\r\n\r\n    // State\r\n    const state = reactive({\r\n      form: {\r\n        url: ''\r\n      },\r\n      siteUrl: window.location.protocol + '//' + window.location.host,\r\n      isProcessing: false,\r\n      isPosEnabled: false\r\n    })\r\n\r\n    // Computed\r\n    const shippingMethods = computed(() => store.state.shippingMethods)\r\n    const pos = computed(() => store.state.pos)\r\n    const posCalls = computed(() => store.state.posCalls)\r\n    const user = computed(() => store.state.user)\r\n    const products = computed(() => pos.value.products)\r\n    const showShippingWarning = computed(() => {\r\n      return shippingMethods.value.length === 0 && state.isPosEnabled === true\r\n    })\r\n    const iframe = computed(() => {\r\n      // eslint-disable-next-line quotes\r\n      return `<iframe src=\"${state.siteUrl}/shop/${user.value.ID}\" frameborder=\"0\" height=\"550\" name=\"Framename\" scrolling=\"yes\" style=\"width: 100%;\" width=\"550\"></iframe>`\r\n    })\r\n\r\n    // Methods\r\n    const apiUrl = process.env.VUE_APP_API_URL\r\n    const importFromCSV = (evt) => {\r\n      state.isProcessing = true\r\n      const file = evt.target.files[0]\r\n      if (file && _.endsWith(file.name, '.csv')) {\r\n        const reader = new FileReader()\r\n        reader.readAsText(file, 'UTF-8')\r\n        reader.onload = (evt) => {\r\n          const result = evt.target.result\r\n          const allTextLines = result.split(/\\r\\n|\\n/)\r\n          let data = []\r\n          let key = 'categories';\r\n          let i= 0;\r\n          allTextLines.map(line => {\r\n            i++;\r\n            const columns = line.split(',')\r\n            if(columns[0].toLowerCase().trim() == 'categories'){\r\n              key = 'categories';\r\n            }\r\n            else if(columns[0].toLowerCase().trim() == 'products'){\r\n              key = 'products'\r\n            }else if (columns.length > 1) {\r\n              if (key.toLowerCase() === 'categories') {\r\n                console.log(\"Pushing categories\")\r\n                console.log(columns)\r\n                data.push({\r\n                  id: columns[0],\r\n                  name: columns[1],\r\n                  categoryColourCode: columns[2]\r\n                })\r\n              } else {\r\n                // Push to category\r\n                if (data) {\r\n                  data = JSON.parse(JSON.stringify(data))\r\n                  if(columns[2]){\r\n                    const categoryIndex = _.findIndex(data, { id: columns[2] })\r\n                    if(categoryIndex != -1){\r\n                      if (typeof data[categoryIndex].products === 'undefined') {\r\n                        data[categoryIndex].products = []\r\n                      }\r\n                      data[categoryIndex].products.push({\r\n                        id: columns[0],\r\n                        itemName: columns[1],\r\n                        categoryID: columns[2],\r\n                        description: columns[3],\r\n                        stock: columns[4],\r\n                        sku: columns[5],\r\n                        price: columns[6],\r\n                        imageUri: columns[7]\r\n                      })\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              const val = columns[0].toLowerCase()\r\n              if (val === 'products' || val === 'categories') {\r\n                key = columns[0]\r\n              }\r\n            }\r\n          })\r\n          if (data.length > 0) {\r\n            const categoriesList = _.cloneDeep(pos.value.categories)\r\n            const productsList = _.cloneDeep(pos.value.products)\r\n            data.map(category => {\r\n              const catIndex = _.findIndex(categoriesList, { id: category.id })\r\n              const importedCategory = {\r\n                id: category.id,\r\n                name: category.name,\r\n                categoryColourCode: category.categoryColourCode\r\n              }\r\n              if (catIndex === -1) {\r\n                categoriesList.push(importedCategory)\r\n              } else {\r\n                categoriesList.splice(catIndex, 1, importedCategory)\r\n              }\r\n              if (category.products && category.products.length > 0) {\r\n                category.products.map(product => {\r\n                  const prodIndex = _.findIndex(productsList, { sku: product.sku })\r\n                  if (prodIndex === -1) {\r\n                    productsList.push(product)\r\n                  } else {\r\n                    productsList.splice(prodIndex, 1, product)\r\n                  }\r\n                })\r\n              }\r\n            })\r\n            // Update categories\r\n            store.dispatch(SAVE_CATEGORIES, {\r\n              call: posCalls.value.categories,\r\n              data: categoriesList\r\n            })\r\n            // Update products\r\n            store.dispatch(SAVE_PRODUCTS, {\r\n              call: posCalls.value.products,\r\n              data: productsList\r\n            })\r\n            state.isProcessing = false\r\n            toast.success('Products imported successfully!')\r\n            saveNotification('Products imported successfully!')\r\n          } else {\r\n            state.isProcessing = false\r\n            toast.error('Please provide a valid csv file')\r\n            saveNotification('Please provide a valid csv file')\r\n          }\r\n        }\r\n        reader.onerror = (error) => {\r\n          state.isProcessing = false\r\n          console.log(error)\r\n        }\r\n      } else {\r\n        state.isProcessing = false\r\n        toast.error('Please provide a valid csv file')\r\n        saveNotification('Please provide a valid csv file')\r\n      }\r\n    }\r\n    const exportToCSV = () => {\r\n      const filename = moment().format('DD-MM-YYYY_H_m_A') + '_Cointopay_' + user.value.ID + '_catalog_export.csv'\r\n      const data = []\r\n      if (pos.value.categories.length > 0) {\r\n        data.push(['Categories'])\r\n        pos.value.categories.forEach(category => {\r\n          data.push([\r\n            category.id,\r\n            category.name,\r\n            category.categoryColourCode\r\n          ])\r\n        })\r\n      }\r\n      if (pos.value.products.length > 0) {\r\n        data.push(['Products'])\r\n        pos.value.products.forEach(product => {\r\n          data.push([\r\n            product.id,\r\n            product.itemName,\r\n            product.categoryID,\r\n            product.description,\r\n            product.stock,\r\n            product.sku,\r\n            product.price,\r\n            product.imageUri\r\n          ])\r\n        })\r\n      }\r\n      const csvContent = 'data:text/csv;charset=utf-8,' + data.map(e => e.join(',')).join('\\n')\r\n      const encodedUri = encodeURI(csvContent)\r\n      const link = document.createElement('a')\r\n      link.setAttribute('href', encodedUri)\r\n      link.setAttribute('download', filename)\r\n      document.body.appendChild(link)\r\n      link.click()\r\n    }\r\n    const importFromShopify = () => {\r\n      const url = state.form.url\r\n      if (url) {\r\n        state.isProcessing = true\r\n        axios.get(`${url}`).then(response => {\r\n          const shopifyProducts = response.data.products\r\n          // Delete old products if any\r\n          const categories = _.cloneDeep(pos.value.categories)\r\n          const category = _.find(categories, { name: 'Shopify' })\r\n          let categoryId = null\r\n          let products = _.cloneDeep(pos.value.products)\r\n          if (category) {\r\n            categoryId = category.id\r\n          } else {\r\n            // Create category\r\n            categoryId = generateId(categories)\r\n            categories.push({\r\n              id: categoryId,\r\n              name: 'Shopify',\r\n              categoryColourCode: Math.floor(Math.random() * 16777215).toString(16)\r\n            })\r\n            store.dispatch(SAVE_CATEGORIES, {\r\n              call: 'INSERT',\r\n              data: categories\r\n            })\r\n          }\r\n          const p = []\r\n          shopifyProducts.map(product => {\r\n            if (product.variants) {\r\n              product.variants.map(variant => {\r\n                const image = product.images[0]\r\n                p.push({\r\n                  id: variant.id.toString(),\r\n                  categoryID: categoryId,\r\n                  itemName: product.title,\r\n                  description: '',\r\n                  sku: variant.sku,\r\n                  price: variant.price,\r\n                  stock: '9999999',\r\n                  imageUri: image ? image.src : ''\r\n                })\r\n              })\r\n            }\r\n          })\r\n          if (products.length > 0) {\r\n            // Update products\r\n            p.map(item => {\r\n              const index = _.findIndex(products, { sku: item.sku })\r\n              if (index !== -1) {\r\n                products[index] = item\r\n              } else {\r\n                products.push(item)\r\n              }\r\n            })\r\n          } else {\r\n            products = p\r\n          }\r\n          store.dispatch(SAVE_PRODUCTS, {\r\n            call: 'UPDATE',\r\n            data: products\r\n          }).then(response => {\r\n            state.isProcessing = false\r\n            state.form.url = ''\r\n            toast.success('Products imported successfully!')\r\n            saveNotification('Products imported successfully!')\r\n          }).catch(error => {\r\n            state.isProcessing = false\r\n            if (error.toLowerCase() === 'update failed') {\r\n              toast.warning('Import failed due to unsupported encoding')\r\n              saveNotification('Import failed due to unsupported encoding')\r\n            }\r\n          })\r\n        }, error => {\r\n          state.isProcessing = false\r\n          console.log(error)\r\n        })\r\n      }\r\n    }\r\n    const isValidShopifyURL = (string) => {\r\n      // eslint-disable-next-line no-useless-escape\r\n      const res = string.match(/(http(s)?):\\/\\/[^.\\s]+(.myshopify)?\\.com\\/products.json/)\r\n      return (res !== null)\r\n    }\r\n    const deleteAllProducts = () => {\r\n      swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'You won\\'t be able to revert this!',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Yes, delete it!',\r\n        customClass: {\r\n          container: 'swal2-tailwind'\r\n        }\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          // Delete all products\r\n          store.dispatch(SAVE_PRODUCTS, {\r\n            call: posCalls.value.products,\r\n            data: []\r\n          })\r\n          store.dispatch(SAVE_CATEGORIES, {\r\n            call: \"DELETE\",\r\n            data: []\r\n          })\r\n          toast.success('Products deleted successfully')\r\n          saveNotification('Products deleted successfully')\r\n        }\r\n      })\r\n    }\r\n    const togglePOS = (status) => {\r\n      const payload = {\r\n        Call: 'SHOWPOS',\r\n        MerchantID: user.value.ID,\r\n        APIKey: user.value.APIKey,\r\n        showpos: status,\r\n        output: 'json'\r\n      }\r\n      http.get(`${apiUrl}/v2REAPI`, {\r\n        params: payload\r\n      }).then(response => {\r\n        if (response.data.status_code === 200) {\r\n          toast.success(status === 1 ? 'POS enabled successfully' : 'POS disabled successfully')\r\n          state.isPosEnabled = status === 1\r\n        } else {\r\n          toast.warning(response.data.message)\r\n          saveNotification(response.data.message)\r\n        }\r\n      }).catch(error => {\r\n        toast.warning(error.message)\r\n        saveNotification(error.message)\r\n      })\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      store.dispatch(FETCH_SHOP_DATA, {\r\n        shopId: user.value.ID\r\n      }).then(response => {\r\n        if (response.products !== 'nothing found') {\r\n          state.isPosEnabled = true\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n      // Fetch Shipping Methods\r\n      store.dispatch(FETCH_SHIPPING_METHODS)\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      isValidShopifyURL,\r\n      user,\r\n      importFromCSV,\r\n      exportToCSV,\r\n      importFromShopify,\r\n      deleteAllProducts,\r\n      products,\r\n      showShippingWarning,\r\n      togglePOS,\r\n      iframe\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","<template>\r\n  <div class=\"text-right mb-3\">\r\n    <j-button @click=\"launchSaveCouponModal()\">{{ translate('pos.coupons.btn_add') }}</j-button>\r\n  </div>\r\n  <div\r\n    class=\"w-full scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600\">\r\n    <table class=\"table-sm\">\r\n      <thead>\r\n      <tr>\r\n        <th class=\"whitespace-nowrap\">{{ translate('pos.coupons.headings.coupon_code') }}</th>\r\n        <th>{{ translate('pos.coupons.headings.discount') }}</th>\r\n        <th class=\"w-32\">{{ translate('pos.coupons.headings.actions') }}</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr :key=\"index\" v-for=\"(coupon, index) in coupons\">\r\n        <td>{{ formatCode(coupon.KeyData) }}</td>\r\n        <td>{{ `${coupon.ValueData}%` }}</td>\r\n        <td>\r\n          <button @click=\"launchSaveCouponModal(coupon)\" class=\"hover:text-blue-500 mr-2\">\r\n            <icon name=\"edit\"></icon>\r\n          </button>\r\n          <button @click=\"deleteCoupon(coupon)\" class=\"hover:text-red-500\" type=\"button\">\r\n            <icon name=\"trash\"></icon>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"coupons.length === 0\">\r\n        <td colspan=\"3\">{{ translate('pos.coupons.no_data') }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <!-- Save Coupon Modal -->\r\n  <save-coupon-modal></save-coupon-modal>\r\n</template>\r\n\r\n<script>\r\nimport { computed, inject, onBeforeMount } from 'vue'\r\nimport SaveCouponModal from '@/components/account/pos/modals/office/SaveCouponModal'\r\nimport Icon from '@/components/Icon'\r\nimport JButton from '@/templates/Button'\r\nimport { useStore } from 'vuex'\r\nimport { FETCH_COUPONS } from '@/store/keys'\r\n\r\nexport default {\r\n  name: 'Coupons',\r\n  components: {\r\n    Icon,\r\n    JButton,\r\n    SaveCouponModal\r\n  },\r\n  setup () {\r\n    const translate = inject('translate')\r\n    const http = inject('http')\r\n    const swal = inject('swal')\r\n    const toast = inject('toast')\r\n    const emitter = inject('emitter')\r\n\r\n    // Store\r\n    const store = useStore()\r\n\r\n    // Computed\r\n    const user = computed(() => store.state.user)\r\n    const coupons = computed(() => store.state.coupons)\r\n    // Methods\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    const formatCode = (code) => {\r\n      return code ? code.split('coupon')[1] : '';\r\n    }\r\n    const deleteCoupon = (coupon) => {\r\n      swal.fire({\r\n        title: 'Coupon',\r\n        text: 'Are you sure, want to delete this coupon?',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        confirmButtonText: 'Yes',\r\n        cancelButtonText: 'No',\r\n        focusCancel: true,\r\n        customClass: {\r\n          container: 'swal2-tailwind'\r\n        }\r\n      }).then(({ value }) => {\r\n        if (value && value === true) {\r\n          // Delete coupon\r\n          http.get(`${apiBaseUrl}/MarketAPI`, {\r\n            params: {\r\n              POSDATA: '',\r\n              Call: 'DELETE',\r\n              KeyData: coupon.KeyData,\r\n              MerchantID: user.value.ID,\r\n              APIKey: user.value.APIKey,\r\n              output: 'json'\r\n            }\r\n          }).then(response => {\r\n            if (response.status === 200) {\r\n              toast.success('Coupon deleted successfully')\r\n              store.dispatch(FETCH_COUPONS, {\r\n                MerchantID: user.value.ID,\r\n                APIKey: user.value.APIKey\r\n              })\r\n            }\r\n          }).catch(errors => {\r\n            console.log(errors)\r\n          })\r\n        }\r\n      })\r\n    }\r\n    const launchSaveCouponModal = (coupon = null) => {\r\n      emitter.emit('saveCouponModal', {\r\n        coupon: coupon\r\n      })\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      store.dispatch(FETCH_COUPONS, {\r\n        MerchantID: user.value.ID,\r\n        APIKey: user.value.APIKey\r\n      })\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      coupons,\r\n      formatCode,\r\n      deleteCoupon,\r\n      launchSaveCouponModal\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.table-sm {\r\n  thead {\r\n    tr {\r\n      th:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    tr {\r\n      td:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <modal :maxWidth=\"maxWidth\" :show=\"show\" @close=\"closeModal()\">\r\n    <template #title>\r\n      <div class=\"flex items-center justify-between\">\r\n        <span>{{ translate('pos.coupons.title') }}</span>\r\n        <span class=\"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer\"\r\n              @click=\"closeModal()\">\r\n          <icon name=\"close\"></icon>\r\n        </span>\r\n      </div>\r\n    </template>\r\n    <template #content>\r\n      <form @submit.prevent=\"submit()\">\r\n        <div class=\"mb-2\">\r\n          <div class=\"flex items-center justify-between mb-1\">\r\n            <label>{{ translate('pos.coupons.coupon_code') }}</label>\r\n            <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'couponCode') }}</div>\r\n          </div>\r\n          <input class=\"form-input w-full\" :readonly=\"coupon\" type=\"text\" v-model=\"form.couponCode\"/>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <div class=\"flex items-center justify-between mb-1\">\r\n            <label>{{ translate('pos.coupons.discount') + ' (%)' }}</label>\r\n            <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'discount') }}</div>\r\n          </div>\r\n          <input class=\"form-input w-full\" type=\"text\" v-model=\"form.discount\"/>\r\n        </div>\r\n        <div class=\"mt-4 text-right\">\r\n          <j-button :disabled=\"isProcessing\">\r\n            <div v-if=\"isProcessing\" class=\"mr-3\">\r\n              <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n            </div>\r\n            <span>{{ translate('pos.coupons.btn_save') }}</span>\r\n          </j-button>\r\n        </div>\r\n      </form>\r\n    </template>\r\n  </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from '@/components/Modal'\r\nimport Icon from '@/components/Icon'\r\nimport JButton from '@/templates/Button'\r\nimport { computed, inject, onBeforeMount, reactive, toRefs, watch } from 'vue'\r\nimport validator from '@/validator'\r\nimport { useStore } from 'vuex'\r\nimport * as _ from 'lodash'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport { FETCH_COUPONS } from '@/store/keys'\r\n\r\nexport default {\r\n  name: 'SaveCouponModal',\r\n  components: {\r\n    Modal,\r\n    Icon,\r\n    JButton\r\n  },\r\n  setup () {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const emitter = inject('emitter')\r\n    const toast = inject('toast')\r\n    const http = inject('http')\r\n\r\n    const store = useStore()\r\n\r\n    const {\r\n      showError,\r\n      validate\r\n    } = validator()\r\n    const { saveNotification } = compositionUtils()\r\n\r\n    const state = reactive({\r\n      show: false,\r\n      maxWidth: '2xl',\r\n      closeable: true,\r\n      coupon: null,\r\n      form: {\r\n        couponCode: '',\r\n        discount: ''\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        couponCode: ['required', 'regex:/^[a-zA-Z0-9]+$/'],\r\n        discount: ['required', 'between:1,60']\r\n      },\r\n      messages: {\r\n        couponCode: {\r\n          required: 'Coupon code is required',\r\n          regex: 'Only alphabets and numbers are allowed'\r\n        },\r\n        discount: {\r\n          required: 'Please enter a valid discount',\r\n          between: 'Discount should be a number between 1 and 60'\r\n        }\r\n      },\r\n      isProcessing: false\r\n    })\r\n\r\n    // Computed\r\n    const user = computed(() => store.state.user)\r\n    const coupons = computed(() => store.state.coupons)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      (newVal, oldVal) => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(newVal, state.rules, state.messages)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Methods\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    const closeModal = () => {\r\n      state.show = false\r\n    }\r\n    const submit = () => {\r\n      state.errorBag = validate(state.form, state.rules, state.messages)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.isProcessing = true\r\n        const formData = state.form\r\n        let isValid = true\r\n        let coupon = null\r\n        const couponCode = `${user.value.ID}_coupon${formData.couponCode}`\r\n        if (state.coupon) {\r\n          if (_.findIndex(coupons.value, coupon => {\r\n            return (\r\n              coupon.KeyData.toLowerCase() === couponCode.toLowerCase() &&\r\n              coupon.ID.toString() !== state.coupon.ID.toString()\r\n            )\r\n          }) === -1) {\r\n            coupon = {\r\n              ...state.coupon,\r\n              KeyData: couponCode,\r\n              ValueData: formData.discount\r\n            }\r\n          } else {\r\n            isValid = false\r\n            state.isProcessing = false\r\n            toast.error('Coupon code already exists!')\r\n            saveNotification('Coupon code already exists!')\r\n          }\r\n        } else {\r\n          if (_.findIndex(coupons.value, { KeyData: couponCode }) === -1) {\r\n            coupon = {\r\n              KeyData: couponCode,\r\n              ValueData: formData.discount\r\n            }\r\n          } else {\r\n            isValid = false\r\n            state.isProcessing = false\r\n            toast.error('Coupon code already exists!')\r\n            saveNotification('Coupon code already exists!')\r\n          }\r\n        }\r\n        if (isValid) {\r\n          const payload = {\r\n            POSDATA: '',\r\n            Call: state.coupon ? 'UPDATE' : 'INSERT',\r\n            KeyData: coupon.KeyData,\r\n            ValueData: coupon.ValueData,\r\n            MerchantID: user.value.ID,\r\n            APIKey: user.value.APIKey,\r\n            output: 'json'\r\n          }\r\n          http.get(`${apiBaseUrl}/MarketAPI`, {\r\n            params: payload\r\n          }).then(response => {\r\n            state.isProcessing = false\r\n            if (response.status === 200) {\r\n              store.dispatch(FETCH_COUPONS, {\r\n                MerchantID: user.value.ID,\r\n                APIKey: user.value.APIKey\r\n              })\r\n              const message = state.coupon ? 'Coupon updated successfully' : 'Coupon added successfully'\r\n              toast.success(message)\r\n              saveNotification(message)\r\n              closeModal()\r\n            }\r\n          }).catch(errors => {\r\n            state.isProcessing = false\r\n            console.log(errors)\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      emitter.on('saveCouponModal', (args) => {\r\n        state.coupon = args.coupon || null\r\n        state.form = {\r\n          couponCode: state.coupon ? state.coupon.KeyData.split('coupon')[1] : '',\r\n          discount: state.coupon ? Number(state.coupon.ValueData) : ''\r\n        }\r\n        state.show = true\r\n      })\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      showError,\r\n      closeModal,\r\n      submit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./SaveCouponModal.vue?vue&type=template&id=759a8b9f\"\nimport script from \"./SaveCouponModal.vue?vue&type=script&lang=js\"\nexport * from \"./SaveCouponModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Coupons.vue?vue&type=template&id=2a086b86&scoped=true\"\nimport script from \"./Coupons.vue?vue&type=script&lang=js\"\nexport * from \"./Coupons.vue?vue&type=script&lang=js\"\n\nimport \"./Coupons.vue?vue&type=style&index=0&id=2a086b86&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a086b86\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"text-right mb-3\">\r\n    <j-button @click=\"launchSaveShippingMethodModal()\">{{ translate('pos.shipping.btn_add') }}</j-button>\r\n  </div>\r\n  <div\r\n    class=\"w-full scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600\">\r\n    <table class=\"table-sm\">\r\n      <thead>\r\n      <tr>\r\n        <th class=\"whitespace-nowrap\">{{ translate('pos.shipping.headings.country') }}</th>\r\n        <th class=\"whitespace-nowrap\">{{ translate('pos.shipping.headings.shipping_method') }}</th>\r\n        <th class=\"whitespace-nowrap\">{{ translate('pos.shipping.headings.shipping_cost') }}</th>\r\n        <th class=\"w-32\">{{ translate('pos.shipping.headings.actions') }}</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr :key=\"index\" v-for=\"(shippingMethod, index) in paginatedShippingMethods\">\r\n        <td>{{ shippingMethod.countryName }}</td>\r\n        <td>{{ shippingMethod.shippingMethod }}</td>\r\n        <td>{{ formatPrice(shippingMethod.shippingCost, currency) }}</td>\r\n        <td>\r\n          <button @click=\"launchSaveShippingMethodModal(shippingMethod)\" class=\"hover:text-blue-500 mr-2\">\r\n            <icon name=\"edit\"></icon>\r\n          </button>\r\n          <button @click=\"deleteShippingMethod(index)\" class=\"hover:text-red-500\" type=\"button\">\r\n            <icon name=\"trash\"></icon>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr v-if=\"shippingMethods.length === 0\">\r\n        <td colspan=\"4\">{{ translate('pos.shipping.no_data') }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <template v-if=\"shippingMethods.length > 0\">\r\n    <pagination :meta=\"meta\" @page=\"updatePage\"></pagination>\r\n  </template>\r\n  <!-- Save Shipping Method Modal -->\r\n  <save-shipping-method-modal></save-shipping-method-modal>\r\n</template>\r\n\r\n<script>\r\nimport Icon from '@/components/Icon'\r\nimport JButton from '@/templates/Button'\r\nimport Pagination from '@/components/common/Pagination'\r\nimport { computed, inject, onBeforeMount, reactive, toRefs } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport * as _ from 'lodash'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport { FETCH_SHIPPING_METHODS, SAVE_SHIPPING_METHODS } from '@/store/keys'\r\nimport SaveShippingMethodModal from '@/components/account/pos/modals/office/SaveShippingMethodModal'\r\n\r\nexport default {\r\n  name: 'ShippingMethods',\r\n  components: {\r\n    Icon,\r\n    JButton,\r\n    Pagination,\r\n    SaveShippingMethodModal\r\n  },\r\n  setup () {\r\n    const translate = inject('translate')\r\n    const swal = inject('swal')\r\n    const toast = inject('toast')\r\n    const emitter = inject('emitter')\r\n\r\n    // Store\r\n    const store = useStore()\r\n\r\n    const { formatPrice } = compositionUtils()\r\n\r\n    // State\r\n    const state = reactive({\r\n      meta: {\r\n        currentPage: 1,\r\n        totalPages: 0,\r\n        limit: 25,\r\n        offset: 0\r\n      }\r\n    })\r\n\r\n    // Computed\r\n    const accountInfo = computed(() => store.state.accountInfo)\r\n    const altCoins = computed(() => store.state.altCoins)\r\n    const shippingMethods = computed(() => store.state.shippingMethods)\r\n    const currency = computed(() => {\r\n      let currency = 'EUR'\r\n      if (accountInfo.value) {\r\n        currency = accountInfo.value.PayoutCurrencyShortName\r\n        // Convert short name to long name\r\n        const altCoin = _.find(altCoins.value, { ShortName: accountInfo.value.PayoutCurrencyShortName })\r\n        if (altCoin) {\r\n          currency = altCoin.LongName\r\n        }\r\n      }\r\n      return currency\r\n    })\r\n    const paginatedShippingMethods = computed(() => {\r\n      if (shippingMethods.value.length > 0) {\r\n        return shippingMethods.value.slice(\r\n          state.meta.offset,\r\n          state.meta.currentPage * state.meta.limit\r\n        )\r\n      }\r\n      return shippingMethods.value\r\n    })\r\n\r\n    // Methods\r\n    // Update page\r\n    const updatePage = (page) => {\r\n      state.meta = {\r\n        ...state.meta,\r\n        currentPage: page,\r\n        offset: (page - 1) * state.meta.limit\r\n      }\r\n    }\r\n    const deleteShippingMethod = (index) => {\r\n      swal.fire({\r\n        title: 'Delivery Option',\r\n        text: 'Are you sure, want to delete this delivery option?',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        confirmButtonText: 'Yes',\r\n        cancelButtonText: 'No',\r\n        focusCancel: true,\r\n        customClass: {\r\n          container: 'swal2-tailwind'\r\n        }\r\n      }).then(({ value }) => {\r\n        if (value && value === true) {\r\n          const shippingMethodsList = _.cloneDeep(shippingMethods.value)\r\n          shippingMethodsList.splice(index, 1)\r\n\r\n          console.log(shippingMethods.value)\r\n          console.log(shippingMethodsList)\r\n          let action = \"UPDATE\"\r\n          if(shippingMethodsList.length == 0){\r\n            action = \"DELETE\";\r\n          }\r\n          store.dispatch(SAVE_SHIPPING_METHODS, {action: action, data: shippingMethodsList}).then(response => {\r\n            toast.success('Shipping options deleted successfully')\r\n          }).catch(errors => {\r\n            toast.warning('Internal Server Error')\r\n          })\r\n        }\r\n      })\r\n    }\r\n    const launchSaveShippingMethodModal = (shippingMethod = null) => {\r\n      emitter.emit('saveShippingMethodModal', {\r\n        shippingMethod: shippingMethod\r\n      })\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      store.dispatch(FETCH_SHIPPING_METHODS)\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      currency,\r\n      shippingMethods,\r\n      paginatedShippingMethods,\r\n      formatPrice,\r\n      updatePage,\r\n      deleteShippingMethod,\r\n      launchSaveShippingMethodModal\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.table-sm {\r\n  thead {\r\n    tr {\r\n      th:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    tr {\r\n      td:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <modal :maxWidth=\"maxWidth\" :show=\"show\" @close=\"closeModal()\">\r\n    <template #title>\r\n      <div class=\"flex items-center justify-between\">\r\n        <span>{{ translate('pos.shipping.title') }}</span>\r\n        <span class=\"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer\"\r\n              @click=\"closeModal()\">\r\n          <icon name=\"close\"></icon>\r\n        </span>\r\n      </div>\r\n    </template>\r\n    <template #content>\r\n      <form @submit.prevent=\"submit()\">\r\n        <div class=\"mb-2\">\r\n          <div class=\"flex items-center justify-between mb-1\">\r\n            <label>{{ translate('pos.shipping.country') }}</label>\r\n            <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'countryId') }}</div>\r\n          </div>\r\n          <select @change=\"updateCountryName()\" class=\"form-select w-full\" v-model=\"form.countryId\">\r\n            <option :key=\"index\" :value=\"country.id\" v-for=\"(country, index) of countries\">\r\n              {{ country.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <div class=\"flex items-center justify-between mb-1\">\r\n            <label>{{ translate('pos.shipping.shipping_method') }}</label>\r\n            <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'shippingMethod') }}</div>\r\n          </div>\r\n          <input class=\"form-input w-full\" type=\"text\" v-model=\"form.shippingMethod\"/>\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <div class=\"flex items-center justify-between mb-1\">\r\n            <label>{{ translate('pos.shipping.shipping_cost') }}</label>\r\n            <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'shippingCost') }}</div>\r\n          </div>\r\n          <input class=\"form-input w-full\" type=\"number\" v-model=\"form.shippingCost\"/>\r\n        </div>\r\n        <div class=\"mt-4 text-right\">\r\n          <j-button :disabled=\"isProcessing\">\r\n            <div v-if=\"isProcessing\" class=\"mr-3\">\r\n              <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n            </div>\r\n            <span>{{ translate('pos.shipping.btn_save') }}</span>\r\n          </j-button>\r\n        </div>\r\n      </form>\r\n    </template>\r\n  </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from '@/components/Modal'\r\nimport Icon from '@/components/Icon'\r\nimport JButton from '@/templates/Button'\r\nimport { computed, inject, onBeforeMount, reactive, toRefs, watch } from 'vue'\r\nimport validator from '@/validator'\r\nimport { useStore } from 'vuex'\r\nimport * as _ from 'lodash'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport { SAVE_SHIPPING_METHODS } from '@/store/keys'\r\n\r\nexport default {\r\n  name: 'SaveShippingMethodModal',\r\n  components: {\r\n    Modal,\r\n    Icon,\r\n    JButton\r\n  },\r\n  setup () {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const emitter = inject('emitter')\r\n    const toast = inject('toast')\r\n\r\n    const store = useStore()\r\n\r\n    const {\r\n      showError,\r\n      validate\r\n    } = validator()\r\n    const {\r\n      generateId\r\n    } = compositionUtils()\r\n\r\n    const state = reactive({\r\n      show: false,\r\n      maxWidth: '2xl',\r\n      closeable: true,\r\n      shippingMethod: null,\r\n      form: {\r\n        countryId: '',\r\n        countryName: '',\r\n        shippingCost: '',\r\n        shippingMethod: ''\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        countryId: ['required'],\r\n        countryName: ['required'],\r\n        shippingCost: ['required'],\r\n        shippingMethod: ['required']\r\n      },\r\n      messages: {\r\n        countryId: {\r\n          required: 'Please select country'\r\n        },\r\n        countryName: {\r\n          required: 'Please select country'\r\n        },\r\n        shippingCost: {\r\n          required: 'Please provide a shipping cost'\r\n        },\r\n        shippingMethod: {\r\n          required: 'Please provide a shipping method'\r\n        }\r\n      },\r\n      isProcessing: false\r\n    })\r\n\r\n    // Computed\r\n    const countries = computed(() => store.state.countries)\r\n    const shippingMethods = computed(() => store.state.shippingMethods)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      (newVal, oldVal) => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(newVal, state.rules, state.messages)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Methods\r\n    const closeModal = () => {\r\n      state.show = false\r\n    }\r\n    const updateCountryName = () => {\r\n      const country = _.find(countries.value, { id: Number(state.form.countryId) })\r\n      if (country) {\r\n        state.form.countryName = country.name\r\n      }\r\n    }\r\n    const submit = () => {\r\n      state.errorBag = validate(state.form, state.rules, state.messages)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.isProcessing = true\r\n        const formData = state.form\r\n        const shippingMethodsList = _.cloneDeep(shippingMethods.value)\r\n        let action = \"INSERT\";\r\n        if(shippingMethodsList.length > 0){\r\n          action = \"UPDATE\";\r\n        }\r\n        if (state.shippingMethod) {\r\n          const index = _.findIndex(shippingMethods.value, { id: state.shippingMethod.id })\r\n          shippingMethodsList[index] = {\r\n            id: shippingMethodsList[index].id,\r\n            ...formData\r\n          }\r\n        } else {\r\n          shippingMethodsList.push({\r\n            id: generateId(shippingMethodsList, 'id'),\r\n            ...formData\r\n          })\r\n        }\r\n\r\n        store.dispatch(SAVE_SHIPPING_METHODS, {action: action, data: shippingMethodsList}).then(response => {\r\n          state.isProcessing = false\r\n          toast.success('Shipping options saved successfully')\r\n          closeModal()\r\n        }).catch(errors => {\r\n          state.isProcessing = false\r\n        })\r\n      }\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      emitter.on('saveShippingMethodModal', (args) => {\r\n        state.shippingMethod = args.shippingMethod || null\r\n        state.form = {\r\n          countryId: state.shippingMethod ? state.shippingMethod.countryId : '',\r\n          countryName: state.shippingMethod ? state.shippingMethod.countryName : '',\r\n          shippingCost: state.shippingMethod ? state.shippingMethod.shippingCost : '',\r\n          shippingMethod: state.shippingMethod ? state.shippingMethod.shippingMethod : ''\r\n        }\r\n        state.show = true\r\n      })\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      countries,\r\n      showError,\r\n      closeModal,\r\n      updateCountryName,\r\n      submit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./SaveShippingMethodModal.vue?vue&type=template&id=2fd8fa60\"\nimport script from \"./SaveShippingMethodModal.vue?vue&type=script&lang=js\"\nexport * from \"./SaveShippingMethodModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ShippingMethods.vue?vue&type=template&id=7b9f8697&scoped=true\"\nimport script from \"./ShippingMethods.vue?vue&type=script&lang=js\"\nexport * from \"./ShippingMethods.vue?vue&type=script&lang=js\"\n\nimport \"./ShippingMethods.vue?vue&type=style&index=0&id=7b9f8697&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7b9f8697\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"text-right mb-3\">\r\n      <j-button @click=\"launchSaveCategoryModal()\">{{ translate('pos.products.categories.btn_add') }}</j-button>\r\n    </div>\r\n    <div\r\n      class=\"w-full scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600\">\r\n      <table class=\"table-sm\">\r\n        <thead>\r\n        <tr>\r\n          <th class=\"whitespace-nowrap\">{{ translate('pos.products.categories.category_name') }}</th>\r\n          <th class=\"whitespace-nowrap\">{{ translate('pos.products.categories.color') }}</th>\r\n          <th class=\"w-32\">{{ translate('pos.shipping.headings.actions') }}</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr :key=\"index\" v-for=\"(category, index) in paginatedCategories\">\r\n          <td>{{ category.categoryName }}</td>\r\n          <td :style=\"`background-color: ${category.categoryColor}`\">            <label /></td>\r\n          <td>\r\n            <button @click=\"launchSaveCategoryModal(category)\" class=\"hover:text-blue-500 mr-2\">\r\n              <icon name=\"edit\"></icon>\r\n            </button>\r\n            <button @click=\"deleteCategory(index)\" class=\"hover:text-red-500\" type=\"button\">\r\n              <icon name=\"trash\"></icon>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n        <tr v-if=\"categoriesList.length === 0\">\r\n          <td colspan=\"4\">{{ translate('pos.shipping.no_data') }}</td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <template v-if=\"categoriesList.length > 0\">\r\n      <pagination :meta=\"meta\" @page=\"updatePage\"></pagination>\r\n    </template>\r\n    <!-- Save Shipping Method Modal -->\r\n    <save-category-modal></save-category-modal>\r\n  </template>\r\n  \r\n  <script>\r\n  import Icon from '@/components/Icon'\r\n  import JButton from '@/templates/Button'\r\n  import Pagination from '@/components/common/Pagination'\r\n  import { computed, inject, onBeforeMount, reactive, toRefs } from 'vue'\r\n  import { useStore } from 'vuex'\r\n  import * as _ from 'lodash'\r\n  import compositionUtils from '@/compositionUtils'\r\n  import { FETCH_SHIPPING_METHODS, SAVE_CATEGORIES } from '@/store/keys'\r\n  import SaveCategoryModal from '@/components/account/pos/modals/office/SaveCategoryModal'\r\n  \r\n  export default {\r\n    name: 'Categories',\r\n    components: {\r\n      Icon,\r\n      JButton,\r\n      Pagination,\r\n      SaveCategoryModal\r\n    },\r\n    setup () {\r\n      const translate = inject('translate')\r\n      const swal = inject('swal')\r\n      const toast = inject('toast')\r\n      const emitter = inject('emitter')\r\n  \r\n      // Store\r\n      const store = useStore()\r\n  \r\n      const { formatPrice } = compositionUtils()\r\n  \r\n      // State\r\n      const state = reactive({\r\n        meta: {\r\n          currentPage: 1,\r\n          totalPages: 0,\r\n          limit: 25,\r\n          offset: 0\r\n        }\r\n      })\r\n  \r\n      // Computed\r\n      const accountInfo = computed(() => store.state.accountInfo)\r\n      const categoriesList = computed(() => store.state.pos.categories)\r\n     \r\n      const paginatedCategories = computed(() => {\r\n        if (categoriesList.value.length > 0) {\r\n          return categoriesList.value.slice(\r\n            state.meta.offset,\r\n            state.meta.currentPage * state.meta.limit\r\n          )\r\n        }\r\n        return categoriesList.value\r\n      })\r\n      // Methods\r\n      // Update page\r\n      const updatePage = (page) => {\r\n        state.meta = {\r\n          ...state.meta,\r\n          currentPage: page,\r\n          offset: (page - 1) * state.meta.limit\r\n        }\r\n      }\r\n      const deleteCategory = (index) => {\r\n        swal.fire({\r\n          title: 'Category',\r\n          text: 'Are you sure, want to delete this Category?',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#d33',\r\n          confirmButtonText: 'Yes',\r\n          cancelButtonText: 'No',\r\n          focusCancel: true,\r\n          customClass: {\r\n            container: 'swal2-tailwind'\r\n          }\r\n        }).then(({ value }) => {\r\n          if (value && value === true) {\r\n            const categoriesLists = _.cloneDeep(categoriesList.value)\r\n            categoriesLists.splice(index, 1)\r\n            \r\n            let action = \"UPDATE\"\r\n            if(categoriesLists.length == 0){\r\n              action = \"DELETE\";\r\n            }\r\n  \r\n            store.dispatch(SAVE_CATEGORIES, {call: action, data: categoriesLists}).then(response => {\r\n              toast.success('Category deleted successfully')\r\n            }).catch(errors => {\r\n              toast.warning('Internal Server Error')\r\n            })\r\n          }\r\n        })\r\n      }\r\n      const launchSaveCategoryModal = (category = null) => {\r\n        emitter.emit('saveCategoryModal', {\r\n            category: category\r\n        })\r\n      }\r\n  \r\n      onBeforeMount(() => {\r\n        // store.dispatch(FETCH_SHIPPING_METHODS)\r\n      })\r\n  \r\n      return {\r\n        translate,\r\n        ...toRefs(state),\r\n        categoriesList,\r\n        paginatedCategories,\r\n        formatPrice,\r\n        updatePage,\r\n        deleteCategory,\r\n        launchSaveCategoryModal\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped lang=\"scss\">\r\n  .table-sm {\r\n    thead {\r\n      tr {\r\n        th:first-child {\r\n          @apply pl-3;\r\n        }\r\n      }\r\n    }\r\n  \r\n    tbody {\r\n      tr {\r\n        td:first-child {\r\n          @apply pl-3;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  </style>\r\n  ","<template>\r\n    <modal :maxWidth=\"maxWidth\" :show=\"show\" @close=\"closeModal()\">\r\n      <template #title>\r\n        <div class=\"flex items-center justify-between\">\r\n          <span>{{ translate('pos.products.categories.title') }}</span>\r\n          <span class=\"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer\"\r\n                @click=\"closeModal()\">\r\n            <icon name=\"close\"></icon>\r\n          </span>\r\n        </div>\r\n      </template>\r\n      <template #content>\r\n        <form @submit.prevent=\"submit()\">\r\n          <div class=\"mb-2\">\r\n            <div class=\"flex items-center justify-between mb-1\">\r\n              <label>{{ translate('pos.products.categories.category_name') }}</label>\r\n              <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'categoryName') }}</div>\r\n            </div>\r\n            <input class=\"form-input w-full\" type=\"text\" v-model=\"form.categoryName\"/>\r\n          </div>\r\n          <div class=\"mb-2\" style=\"width: 88px;\">\r\n            <div class=\"flex items-center justify-between mb-1\">\r\n              <label>{{ translate('pos.products.categories.select_color') }}</label>\r\n              <div class=\"text-red-700 dark:text-red-400 text-sm\">{{ showError(errorBag, 'categoryColor') }}</div>\r\n            </div>\r\n            {{ form.categoryColor }}\r\n            <input class=\"form-input w-full\" type=\"color\" v-model=\"form.categoryColor\"/>\r\n          </div>\r\n          <div class=\"mt-4 text-right\">\r\n            <j-button :disabled=\"isProcessing\">\r\n              <div v-if=\"isProcessing\" class=\"mr-3\">\r\n                <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n              </div>\r\n              <span>{{ translate('pos.products.categories.btn_save') }}</span>\r\n            </j-button>\r\n          </div>\r\n        </form>\r\n      </template>\r\n    </modal>\r\n  </template>\r\n  \r\n  <script>\r\n  import Modal from '@/components/Modal'\r\n  import Icon from '@/components/Icon'\r\n  import JButton from '@/templates/Button'\r\n  import { computed, inject, onBeforeMount, reactive, toRefs, watch } from 'vue'\r\n  import validator from '@/validator'\r\n  import { useStore } from 'vuex'\r\n  import * as _ from 'lodash'\r\n  import compositionUtils from '@/compositionUtils'\r\n  import { SAVE_CATEGORIES } from '@/store/keys'\r\n  \r\n  export default {\r\n    name: 'SaveCategoryModal',\r\n    components: {\r\n      Modal,\r\n      Icon,\r\n      JButton\r\n    },\r\n    setup () {\r\n      // Providers\r\n      const translate = inject('translate')\r\n      const emitter = inject('emitter')\r\n      const toast = inject('toast')\r\n  \r\n      const store = useStore()\r\n  \r\n      const {\r\n        showError,\r\n        validate\r\n      } = validator()\r\n      const {\r\n        generateId\r\n      } = compositionUtils()\r\n  \r\n      const state = reactive({\r\n        show: false,\r\n        maxWidth: '2xl',\r\n        closeable: true,\r\n        category: null,\r\n        form: {\r\n          categoryName: '',\r\n          categoryColor: '#000000',\r\n        },\r\n        errorBag: {},\r\n        rules: {\r\n            categoryName: ['required'],\r\n            categoryColor: ['required'],\r\n        },\r\n        messages: {\r\n          categoryName: {\r\n            required: 'Please select category'\r\n          },\r\n          categoryColor: {\r\n            required: 'Please select a color'\r\n          },\r\n        },\r\n        isProcessing: false\r\n      })\r\n  \r\n      // Computed\r\n      const categories = computed(() => store.state.pos.categories)\r\n  \r\n      // Watch\r\n      watch(() => ({ ...state.form }),\r\n        (newVal, oldVal) => {\r\n          if (Object.keys(state.errorBag).length > 0) {\r\n            state.errorBag = validate(newVal, state.rules, state.messages)\r\n          }\r\n        }\r\n      )\r\n  \r\n      // Methods\r\n      const closeModal = () => {\r\n        state.show = false\r\n      }\r\n\r\n      const submit = () => {\r\n        state.errorBag = validate(state.form, state.rules, state.messages)\r\n        if (Object.keys(state.errorBag).length === 0) {\r\n          state.isProcessing = true\r\n          const formData = state.form\r\n          const categoriesList = _.cloneDeep(categories.value)\r\n          let action = \"INSERT\";\r\n\r\n          if(categoriesList.length > 0){\r\n            action = \"UPDATE\";\r\n          }\r\n\r\n          if (state.category) {\r\n            const index = _.findIndex(categories.value, { id: state.category.id })\r\n            categoriesList[index] = {\r\n              id: categoriesList[index].id,\r\n              ...formData\r\n            }\r\n          } else {\r\n            categoriesList.push({\r\n              id: generateId(categoriesList, 'id'),\r\n              ...formData\r\n            })\r\n          }\r\n  \r\n          store.dispatch(SAVE_CATEGORIES, {call: action, data: categoriesList}).then(response => {\r\n            state.isProcessing = false\r\n            toast.success('Category saved successfully')\r\n            closeModal()\r\n          }).catch(errors => {\r\n            state.isProcessing = false\r\n          })\r\n        }\r\n      }\r\n  \r\n      onBeforeMount(() => {\r\n        emitter.on('saveCategoryModal', (args) => {\r\n          state.category = args.category || null\r\n          state.form = {\r\n            categoryName: state.category ? state.category.categoryName : '',\r\n            categoryColor: state.category ? state.category.categoryColor : '#000000',\r\n          }\r\n          state.show = true\r\n        })\r\n      })\r\n  \r\n      return {\r\n        translate,\r\n        ...toRefs(state),\r\n        showError,\r\n        closeModal,\r\n        submit\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  \r\n  </style>\r\n  ","import { render } from \"./SaveCategoryModal.vue?vue&type=template&id=f4201ad4\"\nimport script from \"./SaveCategoryModal.vue?vue&type=script&lang=js\"\nexport * from \"./SaveCategoryModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Categories.vue?vue&type=template&id=b1aacce6&scoped=true\"\nimport script from \"./Categories.vue?vue&type=script&lang=js\"\nexport * from \"./Categories.vue?vue&type=script&lang=js\"\n\nimport \"./Categories.vue?vue&type=style&index=0&id=b1aacce6&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b1aacce6\"]])\n\nexport default __exports__","import { render } from \"./Office.vue?vue&type=template&id=9c6078fe\"\nimport script from \"./Office.vue?vue&type=script&lang=js\"\nexport * from \"./Office.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ShippingMethods.vue?vue&type=style&index=0&id=7b9f8697&scoped=true&lang=scss\"","<template>\r\n  <nav v-if=\"meta.totalPages > 1\" aria-label=\"pagination\" class=\"mt-3\">\r\n\r\n    <ul class=\"inline-flex -space-x-px text-sm md:text-base\">\r\n      <li>\r\n        <a :class=\"{'cursor-not-allowed bg-gray-200 dark:bg-gray-900 dark:hover:text-gray-400': !isPrev}\"\r\n           class=\"px-2 py-2 md:px-3 ml-0 leading-tight text-gray-500 dark:text-gray-400 bg-white rounded-l border border-gray-300 hover:text-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:hover:text-blue-500\"\r\n           href=\"javascript:void(0)\" @click=\"prev()\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li v-for=\"(page, key) in pageRange\" :key=\"key\">\r\n        <a v-if=\"page === '...'\"\r\n           class=\"px-1 py-2 md:px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:text-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-blue-500\"\r\n           href=\"javascript:void(0)\">\r\n          {{ page }}\r\n        </a>\r\n        <a v-else\r\n           :class=\"`px-2 py-2 md:px-3 leading-tight bg-white border border-gray-300 dark:bg-gray-800 dark:border-gray-700 ${page === currentPage ? 'text-blue-500 font-semibold' : 'text-gray-500 dark:text-gray-400' } hover:text-blue-500 dark:hover:text-blue-500`\"\r\n           href=\"javascript:void(0)\" @click=\"updatePage(page)\">\r\n          {{ page }}\r\n          <span v-if=\"page === currentPage\" class=\"sr-only\">(current)</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li>\r\n        <a\r\n          :class=\"{'cursor-not-allowed bg-gray-200 dark:bg-gray-900 dark:hover:bg-text-400': !isNext}\"\r\n          class=\"px-2 py-2 md:px-3 leading-tight text-gray-500 bg-white rounded-r border border-gray-300 hover:text-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-blue-500\"\r\n          href=\"javascript:void(0)\" @click=\"next()\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onBeforeMount, onBeforeUnmount, reactive, toRefs } from 'vue'\r\n\r\nexport default {\r\n  name: 'Pagination',\r\n  props: ['meta'],\r\n  emits: ['page'],\r\n  setup (props, { emit }) {\r\n    // State\r\n    const state = reactive({\r\n      isPrev: false,\r\n      isNext: false,\r\n      pagesLimit: 5,\r\n      currentPage: props.meta.currentPage,\r\n      delta: 3\r\n    })\r\n    // Computed\r\n    const pageRange = computed(() => {\r\n      const current = props.meta.currentPage\r\n      const last = props.meta.totalPages\r\n      const left = current - state.delta\r\n      const right = current + state.delta + 1\r\n      const range = []\r\n      const pages = []\r\n      let l\r\n      for (let i = 1; i <= last; i++) {\r\n        if (i === 1 || i === last || (i >= left && i < right)) {\r\n          range.push(i)\r\n        }\r\n      }\r\n      range.forEach(function (i) {\r\n        if (l) {\r\n          if (i - l === 2) {\r\n            pages.push(l + 1)\r\n          } else if (i - l !== 1) {\r\n            pages.push('...')\r\n          }\r\n        }\r\n        pages.push(i)\r\n        l = i\r\n      })\r\n      return pages\r\n    })\r\n\r\n    // Methods\r\n    const updatePage = (activePage) => {\r\n      if (activePage !== state.currentPage) {\r\n        state.currentPage = activePage\r\n        updateLinks()\r\n        emit('page', state.currentPage)\r\n      }\r\n    }\r\n\r\n    const prev = () => {\r\n      if (state.currentPage > 1) {\r\n        state.currentPage--\r\n      } else {\r\n        state.currentPage = 1\r\n      }\r\n      updateLinks()\r\n      emit('page', state.currentPage)\r\n    }\r\n\r\n    const next = () => {\r\n      if (state.currentPage < props.meta.totalPages) {\r\n        state.currentPage++\r\n      } else {\r\n        state.currentPage = props.meta.totalPages\r\n      }\r\n      updateLinks()\r\n      emit('page', state.currentPage)\r\n    }\r\n    const updateLinks = () => {\r\n      state.isPrev = state.currentPage > 1\r\n      state.isNext = state.currentPage < props.meta.totalPages\r\n    }\r\n\r\n    const reCalculate = () => {\r\n      state.delta = 3\r\n      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n        state.delta = 1\r\n      }\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      updateLinks()\r\n      window.addEventListener('resize', reCalculate)\r\n    })\r\n\r\n    onBeforeUnmount(() => {\r\n      window.removeEventListener('resize', reCalculate)\r\n    })\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      pageRange,\r\n      prev,\r\n      next,\r\n      updatePage\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=526409c7\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}