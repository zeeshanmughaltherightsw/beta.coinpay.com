(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["newsletter"],{"9e55":function(e,t,r){"use strict";var a=r("f2bf"),c={class:"p-4"},o={class:"max-w-7xl 3xl:max-w-8xl mx-auto"},n={class:"flex flex-col md:flex-row space-x-0 md:space-x-4"},l={class:"w-full mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4",style:{"min-height":"calc(100vh - 351px)"}};function s(e,t,r,s,i,u){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",l,[Object(a["renderSlot"])(e.$slots,"default")])])])])}var i={name:"CenteredLayout"},u=r("6b0d"),b=r.n(u);const d=b()(i,[["render",s]]);t["a"]=d},e134:function(e,t,r){"use strict";r.r(t);var a=r("f2bf"),c={class:"card"},o={class:"title"},n=Object(a["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),l={class:"body"},s={class:"grid grid-cols-2"},i={class:"col-span-2 lg:col-span-1"},u={class:"mb-2"},b={class:"text-red-500 text-sm"},d={class:"text-red-500 text-sm"},m={class:"mt-4 text-right"},p={key:0,class:"mr-3"},j={key:0,class:"mr-3"};function f(e,t,r,f,O,h){var v=Object(a["resolveComponent"])("vue-recaptcha"),g=Object(a["resolveComponent"])("icon"),w=Object(a["resolveComponent"])("j-button"),y=Object(a["resolveComponent"])("centered-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(y,null,{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("h5",null,Object(a["toDisplayString"])(f.translate("newsletter.title")),1)]),n,Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("form",null,[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("label",null,Object(a["toDisplayString"])(f.translate("newsletter.email")),1),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.email=t}),autocomplete:"off",class:"form-input w-full",type:"email"},null,512),[[a["vModelText"],e.form.email]]),Object(a["createElementVNode"])("div",b,Object(a["toDisplayString"])(f.showError(e.errorBag,"email")),1)]),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(v,{ref:"vueRecaptcha",siteKey:e.reCaptchaAPIKey,theme:f.mode,size:"normal",onExpire:f.recaptchaExpired,onFail:f.recaptchaFailed,onVerify:f.recaptchaVerified},null,8,["siteKey","theme","onExpire","onFail","onVerify"]),Object(a["createElementVNode"])("div",d,Object(a["toDisplayString"])(f.showError(e.errorBag,"reCaptcha")),1)]),Object(a["createElementVNode"])("div",m,[Object(a["createVNode"])(w,{disabled:""!==e.loader,class:"mb-2 md:mb-0 mr-3",type:"button",buttonStyle:"danger",onClick:t[1]||(t[1]=function(e){return f.unSubscribe()})},{default:Object(a["withCtx"])((function(){return["unsub"===e.loader?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[Object(a["createVNode"])(g,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(f.translate("newsletter.un_subscribe")),1)]})),_:1},8,["disabled"]),Object(a["createVNode"])(w,{disabled:""!==e.loader,type:"button",onClick:t[2]||(t[2]=function(e){return f.subscribe()})},{default:Object(a["withCtx"])((function(){return["sub"===e.loader?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,[Object(a["createVNode"])(g,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(f.translate("newsletter.subscribe")),1)]})),_:1},8,["disabled"])])])])])])])]})),_:1})}var O=r("5530"),h=(r("b64b"),r("9e55")),v=r("4032"),g=r("cdae"),w=r("2e4e"),y=r("ea45"),C=r("2e13"),E=r("5502"),V={name:"Newsletter",components:{CenteredLayout:h["a"],JButton:v["a"],Icon:g["a"],vueRecaptcha:w["a"]},setup:function(){var e=Object(a["ref"])(null),t=Object(a["inject"])("translate"),r=Object(a["inject"])("http"),c=Object(a["inject"])("toast"),o=Object(E["b"])(),n=Object(y["a"])(),l=n.validate,s=n.showError,i=Object(C["a"])(),u=i.saveNotification,b=Object(a["reactive"])({reCaptchaAPIKey:"6LdOLTEUAAAAAGDKKH5DMUQbW8PtXjimV6ZDrBKr",form:{email:"",reCaptcha:"",output:"json"},errorBag:{},rules:{email:["required","email"],reCaptcha:["required"]},messages:{email:{required:"Email address is required",email:"Please provide a valid email address"},reCaptcha:{required:"Verify you are not a robot"}},loader:""}),d=Object(a["computed"])((function(){return o.state.mode}));Object(a["watch"])((function(){return Object(O["a"])({},b.form)}),(function(e,t){Object.keys(b.errorBag).length>0&&(b.errorBag=l(b.form,b.rules,b.messages))}));var m="https://app.cointopay.com",p=function(e){b.form.reCaptcha=e},j=function(){e.value.reset(),b.form.reCaptcha=""},f=function(){},h=function(){if(b.errorBag=l(b.form,b.rules,b.messages),0===Object.keys(b.errorBag).length){b.loader="sub";var t={Subscriber:b.form.email,"g-recaptcha-response":b.form.reCaptcha};r.get("".concat(m,"/Subscribe"),{params:t}).then((function(t){b.loader="",200===t.status&&(c.success("Congratulations! You have subscribed to the Cointopay newsletter."),u("Congratulations! You have subscribed to the Cointopay newsletter."),e.value&&e.value.reset(),b.form={email:"",reCaptcha:""})})).catch((function(t){console.log(t),c.error("Internal Server Error"),b.loader="",e.value&&e.value.reset(),b.form.reCaptcha=""}))}},v=function(){if(b.errorBag=l(b.form,b.rules,b.messages),0===Object.keys(b.errorBag).length){b.loader="unsub";var t={Unsubscriber:b.form.email,"g-recaptcha-response":b.form.reCaptcha};r.get("".concat(m,"/Subscribe"),{params:t}).then((function(t){b.loader="",200===t.status&&(c.success("Congratulations! You have unsubscribed from Cointopay newsletter."),u("Congratulations! You have unsubscribed from Cointopay newsletter."),e.value.reset(),b.form={email:"",reCaptcha:""})})).catch((function(t){console.log(t),c.error("Internal Server Error"),b.loader="",e.value.reset(),b.form.reCaptcha=""}))}};return Object(O["a"])(Object(O["a"])({translate:t},Object(a["toRefs"])(b)),{},{vueRecaptcha:e,mode:d,showError:s,recaptchaVerified:p,recaptchaExpired:j,recaptchaFailed:f,subscribe:h,unSubscribe:v})}},N=r("6b0d"),x=r.n(N);const k=x()(V,[["render",f]]);t["default"]=k}}]);
//# sourceMappingURL=newsletter.0891225d.js.map