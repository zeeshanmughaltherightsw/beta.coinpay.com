{"version":3,"file":"assets/js/newsletter.ee385dd4.js","mappings":"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","sources":["webpack://cointopay/./src/components/layouts/CenteredLayout.vue","webpack://cointopay/./src/components/layouts/CenteredLayout.vue?2f9f","webpack://cointopay/./src/views/Newsletter.vue","webpack://cointopay/./src/views/Newsletter.vue?0473"],"sourcesContent":["<template>\r\n  <div class=\"p-4\">\r\n    <div class=\"max-w-7xl 3xl:max-w-8xl mx-auto\">\r\n      <div class=\"flex flex-col md:flex-row space-x-0 md:space-x-4\">\r\n        <div class=\"w-full mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4\"\r\n          style=\"min-height: calc(100vh - 351px);\">\r\n          <slot/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CenteredLayout'\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./CenteredLayout.vue?vue&type=template&id=99072110\"\nimport script from \"./CenteredLayout.vue?vue&type=script&lang=js\"\nexport * from \"./CenteredLayout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <centered-layout>\r\n    <div class=\"card\">\r\n      <div class=\"title\">\r\n        <h5>{{ translate('newsletter.title') }}</h5>\r\n      </div>\r\n      <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n      <div class=\"body\">\r\n        <div class=\"grid grid-cols-2\">\r\n          <div class=\"col-span-2 lg:col-span-1\">\r\n            <form>\r\n              <div class=\"mb-2\">\r\n                <label>{{ translate('newsletter.email') }}</label>\r\n                <input v-model=\"form.email\" autocomplete=\"off\" class=\"form-input w-full\" type=\"email\"/>\r\n                <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'email') }}</div>\r\n              </div>\r\n              <div>\r\n                <vue-recaptcha ref=\"vueRecaptcha\" :siteKey=\"reCaptchaAPIKey\"\r\n                               :theme=\"mode\" size=\"normal\" @expire=\"recaptchaExpired\"\r\n                               @fail=\"recaptchaFailed\" @verify=\"recaptchaVerified\">\r\n                </vue-recaptcha>\r\n                <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'reCaptcha') }}</div>\r\n              </div>\r\n              <div class=\"mt-4 text-right\">\r\n                <j-button :disabled=\"loader !== ''\" class=\"mb-2 md:mb-0 mr-3\" type=\"button\"\r\n                          buttonStyle='danger' @click=\"unSubscribe()\">\r\n                  <div v-if=\"loader === 'unsub'\" class=\"mr-3\">\r\n                    <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                  </div>\r\n                  <span>{{ translate('newsletter.un_subscribe') }}</span>\r\n                </j-button>\r\n                <j-button :disabled=\"loader !== ''\" type=\"button\" @click=\"subscribe()\">\r\n                  <div v-if=\"loader === 'sub'\" class=\"mr-3\">\r\n                    <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                  </div>\r\n                  <span>{{ translate('newsletter.subscribe') }}</span>\r\n                </j-button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </centered-layout>\r\n</template>\r\n\r\n<script>\r\nimport CenteredLayout from '@/components/layouts/CenteredLayout'\r\nimport JButton from '@/templates/Button'\r\nimport Icon from '@/components/Icon'\r\nimport { inject, reactive, toRefs, computed, watch, ref } from 'vue'\r\nimport vueRecaptcha from 'vue3-recaptcha2'\r\nimport validator from '@/validator'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Newsletter',\r\n  components: { CenteredLayout, JButton, Icon, vueRecaptcha },\r\n  setup () {\r\n    const vueRecaptcha = ref(null)\r\n\r\n    const translate = inject('translate')\r\n    const http = inject('http')\r\n    const toast = inject('toast')\r\n\r\n    const store = useStore()\r\n\r\n    const {\r\n      validate,\r\n      showError\r\n    } = validator()\r\n    const { saveNotification } = compositionUtils()\r\n    // State\r\n    const state = reactive({\r\n      reCaptchaAPIKey: process.env.VUE_APP_GOOGLE_reCAPTCHA_SITE_KEY,\r\n      form: {\r\n        email: '',\r\n        reCaptcha: '',\r\n        output: 'json'\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        email: ['required', 'email'],\r\n        reCaptcha: ['required']\r\n      },\r\n      messages: {\r\n        email: {\r\n          required: 'Email address is required',\r\n          email: 'Please provide a valid email address'\r\n        },\r\n        reCaptcha: {\r\n          required: 'Verify you are not a robot'\r\n        }\r\n      },\r\n      loader: ''\r\n    })\r\n\r\n    // Computed\r\n    const mode = computed(() => store.state.mode)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      (newVal, oldVal) => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(state.form, state.rules, state.messages)\r\n        }\r\n      })\r\n\r\n    // Methods\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    const recaptchaVerified = (response) => {\r\n      state.form.reCaptcha = response\r\n    }\r\n    const recaptchaExpired = () => {\r\n      vueRecaptcha.value.reset()\r\n      state.form.reCaptcha = ''\r\n    }\r\n    const recaptchaFailed = () => {\r\n    }\r\n    const subscribe = () => {\r\n      state.errorBag = validate(state.form, state.rules, state.messages)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.loader = 'sub'\r\n        const payload = {\r\n          Subscriber: state.form.email,\r\n          'g-recaptcha-response': state.form.reCaptcha\r\n        }\r\n        http.get(`${apiBaseUrl}/Subscribe`, {\r\n          params: payload\r\n        }).then(response => {\r\n          state.loader = ''\r\n          if (response.status === 200) {\r\n            toast.success('Congratulations! You have subscribed to the Cointopay newsletter.')\r\n            saveNotification('Congratulations! You have subscribed to the Cointopay newsletter.')\r\n            if (vueRecaptcha.value) {\r\n              vueRecaptcha.value.reset()\r\n            }\r\n            state.form = {\r\n              email: '',\r\n              reCaptcha: ''\r\n            }\r\n          }\r\n        }).catch(error => {\r\n          console.log(error)\r\n          toast.error('Internal Server Error')\r\n          state.loader = ''\r\n          if (vueRecaptcha.value) {\r\n            vueRecaptcha.value.reset()\r\n          }\r\n          state.form.reCaptcha = ''\r\n        })\r\n      }\r\n    }\r\n    const unSubscribe = () => {\r\n      state.errorBag = validate(state.form, state.rules, state.messages)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.loader = 'unsub'\r\n        const payload = {\r\n          Unsubscriber: state.form.email,\r\n          'g-recaptcha-response': state.form.reCaptcha\r\n        }\r\n        http.get(`${apiBaseUrl}/Subscribe`, {\r\n          params: payload\r\n        }).then(response => {\r\n          state.loader = ''\r\n          if (response.status === 200) {\r\n            toast.success('Congratulations! You have unsubscribed from Cointopay newsletter.')\r\n            saveNotification('Congratulations! You have unsubscribed from Cointopay newsletter.')\r\n            vueRecaptcha.value.reset()\r\n            state.form = {\r\n              email: '',\r\n              reCaptcha: ''\r\n            }\r\n          }\r\n        }).catch(error => {\r\n          console.log(error)\r\n          toast.error('Internal Server Error')\r\n          state.loader = ''\r\n          vueRecaptcha.value.reset()\r\n          state.form.reCaptcha = ''\r\n        })\r\n      }\r\n    }\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      vueRecaptcha,\r\n      mode,\r\n      showError,\r\n      recaptchaVerified,\r\n      recaptchaExpired,\r\n      recaptchaFailed,\r\n      subscribe,\r\n      unSubscribe\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Newsletter.vue?vue&type=template&id=717ffaa6\"\nimport script from \"./Newsletter.vue?vue&type=script&lang=js\"\nexport * from \"./Newsletter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_hoisted_2","_hoisted_3","_hoisted_4","style","$setup","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_renderSlot","_ctx","name","__exports__","render","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","key","_hoisted_12","_component_vue_recaptcha","_component_icon","_component_j_button","_component_centered_layout","_createBlock","default","_withCtx","_cache","email","autocomplete","type","_vModelText","_createVNode","ref","siteKey","theme","size","onExpire","onFail","onVerify","disabled","buttonStyle","onClick","classes","_createCommentVNode","_","components","CenteredLayout","JButton","Icon","vueRecaptcha","setup","translate","inject","http","toast","store","useStore","validate","showError","validator","saveNotification","compositionUtils","state","reactive","reCaptchaAPIKey","process","form","reCaptcha","output","errorBag","rules","messages","required","loader","mode","computed","watch","newVal","oldVal","Object","keys","length","apiBaseUrl","recaptchaVerified","response","recaptchaExpired","value","reset","recaptchaFailed","subscribe","payload","Subscriber","get","params","then","status","success","catch","error","console","log","unSubscribe","Unsubscriber","toRefs"],"sourceRoot":""}