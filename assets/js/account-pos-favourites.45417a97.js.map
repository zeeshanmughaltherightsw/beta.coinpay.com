{"version":3,"sources":["webpack:///./src/views/pos/Favourites.vue?9d51","webpack:///./src/views/pos/Favourites.vue","webpack:///./src/views/pos/Favourites.vue?3d56"],"names":["class","_hoisted_2","_withScopeId","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","value","_hoisted_6","_hoisted_7","_hoisted_8","key","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_createTextVNode","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","colspan","_component_nav_tabs","_component_icon","_component_StreamBarcodeReader","_component_pagination","_component_pos_layout","_component_add_to_cart_modal","_openBlock","_createElementBlock","_createVNode","content","onClick","_ctx","name","_withDirectives","aria-label","_cache","$event","_Fragment","_renderList","$setup","category","index","id","_toDisplayString","_vModelSelect","classes","type","_vModelText","_createCommentVNode","onDecode","onError","style","length","product","categoryID","src","imageUri","alt","itemName","sku","stock","price","_createBlock","meta","onPage","_","components","NavTabs","POSLayout","Icon","Pagination","StreamBarcodeReader","AddToCartModal","setup","translate","inject","toast","emitter","store","useStore","route","useRoute","compositionUtils","fancyBox","state","reactive","employee","keyword","categoryId","sortKey","order","currentPage","totalPages","limit","offset","isBarcodeScanner","accountInfo","computed","altCoins","pos","filteredFavourites","trim","toLowerCase","favourites","filter","description","Number","paginatedFavourites","filteredFavouritesList","map","p","parseFloat","slice","currency","PayoutCurrencyShortName","altCoin","ShortName","LongName","watch","newVal","oldVal","Math","ceil","sort","getCategoryName","categories","getCategoryColorCode","categoryColourCode","isFavourite","updatePage","page","markFavourite","push","success","splice","posData","commit","SET_POS","result","launchAddToCartModal","error","console","log","emit","warning","onBeforeMount","users","isLoggedIn","onMounted","Object","keys","query","category_id","toRefs","__exports__","render"],"mappings":"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","file":"assets/js/account-pos-favourites.45417a97.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Favourites.vue?vue&type=style&index=0&id=231d94e3&scoped=true&lang=scss\"","<template>\r\n  <pos-layout>\r\n    <template v-slot:content>\r\n      <div class=\"card\">\r\n        <nav-tabs></nav-tabs>\r\n        <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n        <div class=\"body\">\r\n          <div class=\"flex items-center justify-end mb-3 flex-col lg:flex-row\">\r\n            <span\r\n              class=\"hover:text-blue-500 mb-3 lg:mb-0 ml-0 lg:ml-3 cursor-pointer w-full lg:w-auto\"\r\n              @click=\"isBarcodeScanner = !isBarcodeScanner\">\r\n              <icon name=\"barcode\"></icon>\r\n            </span>\r\n            <select aria-label=\"Select Category\" class=\"form-select w-full mb-3 lg:mb-0 ml-0 lg:ml-3 w-full lg:w-72\"\r\n                    v-model=\"categoryId\">\r\n              <option value>Select Category</option>\r\n              <option :key=\"index\" :value=\"category.id\" v-for=\"(category, index) in categories\">\r\n                {{ category.name }}\r\n              </option>\r\n            </select>\r\n            <div class=\"relative mb-3 lg:mb-0 ml-0 lg:ml-3 w-full lg:w-auto\">\r\n              <icon classes=\"absolute w-5 h-5 top-3 left-3 dark:text-gray-300\" name=\"search\"></icon>\r\n              <input v-model=\"keyword\" aria-label=\"Search...\" class=\"form-input px-10 w-full lg:w-auto\" type=\"text\"/>\r\n              <span v-if=\"keyword !== ''\" class=\"absolute top-3 right-3 dark:text-gray-400 cursor-pointer\"\r\n                    @click=\"keyword = ''\">\r\n                <icon classes=\"w-5 h-5\" name=\"close\"></icon>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"mx-auto mb-3 w-40\" v-if=\"isBarcodeScanner\">\r\n            <StreamBarcodeReader @decode=\"onDecode\" @error=\"onError\"></StreamBarcodeReader>\r\n          </div>\r\n          <div\r\n            class=\"w-full scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600\">\r\n            <table class=\"table-sm mb-2\">\r\n              <thead>\r\n              <tr>\r\n                <th>Category</th>\r\n                <th>Image</th>\r\n                <th @click=\"sort('itemName')\" class=\"cursor-pointer\" style=\"max-width: 150px;\">\r\n                  <div class=\"flex items-center\">\r\n                    Name\r\n                    <span :class=\"`ml-4 transform transition-all ${order === 'asc' ? 'rotate-180' : ''}`\"\r\n                          v-if=\"sortKey === 'itemName'\">\r\n                      <icon name=\"sort\" classes=\"w-4 h-4\"></icon>\r\n                    </span>\r\n                  </div>\r\n                </th>\r\n                <th class=\"whitespace-nowrap\">SKU / EAN / Barcode / QR</th>\r\n                <th>Quantity</th>\r\n                <th @click=\"sort('price')\" class=\"cursor-pointer\">\r\n                  <div class=\"flex items-center\">\r\n                    Price\r\n                    <span :class=\"`ml-4 transform transition-all ${order === 'asc' ? 'rotate-180' : ''}`\"\r\n                          v-if=\"sortKey === 'price'\">\r\n                      <icon name=\"sort\" classes=\"w-4 h-4\"></icon>\r\n                    </span>\r\n                  </div>\r\n                </th>\r\n                <th>Actions</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <template v-if=\"filteredFavourites.length > 0\">\r\n                <tr :key=\"index\" v-for=\"(product, index) in paginatedFavourites\">\r\n                  <td>\r\n                    <div @click=\"categoryId = product.categoryID\" class=\"cursor-pointer flex items-center\">\r\n                      <div :style=\"'background: #' + getCategoryColorCode(product.categoryID)\"\r\n                           class=\"inline-block w-5 h-5 rounded-full mr-3\"></div>\r\n                      {{ getCategoryName(product.categoryID) }}\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"w-12 h-12 rounded-full overflow-hidden\">\r\n                      <img :src=\"product.imageUri\" alt=\"\" class=\"w-12 h-12 object-cover\"\r\n                           @click=\"fancyBox(product.imageUri)\"/>\r\n                    </div>\r\n                  </td>\r\n                  <td @click=\"launchAddToCartModal(product)\" class=\"cursor-pointer whitespace-normal\"\r\n                      style=\"width: 150px;\">\r\n                    <p class=\"break-all\">{{ product.itemName }}</p>\r\n                  </td>\r\n                  <td @click=\"launchAddToCartModal(product)\" class=\"cursor-pointer\">{{ product.sku }}</td>\r\n                  <td @click=\"launchAddToCartModal(product)\" class=\"cursor-pointer\">{{ product.stock }}</td>\r\n                  <td @click=\"launchAddToCartModal(product)\" class=\"cursor-pointer\">\r\n                    {{ `${product.price} ${currency}` }}\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"flex items-center space-x-1\">\r\n                      <button @click=\"launchAddToCartModal(product)\"\r\n                              class=\"hover:text-blue-500\" type=\"button\">\r\n                        <icon name=\"shopping-cart\"></icon>\r\n                      </button>\r\n                      <button @click=\"markFavourite(product, index)\">\r\n                        <icon name=\"heart\"\r\n                              :classes=\"`w-6 h-6 hover:text-red-500 ${isFavourite(product) ? 'text-red-500' : ''}`\"></icon>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n              <template v-else>\r\n                <tr>\r\n                  <td colspan=\"7\" class=\"text-center\">{{ translate('address_book.empty') }}</td>\r\n                </tr>\r\n              </template>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <template v-if=\"filteredFavourites.length > 0\">\r\n            <pagination :meta=\"meta\" @page=\"updatePage\"></pagination>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </pos-layout>\r\n  <!-- Add To Cart Modal -->\r\n  <add-to-cart-modal></add-to-cart-modal>\r\n</template>\r\n\r\n<script>\r\nimport POSLayout from '@/components/layouts/POSLayout'\r\nimport NavTabs from '@/components/account/pos/NavTabs'\r\nimport Icon from '@/components/Icon'\r\nimport Pagination from '@/components/common/Pagination'\r\nimport AddToCartModal from '@/components/account/pos/modals/products/AddToCartModal'\r\nimport { StreamBarcodeReader } from 'vue-barcode-reader'\r\nimport { computed, inject, onBeforeMount, onMounted, reactive, toRefs, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport * as _ from 'lodash'\r\nimport { SET_POS } from '@/store/keys'\r\nimport { useRoute } from 'vue-router'\r\nimport compositionUtils from '@/compositionUtils'\r\n\r\nexport default {\r\n  name: 'Favourites',\r\n  components: {\r\n    NavTabs,\r\n    'pos-layout': POSLayout,\r\n    Icon,\r\n    Pagination,\r\n    StreamBarcodeReader,\r\n    AddToCartModal\r\n  },\r\n  setup () {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const toast = inject('toast')\r\n    const emitter = inject('emitter')\r\n    // Store\r\n    const store = useStore()\r\n    const route = useRoute()\r\n\r\n    const { fancyBox } = compositionUtils()\r\n\r\n    // State\r\n    const state = reactive({\r\n      employee: null,\r\n      keyword: '',\r\n      categoryId: '',\r\n      sortKey: null,\r\n      order: 'asc',\r\n      meta: {\r\n        currentPage: 1,\r\n        totalPages: 0,\r\n        limit: 25,\r\n        offset: 0\r\n      },\r\n      isBarcodeScanner: false\r\n    })\r\n\r\n    // Computed\r\n    const accountInfo = computed(() => store.state.accountInfo)\r\n    const altCoins = computed(() => store.state.altCoins)\r\n    const pos = computed(() => store.state.pos)\r\n    const filteredFavourites = computed(() => {\r\n      if (state.keyword || state.categoryId) {\r\n        const keyword = state.keyword.trim().toLowerCase()\r\n        return pos.value.favourites.filter(product => {\r\n          if (state.categoryId && keyword) {\r\n            return (product.categoryID === state.categoryId &&\r\n              (_.includes(product.itemName.toLowerCase(), keyword) ||\r\n                _.includes(product.sku.toLowerCase(), keyword) ||\r\n                _.includes(product.description.toLowerCase(), keyword) ||\r\n                Number(product.price) === Number(keyword)\r\n              )\r\n            )\r\n          } else if (state.categoryId) {\r\n            return product.categoryID === state.categoryId\r\n          } else if (keyword) {\r\n            return (\r\n              _.includes(product.itemName.toLowerCase(), keyword) ||\r\n              _.includes(product.sku.toLowerCase(), keyword) ||\r\n              _.includes(product.description.toLowerCase(), keyword) ||\r\n              Number(product.price) === Number(keyword)\r\n            )\r\n          }\r\n        })\r\n      }\r\n      return pos.value.favourites\r\n    })\r\n    const paginatedFavourites = computed(() => {\r\n      if (filteredFavourites.value && filteredFavourites.value.length > 0) {\r\n        let filteredFavouritesList = _.cloneDeep(filteredFavourites.value)\r\n        filteredFavouritesList = filteredFavouritesList.map(p => {\r\n          return {\r\n            ...p,\r\n            price: Number.parseFloat(p.price)\r\n          }\r\n        })\r\n        filteredFavouritesList = _.orderBy(filteredFavouritesList, state.sortKey, state.order)\r\n        return filteredFavouritesList.slice(state.meta.offset, state.meta.currentPage * state.meta.limit)\r\n      }\r\n      return filteredFavourites.value\r\n    })\r\n    const currency = computed(() => {\r\n      let currency = 'EUR'\r\n      if (accountInfo.value) {\r\n        currency = accountInfo.value.PayoutCurrencyShortName\r\n        // Convert short name to long name\r\n        const altCoin = _.find(altCoins.value, { ShortName: accountInfo.value.PayoutCurrencyShortName })\r\n        if (altCoin) {\r\n          currency = altCoin.LongName\r\n        }\r\n      }\r\n      return currency\r\n    })\r\n\r\n    // Watch\r\n    watch(() => state.keyword,\r\n      (newVal, oldVal) => {\r\n        state.meta = {\r\n          ...state.meta,\r\n          currentPage: 1,\r\n          totalPages: Math.ceil(filteredFavourites.value.length / state.meta.limit),\r\n          offset: 0\r\n        }\r\n      })\r\n\r\n    // Methods\r\n    const sort = (key) => {\r\n      if (key === state.sortKey) {\r\n        state.order = state.order === 'asc' ? 'desc' : 'asc'\r\n      }\r\n      state.sortKey = key\r\n    }\r\n    const getCategoryName = (id) => {\r\n      const category = _.find(pos.value.categories, { id: id })\r\n      return category ? category.name : ''\r\n    }\r\n    const getCategoryColorCode = (id) => {\r\n      const category = _.find(pos.value.categories, { id: id })\r\n      return category ? category.categoryColourCode : ''\r\n    }\r\n    const isFavourite = (product) => {\r\n      if (product.sku) {\r\n        return _.findIndex(pos.value.favourites, { sku: product.sku }) !== -1\r\n      } else if (product.id) {\r\n        return _.findIndex(pos.value.favourites, { id: product.id }) !== -1\r\n      }\r\n      return false\r\n    }\r\n    const updatePage = (page) => {\r\n      state.meta = {\r\n        ...state.meta,\r\n        currentPage: page,\r\n        offset: (page - 1) * state.meta.limit\r\n      }\r\n    }\r\n    // Mark favourite\r\n    const markFavourite = (product) => {\r\n      const favourites = _.cloneDeep(pos.value.favourites)\r\n      let index = -1\r\n      if (product.sku) {\r\n        index = _.findIndex(favourites, { sku: product.sku })\r\n      } else if (product.id) {\r\n        index = _.findIndex(favourites, { id: product.id })\r\n      }\r\n      if (index === -1) {\r\n        favourites.push(product)\r\n        toast.success('Product marked favourite successfully')\r\n      } else {\r\n        favourites.splice(index, 1)\r\n        toast.success('Product unmarked favourite successfully')\r\n      }\r\n      const posData = _.cloneDeep(pos.value)\r\n      posData.favourites = favourites\r\n      store.commit(SET_POS, posData)\r\n    }\r\n    const onDecode = (result) => {\r\n      state.keyword = result\r\n      state.isBarcodeScanner = false\r\n      const product = _.find(pos.value.favourites, { sku: result })\r\n      if (product) {\r\n        launchAddToCartModal(product)\r\n      }\r\n    }\r\n    const onError = (error) => {\r\n      console.log(error)\r\n    }\r\n    const launchAddToCartModal = (product) => {\r\n      if (Number(product.stock) > 0) {\r\n        emitter.emit('addToCartModal', {\r\n          product: product,\r\n          currency: currency.value,\r\n          employee: state.employee\r\n        })\r\n      } else {\r\n        toast.warning('Product out of stock')\r\n      }\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      state.employee = _.find(pos.value.users, { isLoggedIn: 'true' })\r\n      state.meta = {\r\n        ...state.meta,\r\n        currentPage: 1,\r\n        totalPages: Math.ceil(filteredFavourites.value.length / state.meta.limit),\r\n        offset: 0\r\n      }\r\n    })\r\n\r\n    onMounted(() => {\r\n      if (Object.keys(route.query).length > 0 && typeof route.query.category_id !== 'undefined') {\r\n        state.categoryId = route.query.category_id\r\n      }\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      filteredFavourites,\r\n      paginatedFavourites,\r\n      categories: pos.value.categories,\r\n      sort,\r\n      updatePage,\r\n      getCategoryName,\r\n      getCategoryColorCode,\r\n      isFavourite,\r\n      currency,\r\n      markFavourite,\r\n      onDecode,\r\n      onError,\r\n      launchAddToCartModal,\r\n      fancyBox\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.table-sm {\r\n  thead {\r\n    tr {\r\n      th:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    tr {\r\n      td:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Favourites.vue?vue&type=template&id=231d94e3&scoped=true\"\nimport script from \"./Favourites.vue?vue&type=script&lang=js\"\nexport * from \"./Favourites.vue?vue&type=script&lang=js\"\n\nimport \"./Favourites.vue?vue&type=style&index=0&id=231d94e3&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-231d94e3\"]])\n\nexport default __exports__"],"sourceRoot":""}