(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop"],{"24f4":function(e,t,c){"use strict";var a=c("f2bf"),o={class:"grid grid-cols-4 gap-2 xl:gap-3"},r=Object(a["createStaticVNode"])('<div class="bg-gray-200 dark:bg-gray-500 rounded w-32 h-32 mx-auto"></div><div class="mt-3 h-2 bg-gray-200 dark:bg-gray-500 rounded"></div><div class="mt-3 h-2 bg-gray-200 dark:bg-gray-500 rounded w-2/5 mx-auto"></div><div class="flex items-center justify-center mt-3"><div class="w-8 h-8 bg-gray-200 dark:bg-gray-500 rounded mr-3"></div><div class="w-8 h-8 bg-gray-200 dark:bg-gray-500 rounded mr-3"></div><div class="w-8 h-8 bg-gray-200 dark:bg-gray-500 rounded mr-3"></div><div class="w-8 h-8 bg-gray-200 dark:bg-gray-500 rounded mr-3"></div></div>',4),n=[r];function l(e,t,c,r,l,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.counter,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"animate-pulse h-72 shadow bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-900 rounded col-span-4 md:col-span-2 lg:col-span-1 p-4"},n)})),128))])}var i={name:"Product",props:["counter"]},s=c("6b0d"),d=c.n(s);const b=d()(i,[["render",l]]);t["a"]=b},"42ac":function(e,t,c){},"49d1":function(e,t,c){"use strict";c.r(t);c("b0c0"),c("a9e3"),c("99af");var a=c("f2bf"),o=function(e){return Object(a["pushScopeId"])("data-v-84ad327c"),e=e(),Object(a["popScopeId"])(),e},r={class:"mb-3 flex items-center justify-end flex-col lg:flex-row"},n=o((function(){return Object(a["createElementVNode"])("option",{value:""},"All Countries",-1)})),l=["value"],i=o((function(){return Object(a["createElementVNode"])("option",{value:""},"Filter Shops",-1)})),s=["value"],d={class:"relative w-full lg:w-auto"},b={class:"grid grid-cols-4 gap-2 xl:gap-3"},u=["src"],m={class:"text-center py-1 font-semibold"},g=["onClick"],O={class:"flex justify-center"},p={key:1,class:"text-center social pt-2"},j={key:0},f=["href"],k={key:1},v=["href"],h=["src"],y={key:2},w=["href"],S=["src"],E={key:3},N=["href"],V=["src"],B={key:4},C=["href"],P=["src"],x={key:0},L=o((function(){return Object(a["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),I=o((function(){return Object(a["createElementVNode"])("div",{class:"w-full rounded shadow px-4 py-3 bg-yellow-500 mb-4 text-yellow-900 font-semibold mt-3"}," No shop available ",-1)})),T=[L,I],A={key:1,class:"flex items-center justify-center mt-3"},R=["disabled"],D={class:"mr-2"},F=["disabled"];function _(e,t,o,L,I,_){var U=Object(a["resolveComponent"])("product-skeleton"),M=Object(a["resolveComponent"])("icon"),G=Object(a["resolveComponent"])("router-link"),Y=Object(a["resolveComponent"])("star-rating"),J=Object(a["resolveComponent"])("centered-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(J,null,{default:Object(a["withCtx"])((function(){return[e.isProcessing?(Object(a["openBlock"])(),Object(a["createBlock"])(U,{key:0,counter:8})):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("div",r,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"aria-label":"Filter",class:"form-select w-full lg:w-auto mr-0 lg:mr-3 mb-3 lg:mb-0","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.country=t})},[n,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(L.countriesList,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:t,value:e.id},Object(a["toDisplayString"])(e.name),9,l)})),128))],512),[[a["vModelSelect"],e.country]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"aria-label":"Filter",class:"form-select w-full lg:w-auto mr-0 lg:mr-3 mb-3 lg:mb-0","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.category=t})},[i,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(L.shopCategories,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:t,value:e},Object(a["toDisplayString"])(e),9,s)})),128))],512),[[a["vModelSelect"],e.category]]),Object(a["createElementVNode"])("div",d,[Object(a["createVNode"])(M,{classes:"absolute w-5 h-5 top-3 left-3 dark:text-gray-300",name:"search"}),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.keyword=t}),"aria-label":"Search...",placeholder:"Search...",class:"form-input px-10 w-full lg:w-auto",type:"text"},null,512),[[a["vModelText"],e.keyword]]),""!==e.keyword?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,class:"absolute top-3 right-3 dark:text-gray-400 cursor-pointer",onClick:t[3]||(t[3]=function(t){return e.keyword=""})},[Object(a["createVNode"])(M,{classes:"w-5 h-5",name:"close"})])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",b,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(L.paginatedShopsList,(function(t,o){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:o,class:"h-72 shadow bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-900 rounded col-span-4 md:col-span-2 lg:col-span-1 p-4"},[Object(a["createVNode"])(G,{to:{name:"shop-detail",params:{id:t.ID}},tag:"a"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",null,[Object(a["withDirectives"])(Object(a["createElementVNode"])("img",{src:t.Avatar,alt:"",class:"w-32 h-32 mx-auto object-contain"},null,8,u),[[a["vShow"],L.isAvatar(t.Avatar)]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("p",{class:"font-bold text-9xl uppercase text-blue-500 text-center"},Object(a["toDisplayString"])(L.generateAvatar(t.ShopTitle)),513),[[a["vShow"],!L.isAvatar(t.Avatar)]])]),Object(a["createElementVNode"])("h5",m,Object(a["toDisplayString"])(t.ShopTitle),1)]})),_:2},1032,["to"]),"n/a"!==t.POSCATEGORY.toLowerCase()?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",{key:0,onClick:function(c){return e.category=t.POSCATEGORY},class:"text-center cursor-pointer font-semibold"},Object(a["toDisplayString"])(t.POSCATEGORY),9,g)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",O,[Object(a["createVNode"])(Y,{increment:1,"max-rating":5,rating:Number(t.POSTrust),"read-only":!0,"show-rating":!1,"star-size":20,"active-color":"#ffd200","inactive-color":"#d0d0d0"},null,8,["rating"])]),"1"===t.SocialOn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",p,["null"!==t.SocialURL&&""!==t.SocialURL?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",j,[Object(a["createElementVNode"])("a",{href:t.SocialURL,class:"socialUrl",target:"_blank"},[Object(a["createVNode"])(M,{name:"link"})],8,f)])):Object(a["createCommentVNode"])("",!0),"null"!==t.SocialFacebook&&""!==t.SocialFacebook?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",k,[Object(a["createElementVNode"])("a",{href:t.SocialFacebook,class:"facebook",target:"_blank"},[Object(a["createElementVNode"])("img",{src:c("93b9"),alt:"Facebook"},null,8,h)],8,v)])):Object(a["createCommentVNode"])("",!0),"null"!==t.SocialTwitter&&""!==t.SocialTwitter?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",y,[Object(a["createElementVNode"])("a",{href:t.SocialTwitter,class:"twitter",target:"_blank"},[Object(a["createElementVNode"])("img",{src:c("2bb0"),alt:"Twitter"},null,8,S)],8,w)])):Object(a["createCommentVNode"])("",!0),"null"!==t.SocialReddit&&""!==t.SocialReddit?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",E,[Object(a["createElementVNode"])("a",{href:t.SocialReddit,class:"reddit",target:"_blank"},[Object(a["createElementVNode"])("img",{src:c("35b3"),alt:"Reddit"},null,8,V)],8,N)])):Object(a["createCommentVNode"])("",!0),"null"!==t.SocialLinkedIn&&""!==t.SocialLinkedIn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",B,[Object(a["createElementVNode"])("a",{href:t.SocialLinkedIn,class:"linkedin",target:"_blank"},[Object(a["createElementVNode"])("img",{src:c("c0ad"),alt:"LinkedIn"},null,8,P)],8,C)])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)])})),128))]),0===L.paginatedShopsList.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",x,T)):Object(a["createCommentVNode"])("",!0),e.meta.totalPages>1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",A,[Object(a["createElementVNode"])("button",{disabled:1===e.meta.currentPage,onClick:t[4]||(t[4]=function(e){return L.paginate("prev")}),class:"btn btn-default mr-2"},[Object(a["createVNode"])(M,{name:"chevron-left"})],8,R),Object(a["createElementVNode"])("span",D,Object(a["toDisplayString"])("".concat(e.meta.currentPage," of ").concat(e.meta.totalPages)),1),Object(a["createElementVNode"])("button",{disabled:e.meta.currentPage===e.meta.totalPages,onClick:t[5]||(t[5]=function(e){return L.paginate("next")}),class:"btn btn-default"},[Object(a["createVNode"])(M,{name:"chevron-right"})],8,F)])):Object(a["createCommentVNode"])("",!0)],64))]})),_:1})}var U=c("5530"),M=(c("d81d"),c("4de4"),c("d3b7"),c("498a"),c("fb6a"),c("ac1f"),c("1276"),c("9e55")),G=c("cdae"),Y=c("24f4"),J=c("5502"),z=c("2ef0"),W=c("8923"),q=c("5b3d"),H=c.n(q),K={name:"Shops",components:{CenteredLayout:M["a"],Icon:G["a"],StarRating:H.a,ProductSkeleton:Y["a"]},setup:function(){var e=Object(J["b"])(),t=Object(a["reactive"])({country:"",category:"",keyword:"",meta:{currentPage:1,totalPages:0,limit:12,offset:0},isProcessing:!1}),c=Object(a["computed"])((function(){return e.state.countries})),o=Object(a["computed"])((function(){return e.state.shopsList})),r=Object(a["computed"])((function(){var e=[];return o.value.length>0&&o.value.map((function(t){t.ShippingOptions.length>0?t.ShippingOptions.map((function(t){var a=z["findIndex"](c.value,{id:t.countryId});-1===a&&e.push({id:t.countryId,name:t.countryName})})):e=c.value})),e})),n=Object(a["computed"])((function(){return e.state.shopCategories})),l=Object(a["computed"])((function(){var e=z["cloneDeep"](o.value);return t.country&&(e=e.filter((function(e){return!(e.ShippingOptions.length>0)||-1!==z["findIndex"](e.ShippingOptions,{countryId:t.country})}))),e.filter((function(c){var a=t.keyword.trim().toLowerCase();return a&&t.category?z["includes"](c.ShopTitle.toLowerCase(),a)&&c.POSCATEGORY.toLowerCase()===t.category.toLowerCase():t.category?c.POSCATEGORY.toLowerCase()===t.category.toLowerCase():a?z["includes"](c.ShopTitle.toLowerCase(),a):e}))})),i=Object(a["computed"])((function(){return l.value.length>0?l.value.slice(t.meta.offset*t.meta.limit,t.meta.currentPage*t.meta.limit):[]})),s=function(e){return z["startsWith"](e,"https://cointopay.com/M_Images")},d=function(e){e=e.split(/[\s+]/g),e=e.filter(Boolean);var t="";return e.map((function(e){t+=e[0]})),t},b=function(e){var c=t.meta.currentPage;c="next"===e?t.meta.currentPage<t.meta.totalPages?t.meta.currentPage+1:t.meta.totalPages:t.meta.currentPage>0?t.meta.currentPage-1:t.meta.totalPages,t.meta=Object(U["a"])(Object(U["a"])({},t.meta),{},{currentPage:c,offset:(c-1)*t.meta.limit})};return Object(a["onBeforeMount"])((function(){t.isProcessing=!0,e.dispatch(W["l"]).then((function(){t.isProcessing=!1,t.meta={currentPage:1,totalPages:o.value?Math.ceil(o.value.length/t.meta.limit):0,limit:12,offset:0}})).catch((function(){t.isProcessing=!1}))})),Object(U["a"])(Object(U["a"])({},Object(a["toRefs"])(t)),{},{countriesList:r,shopsList:o,shopCategories:n,filteredShopsList:l,paginatedShopsList:i,isAvatar:s,generateAvatar:d,paginate:b})}},Q=(c("a9fe"),c("6b0d")),X=c.n(Q);const Z=X()(K,[["render",_],["__scopeId","data-v-84ad327c"]]);t["default"]=Z},a9fe:function(e,t,c){"use strict";c("42ac")}}]);
//# sourceMappingURL=shop.87e4dbe8.js.map