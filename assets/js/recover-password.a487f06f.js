(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["recover-password"],{f243:function(e,t,r){"use strict";r.r(t);var a=r("f2bf"),c={class:"max-w-xl w-full space-y-4 rounded bg-white dark:bg-gray-800 dark:text-gray-400 shadow p-4"},o={class:"text-xl font-bold mb-4 text-center"},n={class:"mb-2"},s={class:"flex items-center justify-between mb-1"},i={class:"text-blue-500 text-sm"},l={class:"text-red-500 text-sm"},u={class:"mt-4"},d={key:0,class:"mr-3"};function b(e,t,r,b,p,m){var j=Object(a["resolveComponent"])("vue-recaptcha"),f=Object(a["resolveComponent"])("icon"),O=Object(a["resolveComponent"])("j-button"),h=Object(a["resolveComponent"])("auth-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(h,null,{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("h1",o,Object(a["toDisplayString"])(b.translate("login.recover")),1),Object(a["createElementVNode"])("form",{onSubmit:t[1]||(t[1]=Object(a["withModifiers"])((function(e){return b.submit()}),["prevent"]))},[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("label",null,Object(a["toDisplayString"])(b.translate("login.username")),1),Object(a["createElementVNode"])("div",i,Object(a["toDisplayString"])(b.showError(e.errorBag,"User")),1)]),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",autofocus:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.User=t}),class:"form-input w-full",autocomplete:"off"},null,512),[[a["vModelText"],e.form.User]])]),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(j,{ref:"vueRecaptcha",siteKey:e.reCaptchaAPIKey,size:"normal",onExpire:b.recaptchaExpired,theme:b.mode,onFail:b.recaptchaFailed,onVerify:b.recaptchaVerified},null,8,["siteKey","onExpire","theme","onFail","onVerify"]),Object(a["createElementVNode"])("div",l,Object(a["toDisplayString"])(b.showError(e.errorBag,"reCaptcha")),1)]),Object(a["createElementVNode"])("div",u,[Object(a["createVNode"])(O,{disabled:e.isProcessing,size:"w-full"},{default:Object(a["withCtx"])((function(){return[e.isProcessing?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,[Object(a["createVNode"])(f,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(b.translate("login.recover")),1)]})),_:1},8,["disabled"])])],32)])]})),_:1})}var p=r("5530"),m=(r("b64b"),r("227c")),j=r("2e4e"),f=r("4032"),O=r("cdae"),h=r("ea45"),g=r("6c02"),v=r("5502"),w={name:"ForgotPassword",components:{AuthLayout:m["a"],vueRecaptcha:j["a"],JButton:f["a"],Icon:O["a"]},setup:function(){var e=Object(a["ref"])(null),t=Object(a["inject"])("http"),r=Object(a["inject"])("toast"),c=Object(a["inject"])("translate"),o=Object(v["b"])(),n=Object(g["e"])(),s=Object(h["a"])(),i=s.validate,l=s.showError,u=Object(a["reactive"])({reCaptchaAPIKey:"6LdOLTEUAAAAAGDKKH5DMUQbW8PtXjimV6ZDrBKr",form:{User:"",reCaptcha:"",output:"json"},errorBag:{},rules:{User:["required"],reCaptcha:["required"]},messages:{User:{required:"Username is required"},reCaptcha:{required:"Verify you are not a robot"}},isProcessing:!1}),d=Object(a["computed"])((function(){return o.state.mode})),b=Object(a["computed"])((function(){return o.state.isLoggedIn}));Object(a["watch"])((function(){return Object(p["a"])({},u.form)}),(function(e,t){Object.keys(u.errorBag).length>0&&(u.errorBag=i(u.form,u.rules,u.messages))}));var m="https://app.cointopay.com",j=function(e){u.form.reCaptcha=e},f=function(){e.value.reset(),u.form.reCaptcha=""},O=function(){},w=function(){if(u.errorBag=i(u.form,u.rules,u.messages),0===Object.keys(u.errorBag).length){u.isProcessing=!0;var a=u.form;a=Object.assign(a,{"g-recaptcha-response":a.reCaptcha}),delete a.reCaptcha,t.get("".concat(m,"/RecoverPassword"),{params:a}).then((function(e){u.isProcessing=!1,200===e.status&&(400===e.data.status_code?r.error(e.data.reason):(r.success(e.data.data[0]),n.push("/login")))})).catch((function(t){u.isProcessing=!1,t.response?r.error(t.response.data):t.data&&t.data.reason&&r.error(t.data.reason),e.value.reset(),u.form.reCaptcha=""}))}};return Object(a["onBeforeMount"])((function(){if(b.value){var e=o.state.currentRoute;n.push(e)}})),Object(p["a"])(Object(p["a"])({translate:c},Object(a["toRefs"])(u)),{},{vueRecaptcha:e,showError:l,mode:d,recaptchaVerified:j,recaptchaExpired:f,recaptchaFailed:O,submit:w})}},y=r("6b0d"),V=r.n(y);const E=V()(w,[["render",b]]);t["default"]=E}}]);
//# sourceMappingURL=recover-password.a487f06f.js.map