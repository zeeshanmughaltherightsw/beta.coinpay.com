(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signup"],{"34c3":function(e,t,c){"use strict";c.r(t);var n=c("f2bf"),o=c("44c6"),a=c.n(o),r=function(e){return Object(n["pushScopeId"])("data-v-d63faf00"),e=e(),Object(n["popScopeId"])(),e},l={class:"max-w-xl w-full space-y-4 rounded bg-white dark:bg-gray-800 dark:text-gray-400 shadow p-4"},s={class:"text-xl font-bold mb-4 text-center"},i={class:"mb-2"},d={class:"flex items-center justify-between mb-1"},u={class:"text-red-500 text-sm"},m={class:"grid grid-cols-2 gap-1 md:gap-4"},b={class:"col-span-1"},p={class:"mb-2"},f={class:"flex items-center justify-between mb-1"},j={class:"text-red-500 text-sm"},O={class:"flex items-center"},w={class:"ml-3 cursor-pointer"},h={class:"col-span-1"},g={class:"mb-2"},v={class:"flex items-center justify-between mb-1"},y={class:"text-red-500 text-sm"},x={class:"mb-2"},V={class:"card mb-1"},k={class:"title"},N=r((function(){return Object(n["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),E={class:"body"},C={key:0,class:"flex flex-wrap justify-start gap-x-1 gap-y-1 md:gap-x-2 md:gap-y-2 mb-4"},S=["src"],A={class:"text-right"},B={class:"text-red-500 text-sm"},D={class:"mb-2"},P={class:"flex items-center justify-between mb-1"},I={class:"text-red-500 text-sm"},L=["value"],U={class:"text-red-500 text-sm"},M={class:"mt-4"},q={key:0,class:"mr-3"},_={class:"text-center"},z={class:"flex items-center"},R={class:"mr-3"},T=r((function(){return Object(n["createElementVNode"])("div",{class:"text-center font-bold my-4"},[Object(n["createElementVNode"])("span",null,"Or...")],-1)})),K=r((function(){return Object(n["createElementVNode"])("img",{class:"w-5 h-5 mr-3",src:a.a,alt:"facebook"},null,-1)})),F=Object(n["createTextVNode"])(" Sign Up With Meta Facebook ");function J(e,t,c,o,a,r){var J=Object(n["resolveComponent"])("icon"),W=Object(n["resolveComponent"])("j-button"),Z=Object(n["resolveComponent"])("vue-recaptcha"),$=Object(n["resolveComponent"])("router-link"),H=Object(n["resolveComponent"])("auth-layout"),G=Object(n["resolveComponent"])("alt-coins-modal"),Q=Object(n["resolveDirective"])("tippy");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(H,null,{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("h1",s,Object(n["toDisplayString"])(o.translate("signup.title")),1),Object(n["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(n["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("label",null,Object(n["toDisplayString"])(o.translate("signup.username")),1),Object(n["createElementVNode"])("div",u,Object(n["toDisplayString"])(o.showError(e.errorBag,"ownernickname")),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{autofocus:"",autocomplete:"off",class:"form-input w-full",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.ownernickname=t})},null,512),[[n["vModelText"],e.form.ownernickname]])]),Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("label",null,Object(n["toDisplayString"])(o.translate("signup.password")),1),Object(n["createElementVNode"])("div",j,Object(n["toDisplayString"])(!0===e.isValidPassword?"":!1===e.isValidPassword?"Password is not Valid":""),1)]),Object(n["createElementVNode"])("div",O,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-input w-full",onKeyup:t[1]||(t[1]=function(){return o.validatePasswordOnKeyup&&o.validatePasswordOnKeyup.apply(o,arguments)}),type:"password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.ownerpassword=t})},null,544),[[n["vModelText"],e.form.ownerpassword]]),Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("span",w,[Object(n["createVNode"])(J,{name:"exclamation-circle",classes:"w-5 h-5 text-yellow-500"})])),[[Q,{content:o.passwordRules}]])])])]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("label",null,Object(n["toDisplayString"])(o.translate("signup.email")),1),Object(n["createElementVNode"])("div",y,Object(n["toDisplayString"])(o.showError(e.errorBag,"email")),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-input w-full",type:"email","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.email=t})},null,512),[[n["vModelText"],e.form.email]])])])]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("h5",null,Object(n["toDisplayString"])(o.translate("signup.wallets")),1)]),N,Object(n["createElementVNode"])("div",E,[e.form.selectedaltcoins.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",C,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.form.selectedaltcoins,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t,class:"flex items-center w-40"},[Object(n["createElementVNode"])("img",{src:o.generateIconUrl(e.Name),alt:"",class:"w-6 h-6 mr-3"},null,8,S),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.Name),1)])})),128))])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",A,[Object(n["createVNode"])(W,{type:"button",onClick:o.launchAtlCoinsModal},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.translate("signup.wallet_button")),1)]})),_:1},8,["onClick"])])])]),Object(n["createElementVNode"])("div",B,Object(n["toDisplayString"])(o.showError(e.errorBag,"selectedaltcoins")),1)]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",P,[Object(n["createElementVNode"])("label",null,Object(n["toDisplayString"])(o.translate("signup.locale")),1),Object(n["createElementVNode"])("div",I,Object(n["toDisplayString"])(o.showError(e.errorBag,"locale")),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.locale=t})},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.languages,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:t,value:t},Object(n["toDisplayString"])(e.naam),9,L)})),128))],512),[[n["vModelSelect"],e.form.locale]])]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(Z,{ref:"vueRecaptcha",siteKey:e.reCaptchaAPIKey,size:"normal",onExpire:o.recaptchaExpired,theme:o.mode,onFail:o.recaptchaFailed,onVerify:o.recaptchaVerified},null,8,["siteKey","onExpire","theme","onFail","onVerify"]),Object(n["createElementVNode"])("div",U,Object(n["toDisplayString"])(o.showError(e.errorBag,"reCaptcha")),1)]),Object(n["createElementVNode"])("div",M,[Object(n["createVNode"])(W,{disabled:e.isProcessing,size:"w-full"},{default:Object(n["withCtx"])((function(){return[e.isProcessing?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",q,[Object(n["createVNode"])(J,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(o.translate("signup.button")),1)]})),_:1},8,["disabled"])])],32),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("p",R,Object(n["toDisplayString"])(o.translate("login.forgot")),1),Object(n["createVNode"])($,{class:"link",to:"/recover-password",tag:"a"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.translate("login.recover")),1)]})),_:1})])]),T,Object(n["createVNode"])(W,{size:"w-full",buttonStyle:"outline",onClick:t[6]||(t[6]=function(e){return o.authenticate("facebook")})},{default:Object(n["withCtx"])((function(){return[K,F]})),_:1})])]})),_:1}),Object(n["createVNode"])(G)],64)}var W=c("5530"),Z=(c("b64b"),c("d3b7"),c("3ca3"),c("ddb0"),c("2b3d"),c("9861"),c("ac1f"),c("5319"),c("b0c0"),c("a15b"),c("d81d"),c("99af"),c("00b4"),c("227c")),$={class:"flex items-center justify-between"},H={class:"capitalize"},G={class:"flex items-center justify-between flex-col md:flex-row"},Q=Object(n["createTextVNode"])("Select All"),X=Object(n["createTextVNode"])(" Select Popular Only "),Y=Object(n["createTextVNode"])(" Unselect All "),ee={class:"relative flex-1 my-4"},te={class:"flex flex-wrap justify-center gap-2"},ce=["onClick"],ne=["src"],oe={class:"text-xs font-semibold"};function ae(e,t,c,o,a,r){var l=Object(n["resolveComponent"])("icon"),s=Object(n["resolveComponent"])("j-button"),i=Object(n["resolveComponent"])("modal");return Object(n["openBlock"])(),Object(n["createBlock"])(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[6]||(t[6]=function(e){return o.closeModal()})},{title:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("span",H,Object(n["toDisplayString"])(o.translate("account.wallet.choose")),1),Object(n["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(n["createVNode"])(l,{name:"close"})])])]})),content:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",G,[Object(n["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[1]||(t[1]=function(e){return o.selectAll()})},{default:Object(n["withCtx"])((function(){return[Q]})),_:1}),Object(n["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[2]||(t[2]=function(e){return o.selectPopularOnly()})},{default:Object(n["withCtx"])((function(){return[X]})),_:1}),Object(n["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[3]||(t[3]=function(e){return o.unSelectAll()})},{default:Object(n["withCtx"])((function(){return[Y]})),_:1})]),Object(n["createElementVNode"])("div",ee,[Object(n["createVNode"])(l,{classes:"absolute w-5 h-5 top-3 left-3 dark:text-gray-300",name:"search"}),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.keyword=t}),"aria-label":"Search...",class:"form-input px-10 w-full",type:"text"},null,512),[[n["vModelText"],e.keyword]]),""!==e.keyword?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,class:"absolute top-3 right-3 dark:text-gray-400 cursor-pointer",onClick:t[5]||(t[5]=function(t){return e.keyword=""})},[Object(n["createVNode"])(l,{classes:"w-5 h-5",name:"close"})])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",te,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.altCoinsList,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t,class:Object(n["normalizeClass"])("w-24 w-24 p-3 cursor-pointer hover:border-blue-700 dark:hover:border-blue-500 text-center border-2 inline-block rounded-md shadow flex items-center justify-center flex-col ".concat(o.isSelected(e)?"border-green-500":"border-gray-300 dark:border-gray-500")),onClick:function(t){return o.toggleAltCoinsSelection(e)}},[Object(n["createElementVNode"])("img",{src:o.generateIconUrl(e.Name),alt:"",class:"w-10 h-10 mb-2 mx-auto"},null,8,ne),Object(n["createElementVNode"])("p",oe,Object(n["toDisplayString"])(e.Name),1)],10,ce)})),128))])]})),_:1},8,["maxWidth","show"])}c("4de4"),c("a434");var re=c("714b"),le=c("4032"),se=c("cdae"),ie=c("5502"),de=c("2e13"),ue=c("2ef0"),me={name:"AltCoinsModal",components:{Modal:re["a"],JButton:le["a"],Icon:se["a"]},setup:function(){var e=Object(n["inject"])("translate"),t=Object(n["inject"])("emitter"),c=Object(ie["b"])(),o=Object(de["a"])(),a=o.generateIconUrl,r=Object(n["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,keyword:"",selectedAltCoinsList:[]}),l=Object(n["computed"])((function(){return c.state.altCoins})),s=Object(n["computed"])((function(){var e=ue["orderBy"](l.value,[function(e){return e.Name.toLowerCase()}],"asc");return e.filter((function(e){if(r.keyword&&""!==r.keyword){var t=r.keyword.toLowerCase();return-1!==e.Name.toLowerCase().indexOf(t)||-1!==e.ShortName.toLowerCase().indexOf(t)||-1!==e.LongName.toLowerCase().indexOf(t)}return!0}))})),i=function(){r.show=!1,r.confirmHook(r.selectedAltCoinsList)},d=function(e){return-1!==ue["findIndex"](r.selectedAltCoinsList,{ID:e.ID})},u=function(){r.selectedAltCoinsList=l.value},m=function(){r.selectedAltCoinsList=l.value.filter((function(e){return 1===e.BuyEnabled&&0===e.vFiat}))},b=function(){r.selectedAltCoinsList=[],r.selectedAltCoins="1,8,9,2"},p=function(e){var t=ue["findIndex"](r.selectedAltCoinsList,{ID:e.ID});-1!==t?r.selectedAltCoinsList.splice(t,1):r.selectedAltCoinsList.push(e)};return Object(n["onBeforeMount"])((function(){t.on("altCoinsModal",(function(e){r.selectedAltCoinsList=e.selectedAltCoinsList||[],r.confirmHook=e.confirm,r.show=!0}))})),Object(W["a"])(Object(W["a"])({translate:e},Object(n["toRefs"])(r)),{},{closeModal:i,generateIconUrl:a,altCoinsList:s,isSelected:d,toggleAltCoinsSelection:p,selectAll:u,selectPopularOnly:m,unSelectAll:b})}},be=c("6b0d"),pe=c.n(be);const fe=pe()(me,[["render",ae]]);var je=fe,Oe=c("2e4e"),we=c("ea45"),he=c("6c02"),ge=c("8923"),ve=c("df85"),ye=c("3933"),xe={name:"Signup",components:{AuthLayout:Z["a"],vueRecaptcha:Oe["a"],JButton:le["a"],Icon:se["a"],AltCoinsModal:je},setup:function(){var e=Object(ve["b"])(),t=e.cookies,c=Object(n["ref"])(null),o=Object(n["inject"])("http"),a=Object(n["inject"])("toast"),r=Object(n["inject"])("emitter"),l=Object(n["inject"])("translate"),s=Object(ie["b"])(),i=Object(he["e"])(),d=Object(we["a"])(),u=d.validate,m=d.showError,b=Object(de["a"])(),p=b.generateIconUrl,f=b.saveNotification,j=Object(n["reactive"])({reCaptchaAPIKey:"6LdOLTEUAAAAAGDKKH5DMUQbW8PtXjimV6ZDrBKr",form:{ownernickname:"",ownerpassword:"",email:"",selectedaltcoins:[],locale:"EN",totp:"000000",reCaptcha:""},errorBag:{},rules:{ownernickname:["required","regex:/^[a-zA-Z0-9.]{1,60}$/"],email:["required","email"],selectedaltcoins:["required"],locale:["required"],totp:["required"],reCaptcha:["required"]},messages:{ownernickname:{required:"Username is required",regex:"Username should only contain alpha numeric, max 60 characters"},ownerpassword:{required:"Password is required",regex:"Password is not valid"},email:{required:"Email is required",email:"Please provide a valid email"},selectedaltcoins:{required:"Please select at least 1 coin"},locale:{required:"Please select language"},totp:{integer:"Only numeric value is allowed"},reCaptcha:{required:"Verify you are not a robot"}},facebook:null,isSocial:!1,isProcessing:!1,isValidPassword:null}),O=Object(n["computed"])((function(){return s.state.mode})),w=Object(n["computed"])((function(){return s.state.isLoggedIn})),h=Object(n["computed"])((function(){return s.state.languages})),g=Object(n["computed"])((function(){return"\n            <p>1- Password should be minimal 6 and max 60 characters</p>\n            <p>2. At least one digit 0-9</p>\n            <p>3- At least one lowercase character a-z</p>\n            <p>4- At least one uppercase character A-Z</p>\n            <p>5- At least one allowed special character @$%#?&!*.+_|&#34;%&#39;&#60;&#62;(),/;=[]{}~</p>\n        "}));Object(n["watch"])((function(){return Object(W["a"])({},j.form)}),(function(e,t){Object.keys(j.errorBag).length>0&&(j.errorBag=u(j.form,j.rules,j.messages))}));var v="https://app.cointopay.com",y=function(e){j.form.reCaptcha=e},x=function(){c.value.reset(),j.form.reCaptcha=""},V=function(){},k=function(){r.emit("altCoinsModal",{selectedAltCoinsList:j.form.selectedaltcoins,confirm:function(e){j.form.selectedaltcoins=e}})},N=function(e){for(var t=0,c=0;c<e.length;c++){var n=e.charCodeAt(c);t=(t<<5)-t+n,t&=t}return t},E=function(e){"facebook"===e&&j.facebook.signIn().then((function(e){e&&(j.isSocial=!0,"undefined"!==typeof e.email?C(e):a.error("Please add email to your Facebook account"))})).catch((function(e){console.log(e)}))},C=function(e){var t=new URL(window.location.href),c=t.searchParams.get("r");c=null===c?0:c;var n="",r={Call:"CreateAccount",MerchantID:1,APIKey:"_",selectedaltcoins:1,shoptitle:e.name.replace(/ /g,"").toLowerCase(),email:e.email,ownernickname:e.email.replace(/[^a-z0-9]/gi,""),ownerpassword:e.id,locale:"EN",Sticky:1,r:c,output:"json"};o.get("".concat(v,"/v2REAPI"),{params:r}).then((function(t){if(t.data==="The Username "+r.ownernickname+" exists"){n=t.data;var c=r.ownernickname,l=N(c);r={User:c,Password:e.id,totp:"000000",api:l,output:"json"},o.get("".concat(v,"/Login"),{params:r}).then((function(t){if("Session already exists"===t.data)a.error(t.data);else{var n=t.data;n.Username=c,S(n,e.id)}})).catch((function(e){console.log(e),""!==n?(f(n),a.error(n)):a.error(e.response.data)}))}else{var s=t.data;s.Username=r.ownernickname,S(s,r.Password)}})).catch((function(e){j.isSocial&&j.facebook.signOut().then((function(){})),console.log(e)}))},S=function(e,c){delete e.Status,t.set("JSESSIONID",e.SessionID,{expires:"1Y",domain:".cointopay.com"}),s.dispatch(ge["q"],e).then((function(){s.dispatch(ge["i"],{User:e.Username,Password:c}),s.dispatch(ge["b"]).then((function(e){s.commit(ge["O"],!0),i.push({name:"wallet"})})).catch((function(e){console.log(e.response)}))}))},A=function(){if(j.errorBag=u(j.form,j.rules,j.messages),0===Object.keys(j.errorBag).length&&j.isValidPassword){j.isProcessing=!0;var e=new URL(window.location.href),c=e.searchParams.get("r");c=null===c?0:c;var n={Call:"CreateAccount",MerchantID:1,APIKey:"_",shoptitle:j.form.ownernickname,ownernickname:j.form.ownernickname,ownerpassword:encodeURIComponent(j.form.ownerpassword),email:j.form.email,selectedaltcoins:j.form.selectedaltcoins.map((function(e){return e.ID})).join(","),locale:j.form.locale,Sticky:1,r:c,output:"json"};o.get("".concat(v,"/v2REAPI"),{params:n}).then((function(e){if(e.data==="The Username ".concat(j.form.ownernickname," exists, Recover password with Username ").concat(j.form.ownernickname))j.isProcessing=!1,a.error(e.data);else{var c=e.data;delete c.Status,c.Username=j.form.ownernickname,t.set("JSESSIONID",c.SessionID,"7d","/",".cointopay.com",!0,"None"),s.dispatch(ge["q"],c).then((function(){s.dispatch(ge["i"],{User:c.Username,Password:n.ownerpassword}),s.dispatch(ge["b"]).then((function(e){j.isProcessing=!1,i.push({name:"wallet"})})).catch((function(e){j.isProcessing=!1,console.log(e.response)}))}))}})).catch((function(e){j.isProcessing=!1,console.log(e),a.error(e.response.data)}))}},B=function(){var e=/^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+)(?=.*[#?!@$%^&*\-.+_<>|%(),\\/;=\[\]`{}~])[A-Za-z0-9#?!@$%^&*\-.+_<>|%(),\\/;=\[\]`{}~]{6,60}$/;return e.test(j.form.ownerpassword)?j.isValidPassword=!0:j.isValidPassword=!1};return Object(n["onBeforeMount"])((function(){if(j.facebook=new ye["a"]("1018008431912064"),j.facebook&&j.facebook.initialize().then((function(e){})).catch((function(e){console.log(e)})),w.value){var e=s.state.currentRoute;i.push(e)}})),Object(W["a"])(Object(W["a"])({translate:l},Object(n["toRefs"])(j)),{},{vueRecaptcha:c,showError:m,mode:O,languages:h,passwordRules:g,generateIconUrl:p,recaptchaVerified:y,recaptchaExpired:x,recaptchaFailed:V,launchAtlCoinsModal:k,authenticate:E,submit:A,validatePasswordOnKeyup:B})}};c("c14c");const Ve=pe()(xe,[["render",J],["__scopeId","data-v-d63faf00"]]);t["default"]=Ve},"852a":function(e,t,c){},c14c:function(e,t,c){"use strict";c("852a")}}]);
//# sourceMappingURL=signup.974845c0.js.map