(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"010c":function(e,t,a){e.exports=a.p+"assets/img/shopify-brands.99b3f1da.svg"},"1f0c":function(e,t,a){"use strict";a("308b")},"2c7c":function(e,t,a){},"308b":function(e,t,a){},"3b01":function(e,t,a){"use strict";a("6770")},"3f37":function(e,t,a){"use strict";a("9974")},6770:function(e,t,a){},"77be":function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("f2bf"),o={class:"pl-0",style:{"list-style-type":"none"}},n={key:0,class:"ml-3"},r={key:0};function l(e,t,a,l,s,i){var d=Object(c["resolveComponent"])("icon"),u=Object(c["resolveComponent"])("router-link"),m=Object(c["resolveComponent"])("account-detail"),b=Object(c["resolveComponent"])("wallet-currencies"),p=Object(c["resolveComponent"])("payout-settings"),j=Object(c["resolveComponent"])("kyc"),O=Object(c["resolveComponent"])("shopping-cart"),f=Object(c["resolveComponent"])("payment-urls"),y=Object(c["resolveComponent"])("billing"),g=Object(c["resolveComponent"])("pos-settings"),v=Object(c["resolveComponent"])("referrals"),N=Object(c["resolveComponent"])("account-layout"),E=Object(c["resolveComponent"])("login-modal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(N,null,{sidebar:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("ul",o,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.navs,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t,class:"mb-1 border border-gray-200 dark:border-gray-700"},[Object(c["createVNode"])(u,{class:Object(c["normalizeClass"])([{active:e.isActive},"flex items-center hover:bg-gray-200 dark:hover:bg-gray-700 p-2 cursor-pointer dark:text-gray-300"]),to:{name:"account",params:{action:e.key}},tag:"a",onClick:function(t){return l.toggleActive(e)}},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(l.translate(e.name)),1),"kyc"===e.key&&l.accountInfo?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",n,["0"===l.accountInfo.Verified?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:0,name:"exclamation-circle",classes:"w-5 h-5 text-yellow-400"})):Object(c["createCommentVNode"])("",!0),"0"===l.accountInfo.FinalVerification?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1,name:"refresh",classes:"w-5 h-5 text-blue-500"})):Object(c["createCommentVNode"])("",!0),"1"===l.accountInfo.Verified&&"1"===l.accountInfo.FinalVerification?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:2,name:"badge-check",classes:"w-5 h-5 text-green-500"})):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)]})),_:2},1032,["class","to","onClick"])])})),128))])]})),content:Object(c["withCtx"])((function(){return[e.selectedNav?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,["detail"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:0})):Object(c["createCommentVNode"])("",!0),"wallet"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:1})):Object(c["createCommentVNode"])("",!0),"payout"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:2})):Object(c["createCommentVNode"])("",!0),"kyc"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:3})):Object(c["createCommentVNode"])("",!0),"shopping"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:4})):Object(c["createCommentVNode"])("",!0),"payments"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:5})):Object(c["createCommentVNode"])("",!0),"billing"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(y,{key:6})):Object(c["createCommentVNode"])("",!0),"pos"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(g,{key:7})):Object(c["createCommentVNode"])("",!0),"referrals"===e.selectedNav.key?(Object(c["openBlock"])(),Object(c["createBlock"])(v,{key:8})):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)]})),_:1}),Object(c["createVNode"])(E)],64)}var s=a("5530"),i=(a("d3b7"),a("159b"),{class:"p-4"}),d={class:"max-w-7xl 3xl:max-w-8xl mx-auto"},u={class:"flex flex-col md:flex-row space-x-0 md:space-x-4"},m={class:"w-full md:w-72 mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4",style:{"min-width":"18rem"}},b={class:"flex-grow bg-white dark:bg-gray-800 rounded shadow p-4"};function p(e,t,a,o,n,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("div",m,[Object(c["renderSlot"])(e.$slots,"sidebar")]),Object(c["createElementVNode"])("div",b,[Object(c["renderSlot"])(e.$slots,"content")])])])])}var j={name:"AccountLayout"},O=a("6b0d"),f=a.n(O);const y=f()(j,[["render",p]]);var g=y,v=a("cdae"),N={class:"card"},E={class:"title"},h=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),V={class:"body"},w={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},k={class:"col-span-3 md:col-span-1"},x={class:"col-span-3 md:col-span-2"},C={key:0,class:"font-semibold text-red-500"},B={key:1,class:"font-semibold text-green-700 dark:text-green-500"},P={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},S={class:"col-span-3 md:col-span-1"},D={class:"col-span-3 md:col-span-2"},I=["value"],A={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},M={class:"col-span-3 md:col-span-1"},T={class:"col-span-3 md:col-span-2"},F=["value"],U={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},L={class:"col-span-3 md:col-span-1"},q={class:"col-span-3 md:col-span-2"},_=["value"],z={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},K={class:"col-span-3 md:col-span-1"},R=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),W={class:"col-span-3 md:col-span-2"},Y={class:"text-red-500 text-sm"},J={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},G={class:"col-span-3 md:col-span-1"},Q=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),H={class:"col-span-3 md:col-span-2"},Z=["value"],X={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},$={class:"col-span-3 md:col-span-1"},ee={class:"col-span-3 md:col-span-2"},te={class:"text-red-500 text-sm"},ae={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ce={class:"col-span-3 md:col-span-1"},oe=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),ne={class:"col-span-3 md:col-span-2"},re={class:"text-red-500 text-sm"},le={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},se={class:"col-span-3 md:col-span-1"},ie={class:"col-span-3 md:col-span-2"},de={class:"text-red-500 text-sm"},ue={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},me=Object(c["createElementVNode"])("div",{class:"col-span-1"},null,-1),be={class:"col-span-3 md:col-span-2"},pe={class:"flex items-center justify-center flex-col"},je={class:"mb-2"},Oe={key:1,class:"pointer"},fe={class:"w-full mt-2 bg-gray-200 rounded-full h-1.5 dark:bg-gray-700"},ye={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ge={class:"col-span-3 md:col-span-1"},ve=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Ne={class:"col-span-3 md:col-span-2"},Ee=Object(c["createElementVNode"])("option",{value:"1"},"On",-1),he=Object(c["createElementVNode"])("option",{value:"0"},"Off",-1),Ve=[Ee,he],we={class:"text-red-500 text-sm"},ke={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},xe={class:"col-span-3 md:col-span-1"},Ce={class:"col-span-3 md:col-span-2"},Be=["value"],Pe={class:"text-red-500 text-sm"},Se={class:"mt-4 text-right"},De={key:0,class:"mr-3"};function Ie(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("QRCodeVue3"),s=Object(c["resolveComponent"])("icon"),i=Object(c["resolveComponent"])("j-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",N,[Object(c["createElementVNode"])("h5",E,Object(c["toDisplayString"])(o.translate("account.menu.details")),1),h,Object(c["createElementVNode"])("div",V,[o.accountInfo?(Object(c["openBlock"])(),Object(c["createElementBlock"])("form",{key:0,onSubmit:t[8]||(t[8]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("label",k,Object(c["toDisplayString"])(o.translate("account.details.verification")),1),Object(c["createElementVNode"])("div",x,["0"===o.accountInfo.Verified?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",C,Object(c["toDisplayString"])(o.translate("account.details.un_verified")),1)):Object(c["createCommentVNode"])("",!0),"1"===o.accountInfo.Verified?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",B,Object(c["toDisplayString"])(o.translate("account.details.verified")),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("label",S,Object(c["toDisplayString"])(o.translate("account.details.id")),1),Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full",value:o.accountInfo.ID,readonly:""},null,8,I)])]),Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("label",M,Object(c["toDisplayString"])(o.translate("account.details.api")),1),Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full",value:o.accountInfo.APIkey,readonly:""},null,8,F)])]),Object(c["createElementVNode"])("div",U,[Object(c["createElementVNode"])("label",L,Object(c["toDisplayString"])(o.translate("account.details.security_code")),1),Object(c["createElementVNode"])("div",q,[Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full",value:o.accountInfo.SecurityCode,readonly:""},null,8,_)])]),Object(c["createElementVNode"])("div",z,[Object(c["createElementVNode"])("label",K,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.details.organization"))+" ",1),R]),Object(c["createElementVNode"])("div",W,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.organizationName=t})},null,512),[[c["vModelText"],e.form.organizationName]]),Object(c["createElementVNode"])("div",Y,Object(c["toDisplayString"])(o.showError(e.errorBag,"organizationName")),1)])]),Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("label",G,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.details.username"))+" ",1),Q]),Object(c["createElementVNode"])("div",H,[Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full",value:o.accountInfo.OwnerNickName,readonly:""},null,8,Z)])]),Object(c["createElementVNode"])("div",X,[Object(c["createElementVNode"])("label",$,Object(c["toDisplayString"])(o.translate("account.details.password")),1),Object(c["createElementVNode"])("div",ee,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-input w-full","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.password=t})},null,512),[[c["vModelText"],e.form.password]]),Object(c["createElementVNode"])("div",te,Object(c["toDisplayString"])(o.showError(e.errorBag,"password")),1)])]),Object(c["createElementVNode"])("div",ae,[Object(c["createElementVNode"])("label",ce,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.details.email"))+" ",1),oe]),Object(c["createElementVNode"])("div",ne,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"email",class:"form-input w-full","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.email=t})},null,512),[[c["vModelText"],e.form.email]]),Object(c["createElementVNode"])("div",re,Object(c["toDisplayString"])(o.showError(e.errorBag,"email")),1)])]),Object(c["createElementVNode"])("div",le,[Object(c["createElementVNode"])("label",se,Object(c["toDisplayString"])(o.translate("account.details.twofa.auth")),1),Object(c["createElementVNode"])("div",ie,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.google2FA=t}),readonly:""},null,512),[[c["vModelText"],e.form.google2FA]]),Object(c["createElementVNode"])("div",de,Object(c["toDisplayString"])(o.showError(e.errorBag,"google2FA")),1)])]),Object(c["createElementVNode"])("div",ue,[me,Object(c["createElementVNode"])("div",be,[Object(c["createElementVNode"])("div",pe,[Object(c["createElementVNode"])("p",{class:"mb-2 cursor-pointer",onClick:t[4]||(t[4]=function(e){return o.fetchTotp("GenerateSecurityID")})},Object(c["toDisplayString"])(o.translate("account.details.twofa.reset")),1),Object(c["createVNode"])(l,{width:o.qrOptions.width,height:o.qrOptions.height,value:o.qrCodeText,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},dotsOptions:{type:"dots",color:"#446BB3",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#446BB3"},{offset:1,color:"#446BB3"}]}},backgroundOptions:{color:"#ffffff"},image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAhFBMVEUAAABEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7N72HjYAAAAK3RSTlMA+AUK7fPo0hOh2XA3Md7jGWc9fq93UcomXg5DqCshhb9KmsWQHbqLV7SV0EE2FAAAD9dJREFUeNrk2lcSmzAQBuCVkOhNVJtqg8Fl73+/JE+ZVAShyM53ATSMymp/wfG0U/QQ8c16XnLb1xkh+BXhTPeNfqy6e3q+eiGF/xs1T27m3JLe8HWOf0ZYYOej1YrSGzT4HxXX+2gEHGdhfl6JGv4nYRlXNsHFWN8J7z+YYjR0YwPXQCrhFfCxaFOmo01wNcywhGvCB6JufOG4Ot0SA3yWQSQcN2Pcy4/ZwcLylXPclD86H7GBDTeb4A5Y/njz32WenwR3o78ieFe0FheGu/KtawjvaLB03B+xz2+3GmlZETxI0L5VMVFcDTwSuZ/epUkROheCBwsq9x1KL3qtUAVBewLVPQxUBelcUBh1LYYKMVJ1t3pNrV/1jf1Qc6fXHB8V9CxBPZE6m9VP2gbUUnfKrcDvDKFUhzDr8d8xOx8Tq7vd2zaO2/b+6qpnbwQE/12nzo3RrfAf6L3Vir8Fg1oTPdLb0+C4HE/VmFyak+My3L5YTuY2JpX4SlhH5zbJl040lqhwA2qspc3zhxfSBeF12uMigYCjZf6SNspL1BQWK6I00ZeEZyEcqbgtaP/GzRqL360MgjP5R5aow3P+BWS9KNmMXhznYSkcJTNwljx1YV3a9abjLJUJRygEzmFbNWyBXkeGM/gu7K+p+JxeXDbAVqiX9gyl+SmFnQ0jSuPdlcKmwvOM5iwRBeyJZjrK6s8m7KBO5Yc0DrAf7RygHJI7DYVd0Ki1UQ651LCbO0c5xr4hXpgSlON7sA+zRTm5oLCzsA1QCstgD2aCUnyhwQE0S1enPj3JnTt23MAxqNfpKIE4JmysHlFGUsKBHjZK4FsXXK6PEkYPjkXPBk4jlgYbcmXGoKfHJwTUSxhOIq0Gm2kCnJZ4oAJN6nHKS4ONeAFO0oUyDzK0F8NJ1cRwN1yD5KJUXi6TZVoUNlD7Ehd6xV7dhXeGE0hnwuqaJ04JSgUClB9RR5+utyisrBhxSnX8IfgbUY8TeAzrMiefiOqKxJi/MCff9vCMwppinMCPT+X+pJjsRfhfuLnXLTRhGA7gabkjCgqKgndl6v7v/3472zn7sEuqtMHhfk/QD6FN0oaW5OgSTxxH+Qm+fI7nUxKz8mGWjCMRZWU1zC4dCWlnMFLJaBJR675SRTKKHEb+ZHQZw5/iEmZXjwQUFYz8D5kuKn0Yzcmdd1YwuZzoM3ibECaz++CbezjG961ckyuAyawhR62CST2e94cvWNQwqTpyEl9gEo08Zfhdm8JAldrtqgQm0fjHY36zy4c7qyYKBvWHxdV30xAGeUfWFjAJP2q/+mk6GyY3jWsY1J9zDv5ilQ7R3NIHc1+DPpM+KfDCHVm5q/8gb/8bY3b6KMjC/mgMV/pcnqnBFRzIwk2Bt/2A2tmyB+HvqbcMBtvR92TMdCValXQVeJdRDx+/YpeCpeaSTXf1cYn7n7JQrohb52D5472bECpOvsh90yUNRTfFfjfNFj9k03UXezQUbwleSz2swHvEJE4Xu3Z+2x6jNPcDpQCoHz91Tesv53KzWDckzzuCdVzT645ghWuS1q3KR2pKfepk0nrEk+/XLEV29/xEoqbzbY5XqOjrPSZRpwCc/OWQWKeS/TGe3m2SNOgzTX07FZrEeGewvgoEVh2TFH1/hOgtPe9JjBeBozJ6SZaC469JyO4wg6Wj3DDQwrmzVYE1IRF6sYULVUoNBJUKnIxesFPgfGlIQHyvAjjKv7ZaZC0PcI4xPeUdwPEzErBLAgjwl53IagIwVEtPrYJBU/esghT/WpC7CTiPhp7QiXtay4vLCHLUceW5LykCI9w8DcsQnAW5Ol0gSyV7ctUGYNT0ROJaivPiawBx/t0jM4dvaUpG+2CoOkdPK4UBhNeO3LQ5GLfGMnk/kJuJj4GkGTnRS7srLJ07VZa8eIvhBBOPXDQhGGe7c7Qc7s783/95jc3jZx2xigiMyHOaCUkxLFVnmuwVDzAmNi/XlmRPM3nuiDauDRgz3f8QTT2nrpEw+Wn65gLGpndvRs0d1nELwBpNxnUHY0uMKxhRTNYSvEvgEls1FycxlzfI71hNgvcJJgPsWgcmFOWfjjZXvNWELPGRkhb97tHm2vr9boC3CqyXShvFfIenXv0GVVhfSUDeULMxRcoViL2y94QsLRXebnYiS4cem5BXcWX9iuwsZvgHosJ2uSH3afcYKqw0WelC/BPJN/bOfjttGIbiiqEh5WMF0pFAF76aNTC9//uNf8bZDtWQNTE7Pvo9QhIr8rV871zqmUHJy3BDhwQnEOE+MBCtAxFT6q9x2+yOqSKwBQmuxUDIh86ptXVTBuf0qK1U2Q6E/OoHtQ53jtvBzkA4Fx6Qb7p/pKpmbksqEPGKQVmDCErOXTGlzBIEuEWG4ZD7NKx580cn1cPCbfAEHtkfsRkSo+wblpAyAgHuiDJCCxDuzOnLB5WmOLN6weCMB4rrMNvBb9Q5sS8Vrf0osp0WIGDwRKxDzih3JXk/K4yBL1PFv3g2YJSsEvypK4yCo1McQJrCFTckHuhWZLUVByK1pLkvwdZUlQR/ikg+LMQz+ONy4jPdMJoxyYccDTM9CXDc0PKMfNewGWM0dAO5nQw9YEpJT7WkU4mHfCnffNBFi6jvL+DPB0ZEC964/Z2DiLleyWowJsYCYasl2lJ3p4tcSeYzYyI7SesI/dy/Zp8iMM/4Hlxu+Oeh4eVQtPHr7U7nIRzg7/R9FapSgjLbKPQGIVIj0z6d1/8vhkDSy2OKx1KALhGnlGvsNFWZYcqsgKbfgsOVGKYKP6NIuHG40IEmdcKNw4Vn0OSASbO3ksVnBJqEP4d+KDko4vaYNBkoUqRd33Vb+DrHtGlAj9kTps0SAEz4Y3KwzoHPGvToMHEWJmaF2Um/Y+KUoEdEQw6PYWcyKZ8W9Ej4sIKaZpCDqaP4sBymztEeFp+jLUM+P6zA82mtdeDTWlPKZ2fbHT6lbaT5TEyi4bMw8Y/P2g6kw8jKUzuwsKOwK40dsvIp7PieTWaDIXxyGzniM7JhtlDDbE3aFf7ZBnD5dDbazWdilwb4rOw6Cp+ZXXTiU9gVOjZDALucyeXVrv3yKe1Cub/0V2Z/8muV9t+q4KxuVUCbYPRdecjewJsFZYKRvL1KoWivYsY9fOMes4QSWEKpmo1FVOJVzcbMxs7Dxs4MEj0MEs16k2+9aaauHqauZhfsYRdsRtR8I+rELc43qhbnZp7vYZ5vsQwesQwW+CEN/NgcLUqGHSUDJ+WQoncU0oOQIou/utBy46+g0g29d5MMA5G/KceyLhOO7OvUI/sSDoMstMMgLWbUI2bUAmw9AmwtGpkfjZxq6PbP8u50x00YCADw2Jj7CgmEI0AgISTZef/3q9RKVaXWnDYx2+/37p8RGQZ7xma5hEu3v+t17pHs69zH/x4TWKqwcTu6C4vlc+dXO+QwLVhsu2jpiYQ5XGLxqjKH9x8RLFY8ddwEe2mw2As5yvntVY4Gi2k33AJLYLniPn/94kL4WWs5etZROscDkJCxAgo8BxM5TA2Wo66DcpHUo7Cc9V7S/O5K6hL0A5Tqy5LTOBw8llQbGGawhlWiPLqrwRqaseysnpO08zIShr+plK4AqLvw46nW132h8lE/JiiB0T1gnUuIHM9iaQ3Zw0pWp6NwLNfk9aP7MKwOJU76+DaKpZ8sWItf2PQr4txksJZ1MlEc0pw1iYcGGPmEQEsdMvBiFIU9D1KHJN8FjNGuyMM8EKASs8jF3AcIUOmrmugrgjy9BgJYr3h1uILuQkEAK0aexoIJYumjr/RY4hrkVFPpQ38eTOE5yMMyEKS6BrhQk1sgyJEgT7y+hTa1QBT6ehs4m3PLQBgtRR7iwTSZM/ADoCAMrXLb0XEy4/48H6jAWH0h15eI7uywBaH8qAxxCmJ+vSwQqtVRxLpBg1xGBqI9zqe3Q5BLT233ooFoRwe5EkHd2bEFwtFDdYmeZWM6IdN/TYcSnRmBmfa3U37MChBPa1DMxwqNke8EstDiUFe+d/zJ87OHpYEsWoJ8F5gjC5GLRfANRDpy9QIncEgGu+cZyGX6MM8jRr67DztXOchFovmhxwGlBrs2mJPTA8zWEeQrKexYESMfq2G+ukE+4sJ+ae5QUXcV351NctithInPMPSKA1gL+0RbgnxGBRyrxp3TC+xSaw6mFwoLHccGGXaoCmQd/DQ8JpF6sDt+iAOMGpbTbBxi1rAzWbi615nPaoajtbNS/uIgoryVzQvBIemu8pZ3xyHxA1Y6Mxxi7OedSHMdhwQFrKXdCA6576Xeoq9wOFYvWO8Qj06A7MKJbXFTjBWMbaTv4KvaOuGwThP5DuEjtvIrNla82TGkZ4bDbMVLCO+Ow+4PEIWecESjdHnqm8vPgZBxKJau7i6GNjok6lxAJKskOMxILFCSdWM4TD9TEKrocUz5AAV59/HGVBAte+OY8KJcDUEjA0cQGZVP4eAY0hWglEOJY8iVggSeiWNIo9RP0TNxlE1BCi/EUUakTIGqdQy55O+A1iGOi9UoUGmb4rgvDaTxTRxnJJ+vUGlVMhxFrhpI5AU4Qe/DZ9HcRI4tv2mrHqeIL/BBL3PatD4FybIGp3BONXwG9b8MnIC4FkhnvXGS4DPvRc02pk/ry2c9cZo0orAxa+osAjvDRiafa2HmBWzo4BKcJvBhK1oe4jQkdWsKm6De1Zk8qFjBdujZwKnuuQUbyJIQp+ofsKlHj5Ppt5aCVIe8ITgViQrYWF3qOFlYnh8gC/WTO8PJgoTC5ooI53DsCmSgbc/WH6ov39nEWdLEA7G0tjNwltKCD3m8cSYzqTQQxPI6HX9TqRL9tyIxcCaWdmd/dcAOxyg2Cc7UtxQ+6RzgbMT5iioKixXHJDZwNlJ+vD+qtnERw37588dSteyYNLhIqMLOpuamuAxzGts9e7VFp0wkZsf8GqchwUVYnKmx9eSVuIJxt69RO/CUafXx5XZvU8fldIW2gM93XI85aR/bt+55vZ5O1+vz61a+72ZIcL3bx7PVn6qbwreTm5E6j9UvRyXucfqX6+f3T/6iuR+/bedf3op2CGu2cr9F56XGO/AfqKdWuMxEqW6Cv+TqpC5yU362iLYxqiC87uKMgIPbEPywsPSUaVAZUbQmfhJ5KvJtMw29lAQ/JFSxsBpR2wZujzi5Yt2H09AqujPcVGC3Sn0FzmLlb4KbCb92MnM1FC8dNxDcdvP+G3K4fKWS4xX2rr/LVPUvjyiWGC6nu3yHh+oP1Ds1EgJm2NH+CoUJaN0mvUNQGGbakafaup5A9OAJOuWclNH3SVODGf9UrnnCWHqL/G+WpYYV7bM3DYKzsCAtowr+R9TKvLPbxXczMHTkIyx00t6+Rhf/8V89UJxt5ld06ux3kzqhwQhBREJ0FgbmvS9vzyRv/YMSywg/ANZwMFEAYrFHAAAAAElFTkSuQmCC",cornersSquareOptions:{type:"dot",color:"#000000"},cornersDotOptions:{type:void 0,color:"#000000"},fileExt:"png",myclass:"my-qur",imgclass:"img-qr",downloadButton:"my-button",downloadOptions:{name:"vqr",extension:"png"}},null,8,["width","height","value","imageOptions"]),e.totp?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"cursor-pointer text-center",onClick:t[5]||(t[5]=function(e){return o.fetchTotp("GenerateTOTP")})},[Object(c["createElementVNode"])("p",je,Object(c["toDisplayString"])(o.translate("account.details.twofa.test")),1),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(o.translate("account.details.twofa.warning")),1)])),e.totp?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Oe,[Object(c["createElementVNode"])("span",null,"Test 2FA, result: "+Object(c["toDisplayString"])(e.totp),1),Object(c["createElementVNode"])("div",fe,[Object(c["createElementVNode"])("div",{class:"bg-blue-600 h-1.5 rounded-full",style:Object(c["normalizeStyle"])("width:".concat(e.progress,"%; transition: width 2s;"))},null,4)])])):Object(c["createCommentVNode"])("",!0)])])]),Object(c["createElementVNode"])("div",ye,[Object(c["createElementVNode"])("label",ge,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.details.twofa.on_off"))+" ",1),ve]),Object(c["createElementVNode"])("div",Ne,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.google2FAEnabled=t})},Ve,512),[[c["vModelSelect"],e.form.google2FAEnabled]]),Object(c["createElementVNode"])("div",we,Object(c["toDisplayString"])(o.showError(e.errorBag,"google2FAEnabled")),1)])]),Object(c["createElementVNode"])("div",ke,[Object(c["createElementVNode"])("label",xe,Object(c["toDisplayString"])(o.translate("account.details.locale")),1),Object(c["createElementVNode"])("div",Ce,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.locale=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.languages,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:t},Object(c["toDisplayString"])(e.naam),9,Be)})),128))],512),[[c["vModelSelect"],e.form.locale]]),Object(c["createElementVNode"])("div",Pe,Object(c["toDisplayString"])(o.showError(e.errorBag,"locale")),1)])]),Object(c["createElementVNode"])("div",Se,[Object(c["createVNode"])(i,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",De,[Object(c["createVNode"])(s,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)):Object(c["createCommentVNode"])("",!0)])])}a("99af"),a("b64b"),a("ac1f"),a("5319");var Ae=a("4032"),Me=a("61c6"),Te=a.n(Me),Fe=a("5502"),Ue=a("3fbe"),Le=a("ea45"),qe=a("8923"),_e=a("2e13"),ze={name:"AccountDetail",components:{JButton:Ae["a"],Icon:v["a"],QRCodeVue3:Te.a},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("http"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(Ue["a"])(),r=n.qrOptions,l=Object(Le["a"])(),i=l.validate,d=l.showError,u=Object(_e["a"])(),m=u.saveNotification,b=Object(c["reactive"])({form:{organizationName:"",email:"",password:"",google2FA:"",google2FAEnabled:"",locale:""},errorBag:{},rules:{organizationName:["required","regex:/^([0-9a-zA-Z-:.!@#$^&*+?| ]){1,50}$/"],email:["required","email"],password:["regex:/^[0-9a-zA-Z-:.!@#$^&*+_<>? |\\x22%'(),/;=?[\\]`{}~]{1,25}$/"],google2FA:["required"],google2FAEnabled:["required"],locale:["required"]},google2FA:null,totp:null,progress:100,timer:null,isProcessing:!1}),p=Object(c["computed"])((function(){return o.state.accountInfo})),j=Object(c["computed"])((function(){return o.state.languages})),O=Object(c["computed"])((function(){return b.google2FA?b.google2FA:p.value["2FA"]})),f=Object(c["computed"])((function(){return"otpauth://totp/Cointopay(".concat(p.value.OwnerNickName,")?secret=").concat(O.value,"&issuer=Cointopay")}));Object(c["watch"])((function(){return Object(s["a"])({},b.form)}),(function(e,t){Object.keys(b.errorBag).length>0&&(b.errorBag=i(e,b.rules))})),Object(c["watch"])((function(){return Object(s["a"])({},p.value)}),(function(e,t){b.form={organizationName:e.ShopTitle,email:e.Email,google2FA:e["2FA"],google2FAEnabled:e["2FAEnabled"],locale:e.Locale}}));var y="https://app.cointopay.com",g=function e(a){t.get("".concat(y,"/v2REAPI"),{params:{Call:a,MerchantID:p.value.ID,APIKey:p.value.APIkey,AltCoinID:-1,TOTPSecurity:b.form.google2FA.replace(/ /g,""),output:"json"}}).then((function(t){if("GenerateTOTP"===a){b.totp=t.data;var c=0;b.timer=setInterval((function(){c++,c>=30&&(c=0,e("GenerateTOTP"),clearInterval(b.timer)),b.progress=100-100/30*c}),1e3)}else"GenerateSecurityID"===a&&(b.google2FA=t.data.replace(/ /g,"").replace(/'/g,""),b.form.google2FA=b.google2FA,b.timer&&(clearInterval(b.timer),b.totp=null))})).catch((function(e){console.log(e.response)}))},v=function(){if(b.errorBag=i(b.form,b.rules),0===Object.keys(b.errorBag).length&&p.value){var e=Object(s["a"])(Object(s["a"])({},p.value),{},{ShopTitle:b.form.organizationName,Email:b.form.email,"2FA":b.form.google2FA,"2FAEnabled":b.form.google2FAEnabled,Password:b.form.password,Locale:b.form.locale});b.isProcessing=!0,o.dispatch(qe["gb"],e).then((function(e){b.isProcessing=!1,200===e.status&&(a.success("Account detail updated successfully"),m("Account detail updated successfully"))})).catch((function(e){b.isProcessing=!1,a.error(e.data.message),m(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){p.value&&(b.form={organizationName:p.value.ShopTitle,email:p.value.Email,google2FA:p.value["2FA"],google2FAEnabled:p.value["2FAEnabled"],locale:p.value.Locale})})),Object(c["onBeforeUnmount"])((function(){b.timer&&clearInterval(b.timer)})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(b)),{},{qrOptions:r,accountInfo:p,languages:j,qrCodeText:f,showError:d,fetchTotp:g,submit:v})}};const Ke=f()(ze,[["render",Ie]]);var Re=Ke,We=function(e){return Object(c["pushScopeId"])("data-v-ceecce92"),e=e(),Object(c["popScopeId"])(),e},Ye={class:"card"},Je={class:"title flex items-center justify-between"},Ge={class:"cursor-pointer"},Qe=We((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),He={class:"body"},Ze={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},Xe={key:0,class:"mb-3 md:mb-0 font-semibold"},$e={class:"card"},et={class:"title flex items-center justify-between"},tt={class:"cursor-pointer"},at=We((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),ct={class:"body"},ot={class:"flex flex-wrap justify-start gap-x-1 gap-y-1 md:gap-x-4 md:gap-y-2"},nt=["src"],rt={class:"mt-4 text-right"},lt={class:"card"},st={class:"title flex items-center justify-between"},it={class:"cursor-pointer"},dt=We((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),ut={class:"body"},mt={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},bt={key:0,class:"mb-3 md:mb-0 font-semibold"},pt={key:0,class:"flex items-center mt-3 md:mt-0"},jt={class:"ml-3 flex items-center cursor-pointer relative",for:"swapPreferredAltCoinId"},Ot=We((function(){return Object(c["createElementVNode"])("span",{class:"toggle-bg bg-gray-300 dark:bg-gray-700 border-2 border-gray-300 focus:outline-none dark:border-gray-700 h-5 w-9 rounded-full"},null,-1)})),ft={class:"card"},yt={class:"title flex items-center justify-between"},gt={class:"cursor-pointer"},vt=We((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),Nt={class:"body"},Et={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},ht=We((function(){return Object(c["createElementVNode"])("option",{value:"0"},"None",-1)})),Vt=["value"],wt={key:0,class:"mr-3"},kt={class:"card"},xt={class:"title flex items-center justify-between"},Ct={class:"cursor-pointer"},Bt=We((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),Pt={class:"body"},St={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},Dt={class:"flex items-center w-full md:w-2/5 mb-3 md:mb-0"},It={class:"mx-8 w-8 text-center"},At={key:0,class:"mr-3"};function Mt(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("input-currency-modal"),d=Object(c["resolveComponent"])("active-currencies-modal"),u=Object(c["resolveComponent"])("preferred-currency-modal"),m=Object(c["resolveDirective"])("tippy");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",Ye,[Object(c["createElementVNode"])("div",Je,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.wallet.default_title")),1),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Ge,[Object(c["createVNode"])(l,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[m,{content:o.translate("account.wallet.default_help")}]])]),Qe,Object(c["createElementVNode"])("div",He,[Object(c["createElementVNode"])("div",Ze,[o.selectedInputCurrency?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",Xe,Object(c["toDisplayString"])("".concat(o.selectedInputCurrency.Name," ").concat(o.selectedInputCurrency.LongName)),1)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(s,{size:"w-full md:w-auto",onClick:t[0]||(t[0]=function(e){return o.launchInputCurrencyModal()})},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.wallet.button")),1)]})),_:1})])])]),Object(c["createElementVNode"])("div",$e,[Object(c["createElementVNode"])("div",et,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.wallet.active_title")),1),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",tt,[Object(c["createVNode"])(l,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[m,{content:o.translate("account.wallet.active_help")}]])]),at,Object(c["createElementVNode"])("div",ct,[Object(c["createElementVNode"])("div",ot,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.selectedCoinsList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t,class:"flex items-center w-40"},[Object(c["createElementVNode"])("img",{src:o.generateIconUrl(e.Name),alt:"",class:"w-6 h-6 mr-3"},null,8,nt),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.Name),1)])})),128))]),Object(c["createElementVNode"])("div",rt,[Object(c["createVNode"])(s,{size:"w-full md:w-auto",onClick:t[1]||(t[1]=function(e){return o.launchActiveCurrenciesModal()})},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.wallet.button")),1)]})),_:1})])])]),Object(c["createElementVNode"])("div",lt,[Object(c["createElementVNode"])("div",st,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.wallet.preferred_title")),1),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",it,[Object(c["createVNode"])(l,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[m,{content:o.translate("account.wallet.preferred_help")}]])]),dt,Object(c["createElementVNode"])("div",ut,[Object(c["createElementVNode"])("div",mt,[o.preferredCurrency?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",bt,Object(c["toDisplayString"])("".concat(o.preferredCurrency.Name," ").concat(o.preferredCurrency.LongName)),1)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(s,{size:"w-full md:w-auto",onClick:t[2]||(t[2]=function(e){return o.launchPreferredCurrencyModal()})},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.wallet.button")),1)]})),_:1})]),o.preferredCurrency?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",pt,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(o.translate("account.wallet.auto_swap")),1),Object(c["createElementVNode"])("label",jt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"swapPreferredAltCoinId","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.isSwapPreferredAltCoinID=t}),class:"sr-only",type:"checkbox"},null,512),[[c["vModelCheckbox"],e.isSwapPreferredAltCoinID]]),Ot])])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",ft,[Object(c["createElementVNode"])("div",yt,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.wallet.excluded_currencies_title")),1),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",gt,[Object(c["createVNode"])(l,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[m,{content:o.translate("account.wallet.excluded_currencies_help")}]])]),vt,Object(c["createElementVNode"])("div",Nt,[Object(c["createElementVNode"])("div",Et,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.excludedCoin=t}),class:"form-select w-full md:w-2/5 mb-3 md:mb-0"},[ht,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.selectedCoinsList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e.ID},Object(c["toDisplayString"])("".concat(e.Name," ").concat(e.LongName)),9,Vt)})),128))],512),[[c["vModelSelect"],e.excludedCoin]]),Object(c["createVNode"])(s,{disabled:e.isProcessing,size:"w-full md:w-auto",onClick:t[5]||(t[5]=function(e){return o.updateExcludedCurrency()})},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",wt,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])])]),Object(c["createElementVNode"])("div",kt,[Object(c["createElementVNode"])("div",xt,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.wallet.flexibility_percentage")),1),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Ct,[Object(c["createVNode"])(l,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[m,{content:o.translate("account.wallet.help")}]])]),Bt,Object(c["createElementVNode"])("div",Pt,[Object(c["createElementVNode"])("div",St,[Object(c["createElementVNode"])("div",Dt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.flexibilityPercentage=t}),class:"w-full h-1 rounded bg-blue-100 dark:bg-gray-700 appearance-none",max:"100",min:"60",type:"range"},null,512),[[c["vModelText"],e.flexibilityPercentage]]),Object(c["createElementVNode"])("span",It,Object(c["toDisplayString"])(e.flexibilityPercentage),1)]),Object(c["createVNode"])(s,{disabled:e.isProcessing,size:"w-full md:w-auto",onClick:t[7]||(t[7]=function(e){return o.updateFlexibilityPercentage()})},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",At,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])])]),Object(c["createVNode"])(i),Object(c["createVNode"])(d),Object(c["createVNode"])(u)],64)}a("1276"),a("25f0"),a("a9e3");var Tt={class:"flex items-center justify-between"},Ft={class:"capitalize"},Ut={class:"mb-2"},Lt={class:"flex items-center justify-between mb-1"},qt={class:"text-blue-500 text-sm"},_t=["value"],zt={class:"mt-4 text-right"},Kt={key:0,class:"mr-3"};function Rt(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("modal");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[3]||(t[3]=function(e){return o.closeModal()})},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Tt,[Object(c["createElementVNode"])("span",Ft,Object(c["toDisplayString"])(o.translate("account.wallet.choose")),1),Object(c["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(c["createVNode"])(l,{name:"close"})])])]})),content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",Ut,[Object(c["createElementVNode"])("div",Lt,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("account.wallet.default_title")),1),Object(c["createElementVNode"])("div",qt,Object(c["toDisplayString"])(o.showError(e.errorBag,"inputCurrency")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.inputCurrency=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.inputCurrencies,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e.ShortName},Object(c["toDisplayString"])("".concat(e.Name," ").concat(e.LongName)),9,_t)})),128))],512),[[c["vModelSelect"],e.form.inputCurrency]])]),Object(c["createElementVNode"])("div",zt,[Object(c["createVNode"])(s,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Kt,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)]})),_:1},8,["maxWidth","show"])}a("d81d");var Wt=a("714b"),Yt=a("2ef0"),Jt={name:"InputCurrencyModal",components:{Modal:Wt["a"],JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("emitter"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(Le["a"])(),r=n.validate,l=n.showError,i=Object(_e["a"])(),d=i.saveNotification,u=Object(c["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,inputCurrencies:[],defaultCurrency:null,form:{inputCurrency:""},errorBag:{},rules:{inputCurrency:["required"]},isProcessing:!1}),m=Object(c["computed"])((function(){return o.state.accountInfo})),b=Object(c["computed"])((function(){return o.state.altCoins})),p=Object(c["computed"])((function(){return o.state.pos})),j=Object(c["computed"])((function(){return o.state.posCalls})),O=function(){u.show=!1},f=function(e){var t=p.value.tickets;if(t.length>0){var a=Yt["find"](b.value,{ShortName:e});a&&(e=a.LongName),t=t.map((function(t){if("paid"!==t.status.toLowerCase()){var a=t.ticketProducts.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{currency:e})})),c=t.inputCurrency!==e;return Object(s["a"])(Object(s["a"])({},t),{},{ticketProducts:a,inputCurrency:e,paymentRequest:c?null:t.paymentRequest,status:c?"waiting":t.status})}return t})),o.dispatch(qe["z"],{call:j.value.tickets,data:t})}},y=function(){if(u.errorBag=r(u.form,u.rules),0===Object.keys(u.errorBag).length&&m.value){u.isProcessing=!0;var e=Object(s["a"])(Object(s["a"])({},m.value),{},{PayoutCurrencyShortName:u.form.inputCurrency});o.dispatch(qe["gb"],e).then((function(e){u.isProcessing=!1,200===e.status&&(a.success("Default input currency updated successfully"),d("Default input currency updated successfully"),f(u.form.inputCurrency),O())})).catch((function(e){u.isProcessing=!1,a.error(e.data.message),d(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){t.on("inputCurrencyModal",(function(e){u.inputCurrencies=e.inputCurrencies,u.form.inputCurrency=e.defaultCurrency.ShortName,u.show=!0}))})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(u)),{},{closeModal:O,showError:l,submit:y})}};const Gt=f()(Jt,[["render",Rt]]);var Qt=Gt,Ht={class:"flex items-center justify-between"},Zt={class:"capitalize"},Xt={class:"flex items-center justify-between flex-col md:flex-row"},$t=Object(c["createTextVNode"])("Select All"),ea=Object(c["createTextVNode"])(" Select Popular Only "),ta=Object(c["createTextVNode"])(" Unselect All "),aa={class:"relative flex-1 my-4"},ca={class:"flex flex-wrap justify-center gap-2"},oa=["onClick"],na=["src"],ra={class:"text-xs font-semibold"},la={class:"text-center mt-4"},sa=Object(c["createTextVNode"])("Close");function ia(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("modal");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[7]||(t[7]=function(e){return o.closeModal()})},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Ht,[Object(c["createElementVNode"])("span",Zt,Object(c["toDisplayString"])(o.translate("account.wallet.choose")),1),Object(c["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(c["createVNode"])(l,{name:"close"})])])]})),content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Xt,[Object(c["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[1]||(t[1]=function(e){return o.selectAll()})},{default:Object(c["withCtx"])((function(){return[$t]})),_:1}),Object(c["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[2]||(t[2]=function(e){return o.selectPopularOnly()})},{default:Object(c["withCtx"])((function(){return[ea]})),_:1}),Object(c["createVNode"])(s,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[3]||(t[3]=function(e){return o.unSelectAll()})},{default:Object(c["withCtx"])((function(){return[ta]})),_:1})]),Object(c["createElementVNode"])("div",aa,[Object(c["createVNode"])(l,{classes:"absolute w-5 h-5 top-3 left-3 dark:text-gray-300",name:"search"}),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.keyword=t}),"aria-label":"Search...",class:"form-input px-10 w-full",type:"text"},null,512),[[c["vModelText"],e.keyword]]),""!==e.keyword?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",{key:0,class:"absolute top-3 right-3 dark:text-gray-400 cursor-pointer",onClick:t[5]||(t[5]=function(t){return e.keyword=""})},[Object(c["createVNode"])(l,{classes:"w-5 h-5",name:"close"})])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",ca,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.altCoinsList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t,class:Object(c["normalizeClass"])("w-24 w-24 p-3 cursor-pointer hover:border-blue-700 dark:hover:border-blue-500 text-center border-2 inline-block rounded-md shadow flex items-center justify-center flex-col ".concat(o.isSelected(e)?"border-green-500":"border-gray-300 dark:border-gray-500")),onClick:function(t){return o.toggleAltCoinsSelection(e)}},[Object(c["createElementVNode"])("img",{src:o.generateIconUrl(e.Name),alt:"",class:"w-10 h-10 mb-2 mx-auto"},null,8,na),Object(c["createElementVNode"])("p",ra,Object(c["toDisplayString"])(e.Name),1)],10,oa)})),128))]),Object(c["createElementVNode"])("div",la,[Object(c["createVNode"])(s,{onClick:t[6]||(t[6]=function(e){return o.closeModal()})},{default:Object(c["withCtx"])((function(){return[sa]})),_:1})])]})),_:1},8,["maxWidth","show"])}a("4de4"),a("a15b"),a("a434");var da={name:"ActiveCurrenciesModal",components:{Modal:Wt["a"],JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("emitter"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(_e["a"])(),r=n.generateIconUrl,l=n.saveNotification,i=Object(c["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,keyword:"",selectedAltCoinsList:[],selectedAltCoins:""}),d=Object(c["computed"])((function(){return o.state.accountInfo})),u=Object(c["computed"])((function(){return o.state.altCoins})),m=Object(c["computed"])((function(){var e=Yt["orderBy"](u.value,[function(e){return e.Name.toLowerCase()}],"asc");return e.filter((function(e){if(i.keyword&&""!==i.keyword){var t=i.keyword.toLowerCase();return-1!==e.Name.toLowerCase().indexOf(t)||-1!==e.ShortName.toLowerCase().indexOf(t)||-1!==e.LongName.toLowerCase().indexOf(t)}return!0}))})),b=function(){i.show=!1,g()},p=function(e){return-1!==Yt["findIndex"](i.selectedAltCoinsList,{ID:e.ID})},j=function(){i.selectedAltCoinsList=u.value,i.selectedAltCoins=i.selectedAltCoinsList.map((function(e){return e.ID})).join(",")},O=function(){i.selectedAltCoinsList=u.value.filter((function(e){return 1===e.BuyEnabled&&0===e.vFiat})),i.selectedAltCoins=i.selectedAltCoinsList.map((function(e){return e.ID})).join(",")},f=function(){i.selectedAltCoinsList=u.value.filter((function(e){return-1!==[1,8,9,2].indexOf(e.ID)})),i.selectedAltCoins="1,8,9,2"},y=function(e){var t=Yt["findIndex"](i.selectedAltCoinsList,{ID:e.ID});-1!==t?i.selectedAltCoinsList.splice(t,1):i.selectedAltCoinsList.push(e),i.selectedAltCoins=i.selectedAltCoinsList.map((function(e){return e.ID})).join(",")},g=function(){if(i.selectedAltCoinsList.length>0){var e=Object(s["a"])(Object(s["a"])({},d.value),{},{SelectedAltCoins:i.selectedAltCoins});o.dispatch(qe["gb"],e).then((function(e){200===e.status&&(a.success("Active coins updated successfully"),l("Active coins updated successfully"),i.selectedAltCoins="")})).catch((function(e){a.error(e.data.message),l(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){t.on("activeCurrenciesModal",(function(e){i.selectedAltCoinsList=e.selectedAltCoins,i.selectedAltCoins=i.selectedAltCoinsList.map((function(e){return e.ID})).join(","),i.show=!0}))})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(i)),{},{closeModal:b,generateIconUrl:r,altCoinsList:m,isSelected:p,toggleAltCoinsSelection:y,selectAll:j,selectPopularOnly:O,unSelectAll:f})}};const ua=f()(da,[["render",ia]]);var ma=ua,ba={class:"flex items-center justify-between"},pa={class:"capitalize"},ja={class:"mb-2"},Oa={class:"flex items-center justify-between mb-1"},fa={class:"text-blue-500 text-sm"},ya=["value"],ga={class:"mt-4 text-right"},va={key:0,class:"mr-3"};function Na(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("modal");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[3]||(t[3]=function(e){return o.closeModal()})},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",ba,[Object(c["createElementVNode"])("span",pa,Object(c["toDisplayString"])(o.translate("account.wallet.choose")),1),Object(c["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(c["createVNode"])(l,{name:"close"})])])]})),content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",ja,[Object(c["createElementVNode"])("div",Oa,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("account.wallet.preferred_title")),1),Object(c["createElementVNode"])("div",fa,Object(c["toDisplayString"])(o.showError(e.errorBag,"preferredCurrency")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.preferredCurrency=t}),class:"form-select w-full"},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.selectedCoinsList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e.ID},Object(c["toDisplayString"])("".concat(e.Name," ").concat(e.LongName)),9,ya)})),128))],512),[[c["vModelSelect"],e.form.preferredCurrency]])]),Object(c["createElementVNode"])("div",ga,[Object(c["createVNode"])(s,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",va,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)]})),_:1},8,["maxWidth","show"])}var Ea={name:"PreferredCurrencyModal",components:{Modal:Wt["a"],JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("emitter"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(Le["a"])(),r=n.validate,l=n.showError,i=Object(_e["a"])(),d=i.saveNotification,u=Object(c["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,selectedCoinsList:[],form:{preferredCurrency:""},errorBag:{},rules:{preferredCurrency:["required"]},isProcessing:!1}),m=Object(c["computed"])((function(){return o.state.accountInfo})),b=function(){u.show=!1},p=function(){if(u.errorBag=r(u.form,u.rules),0===Object.keys(u.errorBag).length&&m.value){u.isProcessing=!0;var e=Object(s["a"])(Object(s["a"])({},m.value),{},{PreferredCoinID:u.form.preferredCurrency});o.dispatch(qe["gb"],e).then((function(e){u.isProcessing=!1,200===e.status&&(a.success("Preferred currency updated successfully"),d("Preferred currency updated successfully"),b())})).catch((function(e){u.isProcessing=!1,a.error(e.data.message),d(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){t.on("preferredCurrencyModal",(function(e){u.form.preferredCurrency=e.preferredCurrency.ID,u.selectedCoinsList=e.selectedCoinsList,u.show=!0}))})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(u)),{},{closeModal:b,showError:l,submit:p})}};const ha=f()(Ea,[["render",Na]]);var Va=ha,wa=a("6c02"),ka={name:"WalletCurrencies",components:{Icon:v["a"],JButton:Ae["a"],InputCurrencyModal:Qt,ActiveCurrenciesModal:ma,PreferredCurrencyModal:Va},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("emitter"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(wa["d"])(),r=Object(_e["a"])(),l=r.generateIconUrl,i=Object(c["reactive"])({selectedCoins:[],isSwapPreferredAltCoinID:!1,excludedCoin:0,flexibilityPercentage:60,isProcessing:!1}),d=Object(c["computed"])((function(){return o.state.accountInfo})),u=Object(c["computed"])((function(){return o.state.inputCurrencies})),m=Object(c["computed"])((function(){return o.state.altCoins})),b=Object(c["computed"])((function(){return u.value.length>0&&d.value?Yt["find"](u.value,{ShortName:d.value.PayoutCurrencyShortName}):null})),p=Object(c["computed"])((function(){if(d.value){var e=d.value.SelectedAltCoins.split(",");i.selectedCoins=[],m.value.forEach((function(t){-1!==e.indexOf(t.ID.toString())&&-1===Yt["findIndex"](i.selectedCoins,{ID:t.ID})&&i.selectedCoins.push(t)}))}return Yt["orderBy"](i.selectedCoins,[function(e){return e.Name.toLowerCase()}],"asc")})),j=Object(c["computed"])((function(){return m.value.length>0&&d.value&&d.value.PreferredCoinID?Yt["find"](m.value,{ID:Number(d.value.PreferredCoinID)}):null}));Object(c["watch"])((function(){return i.isSwapPreferredAltCoinID}),(function(e,t){if(d.value&&e!==("1"===d.value.SWAPPreferredCoinID)){i.isProcessing=!0;var c=Object(s["a"])(Object(s["a"])({},d.value),{},{SWAPPreferredCoinID:e});o.dispatch(qe["gb"],c).then((function(e){i.isProcessing=!1,200===e.status&&a.success("Auto swap settings updated successfully")})).catch((function(e){i.isProcessing=!1,a.error(e.data.message)}))}}));var O=function(){t.emit("inputCurrencyModal",{inputCurrencies:u.value,defaultCurrency:b.value})},f=function(){t.emit("activeCurrenciesModal",{selectedAltCoins:Yt["cloneDeep"](i.selectedCoins)})},y=function(){t.emit("preferredCurrencyModal",{preferredCurrency:j.value,selectedCoinsList:p.value})},g=function(){if(d.value){i.isProcessing=!0;var e=Object(s["a"])(Object(s["a"])({},d.value),{},{AltCoinFiatPayOutExcludes:i.excludedCoin});o.dispatch(qe["gb"],e).then((function(e){i.isProcessing=!1,200===e.status&&a.success("Excluded coin updated successfully")})).catch((function(e){i.isProcessing=!1,a.error(e.data.message)}))}},v=function(){if(d.value){i.isProcessing=!0;var e=Object(s["a"])(Object(s["a"])({},d.value),{},{FlexibilityPercentage:i.flexibilityPercentage});o.dispatch(qe["gb"],e).then((function(e){i.isProcessing=!1,200===e.status&&a.success("Flexibility percentage updated successfully")})).catch((function(e){i.isProcessing=!1,a.error(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){d.value&&(i.isSwapPreferredAltCoinID="1"===d.value.SWAPPreferredCoinID,i.excludedCoin=parseInt(d.value.AltCoinFiatPayOutExcludes),i.flexibilityPercentage=d.value.FlexibilityPercentage)})),Object(c["onMounted"])((function(){Object.keys(n.query).length>0&&n.query.popup&&"true"===n.query.popup.toString()&&(console.log(n.query.popup),f())})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(i)),{},{selectedInputCurrency:b,preferredCurrency:j,generateIconUrl:l,selectedCoinsList:p,launchInputCurrencyModal:O,launchActiveCurrenciesModal:f,launchPreferredCurrencyModal:y,updateExcludedCurrency:g,updateFlexibilityPercentage:v})}};a("ea34");const xa=f()(ka,[["render",Mt],["__scopeId","data-v-ceecce92"]]);var Ca=xa,Ba={class:"card"},Pa={class:"flex items-center justify-between title"},Sa={class:"cursor-pointer"},Da=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Ia={class:"body"},Aa={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ma={class:"col-span-3 md:col-span-1"},Ta=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Fa={class:"col-span-3 md:col-span-2"},Ua={class:"flex items-center justify-between"},La=["value"],qa={class:"ml-2 cursor-pointer"},_a={class:"text-blue-500 text-sm"},za={key:0,class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ka={class:"col-span-3 md:col-span-1"},Ra={class:"col-span-3 md:col-span-2"},Wa={key:1,class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ya=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},"Payout account",-1),Ja={class:"col-span-3 md:col-span-2"},Ga={key:2},Qa={class:"mb-2 grid grid-cols-1 md:grid-cols-3 gap-1 md:gap-4"},Ha=Object(c["createElementVNode"])("div",{class:"col-span-3 md:col-span-1"},null,-1),Za={class:"col-span-3 md:col-span-2"},Xa={class:"text-center font-semibold text-lg mb-2"},$a={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ec={class:"col-span-3 md:col-span-1"},tc=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),ac={class:"col-span-3 md:col-span-2"},cc={class:"text-blue-500 text-sm"},oc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},nc={class:"col-span-3 md:col-span-1"},rc=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),lc={class:"col-span-3 md:col-span-2"},sc={class:"text-blue-500 text-sm"},ic={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},dc={class:"col-span-3 md:col-span-1"},uc=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),mc={class:"col-span-3 md:col-span-2"},bc={class:"text-blue-500 text-sm"},pc={class:"mt-4 text-right"},jc={key:0,class:"mr-3"},Oc={key:0,class:"card"},fc={class:"title"},yc=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),gc={class:"body text-center"},vc={key:1,class:"card"},Nc={class:"title"},Ec=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),hc={class:"body text-center"};function Vc(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("crypto-address-book-modal"),d=Object(c["resolveComponent"])("transfer-wise-modal"),u=Object(c["resolveDirective"])("tippy");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",Ba,[Object(c["createElementVNode"])("div",Pa,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.payout.payout")),1),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Sa,[Object(c["createVNode"])(l,{name:"question-mark",classes:"w-6 h-6 text-yellow-500"})])),[[u,{content:o.translate("account.payout.payout_message")}]])]),Da,Object(c["createElementVNode"])("div",Ia,[Object(c["createElementVNode"])("form",{onSubmit:t[6]||(t[6]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",Aa,[Object(c["createElementVNode"])("label",Ma,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payout.payout"))+" ",1),Ta]),Object(c["createElementVNode"])("div",Fa,[Object(c["createElementVNode"])("div",Ua,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.payoutSchema=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.payoutOptions,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:t},Object(c["toDisplayString"])(e),9,La)})),128))],512),[[c["vModelSelect"],e.form.payoutSchema]]),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",qa,[Object(c["createVNode"])(l,{name:"exclamation-circle",classes:"w-6 h-6 text-yellow-500"})])),[[u,{content:o.translate("account.payout.bank_verification_message")}]])]),Object(c["createElementVNode"])("div",_a,Object(c["toDisplayString"])(o.showError(e.errorBag,"locale")),1)])]),"Payout Paypal"===e.form.payoutSchema?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",za,[Object(c["createElementVNode"])("label",Ka,Object(c["toDisplayString"])(o.translate("account.payout.option")),1),Object(c["createElementVNode"])("div",Ra,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"email","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.payoutTo=t})},null,512),[[c["vModelText"],e.form.payoutTo]])])])):Object(c["createCommentVNode"])("",!0),"Payout Payeer"===e.form.payoutSchema?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Wa,[Ya,Object(c["createElementVNode"])("div",Ja,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.payoutTo=t})},null,512),[[c["vModelText"],e.form.payoutTo]])])])):Object(c["createCommentVNode"])("",!0),o.isFiatCurrency?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ga,[Object(c["createElementVNode"])("div",Qa,[Ha,Object(c["createElementVNode"])("div",Za,[Object(c["createElementVNode"])("h2",Xa,Object(c["toDisplayString"])(o.translate("account.payout.bank")),1)])]),Object(c["createElementVNode"])("div",$a,[Object(c["createElementVNode"])("label",ec,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payout.bank_name"))+" ",1),tc]),Object(c["createElementVNode"])("div",ac,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.payoutName=t})},null,512),[[c["vModelText"],e.form.payoutName]]),Object(c["createElementVNode"])("div",cc,Object(c["toDisplayString"])(o.showError(e.errorBag,"locale")),1)])]),Object(c["createElementVNode"])("div",oc,[Object(c["createElementVNode"])("label",nc,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payout.iban"))+" ",1),rc]),Object(c["createElementVNode"])("div",lc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.payoutIBAN=t})},null,512),[[c["vModelText"],e.form.payoutIBAN]]),Object(c["createElementVNode"])("div",sc,Object(c["toDisplayString"])(o.showError(e.errorBag,"locale")),1)])]),Object(c["createElementVNode"])("div",ic,[Object(c["createElementVNode"])("label",dc,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payout.bank_bic"))+" ",1),uc]),Object(c["createElementVNode"])("div",mc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.payoutBIC=t})},null,512),[[c["vModelText"],e.form.payoutBIC]]),Object(c["createElementVNode"])("div",bc,Object(c["toDisplayString"])(o.showError(e.errorBag,"locale")),1)])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",pc,[Object(c["createVNode"])(s,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",jc,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)])]),"Pay out to bank address book default"===e.form.payoutSchema?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Oc,[Object(c["createElementVNode"])("div",fc,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.payout.address_book")),1)]),yc,Object(c["createElementVNode"])("div",gc,[Object(c["createVNode"])(s,{buttonStyle:"warning",type:"button",onClick:o.launchTransferWiseModal},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payout.address_book")),1)]})),_:1},8,["onClick"])])])):Object(c["createCommentVNode"])("",!0),"Pay out to crypto address book default"===e.form.payoutSchema?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",vc,[Object(c["createElementVNode"])("div",Nc,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(o.translate("account.payout.crypto_address_book")),1)]),Ec,Object(c["createElementVNode"])("div",hc,[Object(c["createVNode"])(s,{buttonStyle:"warning",type:"button",onClick:o.launchCryptoAddressBookModal},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payout.crypto_address_book")),1)]})),_:1},8,["onClick"])])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(i),Object(c["createVNode"])(d)],64)}a("e9c4");var wc=a("7b08"),kc=(a("a4d3"),a("e01a"),{class:"flex items-center justify-between"}),xc={class:"capitalize"},Cc={class:"mb-2"},Bc={class:"flex items-center justify-between mb-2"},Pc={class:"text-red-700 dark:text-red-400 text-sm mr-4"},Sc=["value"],Dc={class:"mb-2"},Ic={class:"flex items-center justify-between mb-2"},Ac={class:"text-red-700 dark:text-red-400 text-sm mr-4"},Mc={key:0,class:"mb-2"},Tc={class:"flex items-center justify-between mb-2"},Fc={class:"text-red-700 dark:text-red-400 text-sm mr-4"},Uc={class:"mb-2"},Lc={class:"flex items-center justify-between mb-2"},qc={class:"text-red-700 dark:text-red-400 text-sm mr-4"},_c={class:"mb-2 text-right"},zc={key:0,class:"mr-3"},Kc={class:"mt-4"},Rc={class:"scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600"},Wc={class:"table-sm mb-2"},Yc=Object(c["createElementVNode"])("th",null,"AltCoin",-1),Jc={class:"border-0"},Gc={colspan:"2",class:"text-base overflow-hidden",style:{"max-width":"50px"}},Qc={class:"border-0"},Hc={colspan:"2",class:"text-base overflow-hidden",style:{"max-width":"80px"}},Zc={class:"space-x-2",colspan:"2"},Xc={key:0},$c={key:1};function eo(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveComponent"])("modal");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[6]||(t[6]=function(e){return o.closeModal()})},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",kc,[Object(c["createElementVNode"])("span",xc,Object(c["toDisplayString"])(o.translate("account.payout.crypto_address_book")),1),Object(c["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(c["createVNode"])(l,{name:"close"})])])]})),content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(c["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Object(c["createElementVNode"])("div",Cc,[Object(c["createElementVNode"])("div",Bc,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("address_book.currency")),1),Object(c["createElementVNode"])("div",Pc,Object(c["toDisplayString"])(o.showError(e.errorBag,"altCoinID")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.altCoinID=t}),class:"form-select w-full"},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.selectedCoinsList,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e.ID},Object(c["toDisplayString"])("".concat(e.Name," ").concat(e.LongName)),9,Sc)})),128))],512),[[c["vModelSelect"],e.form.altCoinID]])]),Object(c["createElementVNode"])("div",Dc,[Object(c["createElementVNode"])("div",Ic,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("address_book.address")),1),Object(c["createElementVNode"])("div",Ac,Object(c["toDisplayString"])(o.showError(e.errorBag,"address")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.address=t}),"aria-label":"",class:"form-input w-full",type:"text"},null,512),[[c["vModelText"],e.form.address]])]),1===o.altCoinTag(e.form.altCoinID)?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Mc,[Object(c["createElementVNode"])("div",Tc,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("address_book.tag")),1),Object(c["createElementVNode"])("div",Fc,Object(c["toDisplayString"])(o.showError(e.errorBag,"tag")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.tag=t}),"aria-label":"",class:"form-input w-full",type:"text"},null,512),[[c["vModelText"],e.form.tag]])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",Uc,[Object(c["createElementVNode"])("div",Lc,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("address_book.description")),1),Object(c["createElementVNode"])("div",qc,Object(c["toDisplayString"])(o.showError(e.errorBag,"description")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.description=t}),"aria-label":"",class:"form-input w-full"},null,512),[[c["vModelText"],e.form.description]])]),Object(c["createElementVNode"])("div",_c,[Object(c["createVNode"])(s,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",zc,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("address_book.save")),1)]})),_:1},8,["disabled"])])],32),Object(c["createElementVNode"])("div",Kc,[Object(c["createElementVNode"])("div",Rc,[Object(c["createElementVNode"])("table",Wc,[Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Yc,Object(c["createElementVNode"])("th",null,Object(c["toDisplayString"])(o.translate("address_book.description")),1)])]),Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.addresses.crypto,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:t},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e,(function(e,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:a},[Object(c["createElementVNode"])("tr",Jc,[Object(c["createElementVNode"])("td",Gc,Object(c["toDisplayString"])(o.altCoinName(e.altCoinID)),1)]),Object(c["createElementVNode"])("tr",Qc,[Object(c["createElementVNode"])("td",Hc,Object(c["toDisplayString"])(e.description),1)]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",Zc,[Object(c["createVNode"])(s,{buttonStyle:e.default?"danger":"primary",onClick:function(e){return o.toggleDefault(a,t)}},{default:Object(c["withCtx"])((function(){return[e.default?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Xc,Object(c["toDisplayString"])(o.translate("address_book.select_default")),1)),e.default?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",$c,Object(c["toDisplayString"])(o.translate("address_book.remove_default")),1)):Object(c["createCommentVNode"])("",!0)]})),_:2},1032,["buttonStyle","onClick"]),Object(c["createVNode"])(s,{type:"button",onClick:function(e){return o.edit(a,t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("address_book.edit")),1)]})),_:2},1032,["onClick"]),Object(c["createVNode"])(s,{buttonStyle:"danger",type:"button",onClick:function(e){return o.deleteAddress(a,t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("address_book.delete")),1)]})),_:2},1032,["onClick"])])])],64)})),128))],64)})),128))])])])])]})),_:1},8,["maxWidth","show"])}var to={name:"CryptoAddressBookModal",components:{Modal:Wt["a"],Icon:v["a"],JButton:Ae["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("http"),a=Object(c["inject"])("toast"),o=Object(c["inject"])("emitter"),n=Object(Fe["b"])(),r=Object(_e["a"])(),l=r.saveNotification,i=Object(Le["a"])(),d=i.showError,u=i.validate,m=Object(c["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,addresses:{crypto:{},transferwise:{}},form:{address:"",tag:"",description:"",altCoinID:"",default:!1},errorBag:{},rules:{address:["required"],description:["required"],altCoinID:["required"]},tag:null,isProcessing:!1,editIndex:null}),b=Object(c["computed"])((function(){return n.state.user})),p=Object(c["computed"])((function(){return n.state.accountInfo})),j=Object(c["computed"])((function(){return n.state.altCoins})),O=Object(c["computed"])((function(){var e=[];if(p.value){var t=p.value.SelectedAltCoins.split(",");j.value.forEach((function(a){-1!==t.indexOf(a.ID.toString())&&e.push(a)}))}return e})),f="https://app.cointopay.com",y=function(){m.show=!1},g=function(){m.isProcessing=!0;var e={POSDATA:"",Call:"SHOW",KeyData:"AddressBook_".concat(b.value.ID),MerchantID:b.value.ID,APIKey:b.value.APIKey,output:"json"};t.get("".concat(f,"/MarketAPI"),{params:e}).then((function(e){m.isProcessing=!1,"nothing found"!==e.data&&(m.addresses=e.data)})).catch((function(e){m.isProcessing=!1,console.log(e.response)}))},v=function(){if(m.errorBag=u(m.form,m.rules),0===Object.keys(m.errorBag).length){m.isProcessing=!0;var e=Object(s["a"])({},m.addresses),a=Object.keys(e.crypto).length>0||Object.keys(e.transferwise).length>0?"UPDATE":"INSERT",c=m.form;"undefined"===typeof e.crypto[m.form.altCoinID]&&(e.crypto[m.form.altCoinID]=[]);var o=Yt["findIndex"](e.crypto[m.form.altCoinID],{address:m.form.address});-1!==o?e.crypto[m.form.altCoinID][o]=c:null!==m.editIndex?(e.crypto[m.form.altCoinID][m.editIndex]=c,m.editIndex=null):e.crypto[m.form.altCoinID].push(c);var n=new FormData;n.append("Call",a),n.append("KeyData","AddressBook_"+b.value.ID),n.append("ValueData",JSON.stringify(e)),n.append("MerchantID",b.value.ID),n.append("APIKey",b.value.APIKey),n.append("output","json"),t.post("".concat(f,"/MarketAPI?POSDATA"),n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){m.isProcessing=!1,k(),g()})).catch((function(e){m.isProcessing=!1,console.log(e.response)}))}},N=function(e){var t=Yt["find"](O.value,{ID:e});return t?t.Name:""},E=function(e){var t=Yt["find"](O.value,{ID:e});return t?t.Tag:""},h=function(e,c){Object.keys(m.addresses.crypto).forEach((function(t){m.addresses.crypto[t].forEach((function(a,o){t===c&&o===e?("undefined"===typeof m.addresses.crypto[t][o].default&&(m.addresses.crypto[t][o].default=!1),m.addresses.crypto[t][o].default=!m.addresses.crypto[t][o].default):m.addresses.crypto[t][o].default=!1}))}));var o=new FormData;o.append("Call","UPDATE"),o.append("KeyData","AddressBook_".concat(b.value.ID)),o.append("ValueData",JSON.stringify(m.addresses)),o.append("MerchantID",b.value.ID),o.append("APIKey",b.value.APIKey),o.append("output","json"),t.post("".concat(f,"/MarketAPI?POSDATA"),o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){a.success("Updated successfully"),l("Address Updated successfully")})).catch((function(e){console.log(e.response)}))},V=function(e,t){var a=m.addresses.crypto[t][e];a&&(m.form=Object(s["a"])(Object(s["a"])({},m.form),{},{address:a.address,tag:a.tag?a.tag:"",altCoinID:a.altCoinID,description:a.description})),m.editIndex=e},w=function(e,c){m.isProcessing=!0;var o=Object(s["a"])({},m.addresses);o.crypto[c].splice(e,1);var n=new FormData;n.append("Call","UPDATE"),n.append("KeyData","AddressBook_"+b.value.ID),n.append("ValueData",JSON.stringify(o)),n.append("MerchantID",b.value.ID),n.append("APIKey",b.value.APIKey),n.append("output","json"),t.post("".concat(f,"/MarketAPI?POSDATA"),n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){m.isProcessing=!1,g(),a.success("Address deleted successfully"),l("Address deleted successfully")})).catch((function(e){m.isProcessing=!1,console.log(e.response)}))},k=function(){m.form=Object(s["a"])(Object(s["a"])({},m.form),{},{address:"",tag:"",description:""})};return Object(c["onBeforeMount"])((function(){o.on("cryptoAddressBookAccountModal",(function(e){m.addresses=e.addresses,m.errorBag={},m.show=!0}))})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(m)),{},{user:b,selectedCoinsList:O,closeModal:y,showError:d,submit:v,altCoinName:N,altCoinTag:E,toggleDefault:h,edit:V,deleteAddress:w})}};const ao=f()(to,[["render",eo]]);var co=ao,oo={name:"PayoutSettings",components:{JButton:Ae["a"],Icon:v["a"],TransferWiseModal:wc["a"],CryptoAddressBookModal:co},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("http"),a=Object(c["inject"])("emitter"),o=Object(c["inject"])("toast"),n=Object(Fe["b"])(),r=Object(Le["a"])(),l=r.validate,i=r.showError,d=Object(_e["a"])(),u=d.saveNotification,m=Object(c["reactive"])({payoutOptions:{"Keep with Cointopay":"Keep with Cointopay","Pay out EUR Bank":"Pay out EUR Bank","Pay out USD Bank":"Pay out USD Bank","Pay out GBP Bank":"Pay out GBP Bank","Wallet Cointopay":"Wallet Cointopay","Payout Paypal":"Payout Paypal","Payout Payeer":"Payout Payeer","Pay out to bank address book default":"Pay out to bank address book default","Pay out to crypto address book default":"Pay out to crypto address book default"},form:{payoutSchema:"",payoutTo:"",payoutName:"",payoutIBAN:"",payoutBIC:""},errorBag:{},rules:{payoutSchema:["required"],payoutName:["required","regex:/^[A-Za-z .,0-9]{3,}$/"],payoutIBAN:["required","regex:/^[A-Za-z .,0-9]+$/"],payoutBIC:["required"]},messages:{payoutSchema:{required:"Please select payout schema"},payoutName:{required:"Name on bank account is required",regex:"Please provide a valid account name"},payoutIBAN:{required:"IBAN is required",email:"Please provide a valid IBAN"},payoutBIC:{required:"BIC/Swift code is required"}},isProcessing:!1}),b=Object(c["computed"])((function(){return n.state.user})),p=Object(c["computed"])((function(){return n.state.accountInfo})),j=Object(c["computed"])((function(){return-1!==["Pay out EUR Bank","Pay out USD Bank","Pay out GBP Bank"].indexOf(m.form.payoutSchema)})),O=Object(c["computed"])((function(){return n.state.addressBook})),f="https://app.cointopay.com",y=function(e){var a,c;switch(e.payoutSchema){case"Pay out EUR Bank":c="EUR",a={accountHolderName:e.payoutName,currency:"EUR",default:!0,details:{IBAN:e.payoutIBAN,legalType:"BUSINESS"},targetLegalType:"PRIVATE",type:"iban"};break;case"Pay out USD Bank":c="USD",a={accountHolderName:e.payoutName,currency:"USD",default:!0,details:{accountNumber:e.payoutIBAN,legalType:"BUSINESS",abartn:e.payoutBIC,accountType:"CHECKING",address:{city:p.value.PayoutCity,country:p.value.PayoutCountry,firstLine:p.value.PayoutAddress,postCode:p.value.PayoutPostalCode,state:p.value.PayoutState}},targetLegalType:"PRIVATE",type:"aba"};break;case"Pay out GBP Bank":c="GBP",a={accountHolderName:e.payoutName,currency:"GBP",default:!0,details:{accountNumber:e.payoutIBAN,legalType:"BUSINESS",sortCode:e.payoutBIC},targetLegalType:"PRIVATE",type:"sort_code"};break}var o=Yt["cloneDeep"](O.value),r=Object.keys(o.crypto).length>0||Object.keys(o.transferwise).length>0?"UPDATE":"INSERT";"undefined"===typeof o.transferwise[c]&&(o.transferwise[c]=[]);var l=!1,s=!1;Yt["forEach"](o.transferwise,(function(e,t){Yt["forEach"](e,(function(c,o){"GBP"===t||"USD"===t?(l=!0,c.details.accountNumber===a.details.accountNumber?(e[o]=a,s=!0):c.default=!1):"EUR"===t?(l=!0,c.details.IBAN===a.details.IBAN?(e[o]=a,s=!0):c.default=!1):c.default=!1}))})),l&&s||o.transferwise[c].push(a);var i=new FormData;i.append("Call",r),i.append("KeyData","AddressBook_"+b.value.ID),i.append("ValueData",JSON.stringify(o)),i.append("MerchantID",b.value.ID),i.append("APIKey",b.value.APIKey),i.append("output","json"),t.post("".concat(f,"/MarketAPI?POSDATA"),i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){n.dispatch(qe["c"])})).catch((function(e){console.log(e.response)}))},g=function(){if(m.errorBag=l(m.form,m.rules,m.messages),0===Object.keys(m.errorBag).length&&p.value){m.isProcessing=!0;var e=Object(s["a"])(Object(s["a"])({},p.value),{},{PayoutSchema:m.form.payoutSchema,PayoutTo:m.form.payoutTo,PayoutName:m.form.payoutName,PayoutIBAN:m.form.payoutIBAN,PayoutBIC:m.form.payoutBIC});n.dispatch(qe["gb"],e).then((function(e){200===e.status&&(m.isProcessing=!1,j.value&&y(m.form),o.success("Payout settings updated successfully"),u("Payout settings updated successfully"))})).catch((function(e){m.isProcessing=!1,o.error(e.data.message),u(e.data.message)}))}},v=function(){a.emit("transferwiseModal",{addresses:O.value,setDefault:!0,confirm:function(e){}})},N=function(){a.emit("cryptoAddressBookAccountModal",{addresses:O.value})};return Object(c["onBeforeMount"])((function(){m.form={payoutSchema:p.value.PayoutSchema,payoutTo:p.value.PayoutTo,payoutName:p.value.PayoutName,payoutIBAN:p.value.PayoutIBAN,payoutBIC:p.value.PayoutBIC},n.dispatch(qe["c"])})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(m)),{},{showError:i,isFiatCurrency:j,submit:g,launchTransferWiseModal:v,launchCryptoAddressBookModal:N})}};const no=f()(oo,[["render",Vc]]);var ro=no,lo={class:"card"},so={class:"title"},io=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),uo={class:"body"},mo={class:"grid grid-cols-3 gap-1 md:gap-4"},bo={class:"col-span-3 md:col-span-1"},po=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),jo={class:"col-span-3 md:col-span-2"},Oo=Object(c["createElementVNode"])("option",{value:"0"},"Personal",-1),fo=Object(c["createElementVNode"])("option",{value:"1"},"Business",-1),yo=[Oo,fo],go=["value"],vo={class:"text-red-700 dark:text-red-400 text-sm"},No={key:0,class:"card"},Eo={class:"title"},ho=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Vo={class:"body"},wo={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ko={class:"col-span-3 md:col-span-1"},xo=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Co={class:"col-span-3 md:col-span-2"},Bo=["readonly"],Po={class:"text-red-700 dark:text-red-400 text-sm"},So={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Do=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"}," Legal Entity Identifier (LEI) ",-1),Io={class:"col-span-3 md:col-span-2"},Ao=["readonly"],Mo={class:"text-red-700 dark:text-red-400 text-sm"},To={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Fo={class:"col-span-3 md:col-span-1"},Uo=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Lo={class:"col-span-3 md:col-span-2"},qo=["readonly"],_o={class:"text-red-700 dark:text-red-400 text-sm"},zo={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ko={class:"col-span-3 md:col-span-1"},Ro=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Wo={class:"col-span-3 md:col-span-2"},Yo=["readonly"],Jo={class:"text-red-700 dark:text-red-400 text-sm"},Go={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Qo={class:"col-span-3 md:col-span-1"},Ho=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Zo={class:"col-span-3 md:col-span-2"},Xo=["readonly"],$o={class:"text-red-700 dark:text-red-400 text-sm"},en={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},tn={class:"col-span-3 md:col-span-1"},an=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),cn={class:"col-span-3 md:col-span-2"},on=["readonly"],nn={class:"text-red-700 dark:text-red-400 text-sm"},rn={class:"grid grid-cols-3 gap-1 md:gap-4"},ln={class:"col-span-3 md:col-span-1"},sn=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),dn={class:"col-span-3 md:col-span-2"},un=["value"],mn={class:"text-red-700 dark:text-red-400 text-sm"},bn={class:"card"},pn={class:"title"},jn=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),On={class:"body"},fn={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},yn={class:"col-span-3 md:col-span-1"},gn=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),vn={class:"col-span-3 md:col-span-2"},Nn=["readonly"],En={class:"text-red-700 dark:text-red-400 text-sm"},hn={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Vn={class:"col-span-3 md:col-span-1"},wn=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),kn={class:"col-span-3 md:col-span-2"},xn=["readonly"],Cn={class:"text-red-700 dark:text-red-400 text-sm"},Bn={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Pn={class:"col-span-3 md:col-span-1"},Sn=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Dn={class:"col-span-3 md:col-span-2"},In=["readonly"],An={class:"text-red-700 dark:text-red-400 text-sm"},Mn={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Tn={class:"col-span-3 md:col-span-1"},Fn=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Un={class:"col-span-3 md:col-span-2"},Ln=["value"],qn={class:"text-red-700 dark:text-red-400 text-sm"},_n={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},zn={class:"col-span-3 md:col-span-1"},Kn=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Rn={class:"col-span-3 md:col-span-2"},Wn={class:"flex items-center"},Yn={class:"mr-4 flex items-center"},Jn=["disabled"],Gn=Object(c["createElementVNode"])("span",{class:"ml-2"},"Yes",-1),Qn={class:"flex items-center"},Hn=["disabled"],Zn=Object(c["createElementVNode"])("span",{class:"ml-2"},"No",-1),Xn={class:"text-red-700 dark:text-red-400 text-sm"},$n={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},er={class:"col-span-3 md:col-span-1"},tr=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),ar={class:"col-span-3 md:col-span-2"},cr=["readonly"],or={class:"text-red-700 dark:text-red-400 text-sm"},nr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},rr={class:"col-span-3 md:col-span-1"},lr=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),sr={class:"col-span-3 md:col-span-2"},ir=["readonly"],dr={class:"text-red-700 dark:text-red-400 text-sm"},ur={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},mr={class:"col-span-3 md:col-span-1"},br=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),pr={class:"col-span-3 md:col-span-2"},jr=["readonly"],Or={class:"text-red-700 dark:text-red-400 text-sm"},fr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},yr={class:"col-span-3 md:col-span-1"},gr=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),vr={class:"col-span-3 md:col-span-2"},Nr=["readonly"],Er={class:"text-red-700 dark:text-red-400 text-sm"},hr={class:"grid grid-cols-3 gap-1 md:gap-4"},Vr={class:"col-span-3 md:col-span-1"},wr=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),kr={class:"col-span-3 md:col-span-2"},xr=["value"],Cr={class:"text-red-700 dark:text-red-400 text-sm"},Br={class:"card"},Pr={class:"title"},Sr=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Dr={class:"body"},Ir={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ar=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},[Object(c["createTextVNode"])(" Passport/Photo ID "),Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*")],-1),Mr={class:"col-span-3 md:col-span-2"},Tr=["hidden"],Fr={key:0,class:"mt-3"},Ur=["src"],Lr={class:"text-red-700 dark:text-red-400 text-sm"},qr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},_r={class:"col-span-3 md:col-span-1"},zr={class:"flex items-center"},Kr=Object(c["createElementVNode"])("label",null,[Object(c["createTextVNode"])(" Profile image "),Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*")],-1),Rr={class:"ml-1 cursor-pointer"},Wr={class:"col-span-3 md:col-span-2"},Yr=["hidden"],Jr={class:"mt-1"},Gr={key:0,class:"mt-3"},Qr=["src"],Hr={class:"text-red-700 dark:text-red-400 text-sm"},Zr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Xr={class:"col-span-3 md:col-span-1"},$r=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),el={class:"col-span-3 md:col-span-2"},tl=Object(c["createElementVNode"])("option",{value:"1"},"Identity Card",-1),al=Object(c["createElementVNode"])("option",{value:"2"},"Passport",-1),cl=Object(c["createElementVNode"])("option",{value:"3"},"Driving License",-1),ol=[tl,al,cl],nl={class:"text-red-700 dark:text-red-400 text-sm"},rl={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ll={class:"col-span-3 md:col-span-1"},sl=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),il={class:"col-span-3 md:col-span-2"},dl=["readonly"],ul={class:"text-red-700 dark:text-red-400 text-sm"},ml={class:"grid grid-cols-3 gap-1 md:gap-4"},bl={class:"col-span-3 md:col-span-1"},pl=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),jl={class:"col-span-3 md:col-span-2"},Ol=["value"],fl={class:"text-red-700 dark:text-red-400 text-sm"},yl={class:"card"},gl={class:"title"},vl=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Nl={class:"body"},El={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},hl={class:"col-span-3 md:col-span-1"},Vl=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),wl={class:"col-span-3 md:col-span-2"},kl=Object(c["createElementVNode"])("option",{value:""},"Select Income Source",-1),xl=["value"],Cl={key:0,class:"grid grid-cols-3 gap-1 md:gap-4"},Bl={class:"col-span-3 md:col-span-1"},Pl=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500"},"*",-1),Sl={class:"col-span-3 md:col-span-2"},Dl={class:"mt-4 text-right"},Il={key:0,class:"mr-3"},Al={key:0,class:"mr-3"};function Ml(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("litepie-datepicker"),s=Object(c["resolveComponent"])("icon"),i=Object(c["resolveComponent"])("j-button"),d=Object(c["resolveDirective"])("tippy");return Object(c["openBlock"])(),Object(c["createElementBlock"])("form",{onSubmit:t[29]||(t[29]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",lo,[Object(c["createElementVNode"])("h5",so,Object(c["toDisplayString"])(o.translate("account.kyc.account_type")),1),io,Object(c["createElementVNode"])("div",uo,[Object(c["createElementVNode"])("div",mo,[Object(c["createElementVNode"])("label",bo,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_account"))+" ",1),po]),Object(c["createElementVNode"])("div",jo,["0"===o.accountInfo.FinalVerification?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.BusinessAccount=t}),class:"form-select w-full"},yo,512)),[[c["vModelSelect"],e.form.BusinessAccount]]):Object(c["createCommentVNode"])("",!0),"1"===o.accountInfo.FinalVerification?(Object(c["openBlock"])(),Object(c["createElementBlock"])("input",{key:1,value:"0"===e.form.BusinessAccount.toString()?"Personal":"Business",class:"form-input w-full",readonly:"",type:"text"},null,8,go)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",vo,Object(c["toDisplayString"])(o.showError(e.errorBag,"BusinessAccount")),1)])])])]),"1"===e.form.BusinessAccount?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",No,[Object(c["createElementVNode"])("h5",Eo,Object(c["toDisplayString"])(o.translate("account.kyc.business_information")),1),ho,Object(c["createElementVNode"])("div",Vo,[Object(c["createElementVNode"])("div",wo,[Object(c["createElementVNode"])("label",ko,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_name"))+" ",1),xo]),Object(c["createElementVNode"])("div",Co,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.PayoutBankName=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Bo),[[c["vModelText"],e.form.PayoutBankName]]),Object(c["createElementVNode"])("div",Po,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankName")),1)])]),Object(c["createElementVNode"])("div",So,[Do,Object(c["createElementVNode"])("div",Io,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.PayoutBankLegalEntityIdentifier=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Ao),[[c["vModelText"],e.form.PayoutBankLegalEntityIdentifier]]),Object(c["createElementVNode"])("div",Mo,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankLegalEntityIdentifier")),1)])]),Object(c["createElementVNode"])("div",To,[Object(c["createElementVNode"])("label",Fo,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_address"))+" ",1),Uo]),Object(c["createElementVNode"])("div",Lo,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.PayoutBankAddress=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,qo),[[c["vModelText"],e.form.PayoutBankAddress]]),Object(c["createElementVNode"])("div",_o,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankAddress")),1)])]),Object(c["createElementVNode"])("div",zo,[Object(c["createElementVNode"])("label",Ko,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_postal_code"))+" ",1),Ro]),Object(c["createElementVNode"])("div",Wo,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.PayoutBankPostalCode=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Yo),[[c["vModelText"],e.form.PayoutBankPostalCode]]),Object(c["createElementVNode"])("div",Jo,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankPostalCode")),1)])]),Object(c["createElementVNode"])("div",Go,[Object(c["createElementVNode"])("label",Qo,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_city"))+" ",1),Ho]),Object(c["createElementVNode"])("div",Zo,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.PayoutBankCity=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Xo),[[c["vModelText"],e.form.PayoutBankCity]]),Object(c["createElementVNode"])("div",$o,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankCity")),1)])]),Object(c["createElementVNode"])("div",en,[Object(c["createElementVNode"])("label",tn,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_state"))+" ",1),an]),Object(c["createElementVNode"])("div",cn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.PayoutBankState=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,on),[[c["vModelText"],e.form.PayoutBankState]]),Object(c["createElementVNode"])("div",nn,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankState")),1)])]),Object(c["createElementVNode"])("div",rn,[Object(c["createElementVNode"])("label",ln,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.business_country"))+" ",1),sn]),Object(c["createElementVNode"])("div",dn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:Object(c["normalizeClass"])("form-select w-full ".concat("1"===o.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.PayoutBankCountry=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.countries,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:e.code,value:e.code},Object(c["toDisplayString"])(e.name),9,un)})),128))],2),[[c["vModelSelect"],e.form.PayoutBankCountry]]),Object(c["createElementVNode"])("div",mn,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBankCountry")),1)])])])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",bn,[Object(c["createElementVNode"])("h5",pn,Object(c["toDisplayString"])(o.translate("account.kyc.beneficiary_information")),1),jn,Object(c["createElementVNode"])("div",On,[Object(c["createElementVNode"])("div",fn,[Object(c["createElementVNode"])("label",yn,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.first_name"))+" ",1),gn]),Object(c["createElementVNode"])("div",vn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.PayoutFirstName=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Nn),[[c["vModelText"],e.form.PayoutFirstName]]),Object(c["createElementVNode"])("div",En,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutFirstName")),1)])]),Object(c["createElementVNode"])("div",hn,[Object(c["createElementVNode"])("label",Vn,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.last_name"))+" ",1),wn]),Object(c["createElementVNode"])("div",kn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.PayoutLastName=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,xn),[[c["vModelText"],e.form.PayoutLastName]]),Object(c["createElementVNode"])("div",Cn,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutLastName")),1)])]),Object(c["createElementVNode"])("div",Bn,[Object(c["createElementVNode"])("label",Pn,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.full_name"))+" ",1),Sn]),Object(c["createElementVNode"])("div",Dn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.PayoutFullName=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,In),[[c["vModelText"],e.form.PayoutFullName]]),Object(c["createElementVNode"])("div",An,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutFullName")),1)])]),Object(c["createElementVNode"])("div",Mn,[Object(c["createElementVNode"])("label",Tn,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.birth_date"))+" ",1),Fn]),Object(c["createElementVNode"])("div",Un,["0"===o.accountInfo.FinalVerification?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,overlay:"","as-single":"",modelValue:e.form.PayoutBirthDate,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.form.PayoutBirthDate=t}),formatter:{date:o.dateFormat,month:"MMM"}},null,8,["modelValue","formatter"])):Object(c["createCommentVNode"])("",!0),"1"===o.accountInfo.FinalVerification?(Object(c["openBlock"])(),Object(c["createElementBlock"])("input",{key:1,value:e.form.PayoutBirthDate,class:"form-input w-full",readonly:"",type:"text"},null,8,Ln)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",qn,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutBirthDate")),1)])])]),Object(c["createElementVNode"])("div",_n,[Object(c["createElementVNode"])("label",zn,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.pep"))+" ",1),Kn]),Object(c["createElementVNode"])("div",Rn,[Object(c["createElementVNode"])("div",Wn,[Object(c["createElementVNode"])("label",Yn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.form.PEP=t}),disabled:"1"===o.accountInfo.FinalVerification,type:"radio",value:"1"},null,8,Jn),[[c["vModelRadio"],e.form.PEP]]),Gn]),Object(c["createElementVNode"])("label",Qn,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.form.PEP=t}),disabled:"1"===o.accountInfo.FinalVerification,type:"radio",value:"0"},null,8,Hn),[[c["vModelRadio"],e.form.PEP]]),Zn])]),Object(c["createElementVNode"])("div",Xn,Object(c["toDisplayString"])(o.showError(e.errorBag,"PEP")),1)])]),Object(c["createElementVNode"])("div",$n,[Object(c["createElementVNode"])("label",er,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.bank_address"))+" ",1),tr]),Object(c["createElementVNode"])("div",ar,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.form.payoutAddress=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,cr),[[c["vModelText"],e.form.payoutAddress]]),Object(c["createElementVNode"])("div",or,Object(c["toDisplayString"])(o.showError(e.errorBag,"payoutAddress")),1)])]),Object(c["createElementVNode"])("div",nr,[Object(c["createElementVNode"])("label",rr,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.bank_postal_code"))+" ",1),lr]),Object(c["createElementVNode"])("div",sr,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.form.payoutPostalCode=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,ir),[[c["vModelText"],e.form.payoutPostalCode]]),Object(c["createElementVNode"])("div",dr,Object(c["toDisplayString"])(o.showError(e.errorBag,"payoutPostalCode")),1)])]),Object(c["createElementVNode"])("div",ur,[Object(c["createElementVNode"])("label",mr,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.bank_city"))+" ",1),br]),Object(c["createElementVNode"])("div",pr,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.form.payoutCity=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,jr),[[c["vModelText"],e.form.payoutCity]]),Object(c["createElementVNode"])("div",Or,Object(c["toDisplayString"])(o.showError(e.errorBag,"payoutCity")),1)])]),Object(c["createElementVNode"])("div",fr,[Object(c["createElementVNode"])("label",yr,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.bank_state"))+" ",1),gr]),Object(c["createElementVNode"])("div",vr,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.form.PayoutState=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Nr),[[c["vModelText"],e.form.PayoutState]]),Object(c["createElementVNode"])("div",Er,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutState")),1)])]),Object(c["createElementVNode"])("div",hr,[Object(c["createElementVNode"])("label",Vr,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.bank_country"))+" ",1),wr]),Object(c["createElementVNode"])("div",kr,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:Object(c["normalizeClass"])("form-select w-full ".concat("1"===o.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.form.payoutCountry=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.countries,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:e.code,value:e.code},Object(c["toDisplayString"])(e.name),9,xr)})),128))],2),[[c["vModelSelect"],e.form.payoutCountry]]),Object(c["createElementVNode"])("div",Cr,Object(c["toDisplayString"])(o.showError(e.errorBag,"payoutCountry")),1)])])])]),Object(c["createElementVNode"])("div",Br,[Object(c["createElementVNode"])("h5",Pr,Object(c["toDisplayString"])(o.translate("account.kyc.beneficiary_identity_information")),1),Sr,Object(c["createElementVNode"])("div",Dr,[Object(c["createElementVNode"])("div",Ir,[Ar,Object(c["createElementVNode"])("div",Mr,[Object(c["createElementVNode"])("input",{id:"passport",ref:"passportElm",hidden:"1"===o.accountInfo.FinalVerification,type:"file",onChange:t[19]||(t[19]=function(e){return o.uploadFile("passport")})},null,40,Tr),e.files.passport?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Fr,[Object(c["createElementVNode"])("img",{src:e.files.passport,alt:"",style:{"max-height":"70px"},onClick:t[20]||(t[20]=function(t){return o.fancyBox(e.files.passport)})},null,8,Ur)])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",Lr,Object(c["toDisplayString"])(o.showError(e.errorBag,"passport")),1)])])]),Object(c["createElementVNode"])("div",qr,[Object(c["createElementVNode"])("div",_r,[Object(c["createElementVNode"])("div",zr,[Kr,Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Rr,[Object(c["createVNode"])(s,{name:"question-mark",classes:"w-5 h-5 text-yellow-500"})])),[[d,{content:o.selfieWithIDTooltip}]])])]),Object(c["createElementVNode"])("div",Wr,[Object(c["createElementVNode"])("input",{ref:"avatarElm",hidden:"1"===o.accountInfo.FinalVerification,type:"file",onChange:t[21]||(t[21]=function(e){return o.uploadFile("avatar")})},null,40,Yr),Object(c["createElementVNode"])("p",Jr,Object(c["toDisplayString"])(o.translate("account.kyc.profile_image_help")),1),e.files.avatar?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Gr,[Object(c["createElementVNode"])("img",{src:e.files.avatar,alt:"",style:{"max-height":"70px"},onClick:t[22]||(t[22]=function(t){return o.fancyBox(e.files.avatar)})},null,8,Qr)])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",Hr,Object(c["toDisplayString"])(o.showError(e.errorBag,"avatar")),1)])]),Object(c["createElementVNode"])("div",Zr,[Object(c["createElementVNode"])("label",Xr,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.identity_type"))+" ",1),$r]),Object(c["createElementVNode"])("div",el,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:Object(c["normalizeClass"])("form-select w-full ".concat("1"===o.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.form.PayoutIdentityType=t})},ol,2),[[c["vModelSelect"],e.form.PayoutIdentityType]]),Object(c["createElementVNode"])("div",nl,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutIdentityType")),1)])]),Object(c["createElementVNode"])("div",rl,[Object(c["createElementVNode"])("label",ll,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.identity_number"))+" ",1),sl]),Object(c["createElementVNode"])("div",il,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[24]||(t[24]=function(t){return e.form.PayoutIdentityCardNr=t}),readonly:"1"===o.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,dl),[[c["vModelText"],e.form.PayoutIdentityCardNr]]),Object(c["createElementVNode"])("div",ul,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutIdentityCardNr")),1)])]),Object(c["createElementVNode"])("div",ml,[Object(c["createElementVNode"])("label",bl,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.identity_country"))+" ",1),pl]),Object(c["createElementVNode"])("div",jl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:Object(c["normalizeClass"])("form-select w-full ".concat("1"===o.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[25]||(t[25]=function(t){return e.form.PayoutIdentityCountry=t})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.countries,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:e.code,value:e.code},Object(c["toDisplayString"])(e.name),9,Ol)})),128))],2),[[c["vModelSelect"],e.form.PayoutIdentityCountry]]),Object(c["createElementVNode"])("div",fl,Object(c["toDisplayString"])(o.showError(e.errorBag,"PayoutIdentityCountry")),1)])])])]),Object(c["createElementVNode"])("div",yl,[Object(c["createElementVNode"])("h5",gl,Object(c["toDisplayString"])(o.translate("account.kyc.income_source")),1),vl,Object(c["createElementVNode"])("div",Nl,[Object(c["createElementVNode"])("div",El,[Object(c["createElementVNode"])("label",hl,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.income_source"))+" ",1),Vl]),Object(c["createElementVNode"])("div",wl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:Object(c["normalizeClass"])("form-select w-full ".concat("1"===o.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[26]||(t[26]=function(t){return e.incomeSource.source=t})},[kl,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.incomeSources,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t,value:e},Object(c["toDisplayString"])(e),9,xl)})),128))],2),[[c["vModelSelect"],e.incomeSource.source]])])]),"other"===e.incomeSource.source.toLowerCase()?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Cl,[Object(c["createElementVNode"])("label",Bl,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.kyc.income_detail"))+" ",1),Pl]),Object(c["createElementVNode"])("div",Sl,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{"onUpdate:modelValue":t[27]||(t[27]=function(t){return e.incomeSource.detail=t}),class:"form-select w-full",rows:"3"},null,512),[[c["vModelText"],e.incomeSource.detail]])])])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",Dl,[Object(c["createVNode"])(i,{disabled:e.isProcessing,buttonStyle:"danger",type:"button",onClick:t[28]||(t[28]=function(e){return o.removeAccount()})},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Il,[Object(c["createVNode"])(s,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.kyc.remove_account")),1)]})),_:1},8,["disabled"]),Object(c["createVNode"])(i,{disabled:e.isProcessing||"1"===o.accountInfo.FinalVerification||!o.isProvidedIncomeSource,class:"ml-3"},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Al,[Object(c["createVNode"])(s,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)}a("2ca0");var Tl=a("8527"),Fl=a("df85"),Ul=a("7f45"),Ll={name:"Kyc",components:{LitepieDatepicker:Tl["a"],Icon:v["a"],JButton:Ae["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("http"),a=Object(c["inject"])("toast"),o=Object(c["inject"])("swal"),n=Object(Fe["b"])(),r=Object(wa["e"])(),l=Object(Fl["b"])(),i=l.cookies,d=Object(Le["a"])(),u=d.validate,m=d.showError,b=Object(_e["a"])(),p=b.saveNotification,j=b.fancyBox,O=Object(c["computed"])((function(){return n.state.accountInfo})),f=Object(c["computed"])((function(){return n.state.user})),y=Object(c["computed"])((function(){return n.state.countries.filter((function(e){return""!==e.code}))})),g=Object(c["computed"])((function(){var e="YYYY/MM/DD",t=n.state.locale;if(t)switch(t.toLowerCase()){case"en":e="MM/DD/YYYY";break;case"de":e="MM.DD.YYYY";break;case"es":case"it":case"fr":case"pt":e="DD/MM/YYYY";break;case"ru":e="DD.MM.YYYY";break;case"nl":e="DD-MM-YYYY";break;case"cn":e="YYYY-MM-DD";break;default:break}return e})),v=Object(c["computed"])((function(){return"\n        <div class='img-container-tooltip'><img style='width:300px' src='/help_placeholder.png' alt='Image'/></div>\n      "})),N=Object(c["computed"])((function(){var e=!0;return(""===V.incomeSource.source||"other"===V.incomeSource.source.toLowerCase()&&""===V.incomeSource.detail)&&(e=!1),e})),E=Object(c["ref"])(null),h=Object(c["ref"])(null),V=Object(c["reactive"])({form:{BusinessAccount:"",PayoutBankName:"",PayoutBankLegalEntityIdentifier:"",PayoutBankAddress:"",PayoutBankPostalCode:"",PayoutBankCity:"",PayoutBankState:"",PayoutBankCountry:"",PayoutFullName:"",PayoutBirthDate:"",PEP:"",PayoutFirstName:"",PayoutLastName:"",payoutAddress:"",payoutPostalCode:"",payoutCity:"",PayoutState:"",payoutCountry:"",PayoutIdentityCardNr:"",PayoutIdentityType:"",PayoutIdentityCountry:""},files:{passport:"",avatar:""},filesCall:"INSERT",incomeSources:["Salary","Savings","Gifts","Inherited","Other"],incomeSource:{source:"",detail:""},incomeSourceAction:"INSERT",errorBag:{},rules:{BusinessAccount:["required"],PayoutBankName:["required_if:BusinessAccount,1"],PayoutBankAddress:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankPostalCode:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankCity:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankState:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankCountry:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutFullName:["required"],PayoutBirthDate:["required"],PEP:["required"],PayoutFirstName:["required"],PayoutLastName:["required"],payoutAddress:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],payoutPostalCode:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],payoutCity:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutState:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],payoutCountry:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],passport:["required"],avatar:["required"],PayoutIdentityCardNr:["required"],PayoutIdentityType:["required"],PayoutIdentityCountry:["required"]},messages:{BusinessAccount:{required:"Please select your account type"},PayoutBankName:{required:"Business name is required"},PayoutBankAddress:{required:"Business address is required",regex:"Please provide a valid business address"},PayoutBankPostalCode:{required:"Business postal code is required",regex:"Please provide a valid business postal code"},PayoutBankCity:{required:"Business city is required",regex:"Please provide a valid business city"},PayoutBankState:{required:"Business state is required",regex:"Please provide a valid business state"},PayoutBankCountry:{required:"Business country is required",regex:"Please provide a valid business country"},PayoutFirstName:{required:"First name is required"},PayoutLastName:{required:"Last name is required"},PayoutFullName:{required:"Beneficiary full name is required"},PayoutBirthDate:{required:"Beneficiary birth date is required",date_format:"Please provide date in format "+g.value},PEP:{required:"Please select one the options"},payoutAddress:{required:"Beneficiary address is required",regex:"Please provide a valid beneficiary address"},payoutPostalCode:{required:"Postal code is required",regex:"Please provide a valid postal code"},payoutCity:{required:"City is required",regex:"Please provide a valid city name"},PayoutState:{required:"State is required",regex:"Please provide a valid state name"},payoutCountry:{required:"Country is required",regex:"Please provide a valid country name"},passport:{required:"Passport is required"},avatar:{required:"A selfie of you holding the Photo ID incl. date and nick/username is required"},PayoutIdentityCardNr:{required:"Identity card number is required"},PayoutIdentityType:{required:"Identity type is required"},PayoutIdentityCountry:{required:"Identity issue country is required"}},isProcessing:!1});Object(c["watch"])((function(){return Object(s["a"])({},V.form)}),(function(e,t){Object.keys(V.errorBag).length>0&&(V.errorBag=u(e,V.rules,V.messages))}));var w="https://app.cointopay.com",k=function(){var e={POSDATA:"",Call:"SHOW",KeyData:"FILES_"+O.value.ID,MerchantID:O.value.ID,APIKey:O.value.APIkey,output:"json"};t.get("".concat(w,"/MarketAPI"),{params:e}).then((function(e){V.isProcessing=!1,"nothing found"!==e.data&&("undefined"===typeof e.data.avatar?V.files={passport:"",avatar:""}:(V.files=e.data,V.form.avatar=V.files.avatar,V.form.passport=V.files.passport,V.filesCall="UPDATE"))})).catch((function(e){V.isProcessing=!0,console.log(e.response)}))},x=function(e){var c="passport"===e?E.value.files:h.value.files;if(c.length>0){var o=c[0];if(o.type.startsWith("image/")){var n=new FormData;n.append("files123",o),n.append("MerchantID",O.value.ID),n.append("secure",!0),t.post("".concat(w,"/MarketAPI?POSBLOB"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){if(200===a.status){var c="",o=V.filesCall;if("UPDATE"===o){var n=Object(s["a"])({},V.files),r="passport"===e?n.passport:n.avatar;r=r.split("ID="),c=r[r.length-1]}"passport"===e?V.files.passport=a.data:V.files.avatar=a.data,E.value.value="",h.value.value="";var l={POSDATA:"",Call:o,KeyData:"FILES_"+O.value.ID,ValueData:JSON.stringify(V.files),MerchantID:O.value.ID,APIKey:O.value.APIkey,output:"json"};t.get("".concat(w,"/MarketAPI"),{params:l}).then((function(e){V.isProcessing=!0,V.filesCall="UPDATE",c&&t.get("".concat(w,"/MarketAPI?POSBLOB"),{params:{MerchantID:O.value.ID,secure:!0,secureString:c}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),k()})).catch((function(e){V.isProcessing=!1,console.log(e.response)}))}})).catch((function(e){console.log(e)}))}else E.value.value="",h.value.value="",a.error("Please provide a valid image file")}},C=function(){t.get("".concat(w,"/MarketAPI"),{params:{POSDATA:"",Call:"SHOW",KeyData:O.value.ID+"_kyc",MerchantID:O.value.ID,APIKey:O.value.APIkey}}).then((function(e){"nothing found"===e.data?(V.incomeSourceAction="INSERT",V.incomeSource={source:"",detail:""}):(V.incomeSourceAction="UPDATE",V.incomeSource=e.data)})).catch((function(e){console.log(e)}))},B=function(){var e=new FormData;e.append("Call",V.incomeSourceAction),e.append("KeyData",O.value.ID+"_kyc"),e.append("ValueData",JSON.stringify(V.incomeSource)),e.append("MerchantID",O.value.ID),e.append("APIKey",O.value.APIkey),e.append("output","json"),t.post("".concat(w,"/MarketAPI?POSDATA"),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){200===e.status&&(V.incomeSourceAction="UPDATE")})).catch((function(e){console.log(e)}))},P=function(){if(V.errorBag=u(V.form,V.rules,V.messages),0===Object.keys(V.errorBag).length&&(V.isProcessing=!0,B(),O.value)){var e=Object(s["a"])(Object(s["a"])({},O.value),{},{BusinessAccount:V.form.BusinessAccount,PayoutBankName:V.form.PayoutBankName,PayoutBankLegalEntityIdentifier:V.form.PayoutBankLegalEntityIdentifier,PayoutBankAddress:V.form.PayoutBankAddress,PayoutBankPostalCode:V.form.PayoutBankPostalCode,PayoutBankCity:V.form.PayoutBankCity,PayoutBankState:V.form.PayoutBankState,PayoutBankCountry:V.form.PayoutBankCountry,PayoutFirstName:V.form.PayoutFirstName,PayoutLastName:V.form.PayoutLastName,PayoutFullName:V.form.PayoutFullName,PayoutBirthDate:V.form.PayoutBirthDate,PEP:V.form.PEP,PayoutAddress:V.form.payoutAddress,PayoutPostalCode:V.form.payoutPostalCode,PayoutCity:V.form.payoutCity,PayoutState:V.form.PayoutState,PayoutCountry:V.form.payoutCountry,PayoutIdentityType:V.form.PayoutIdentityType,PayoutIdentityCardNr:V.form.PayoutIdentityCardNr,PayoutIdentityCountry:V.form.PayoutIdentityCountry});n.dispatch(qe["gb"],e).then((function(e){V.isProcessing=!1,200===e.status&&(a.success("KYC/AML settings updated successfully"),p("KYC/AML settings updated successfully"))})).catch((function(e){V.isProcessing=!1,a.error(e.data.message),p(e.data.message)}))}},S=function(){o.fire({text:"You want your right to be forgotten executed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No",focusCancel:!0}).then((function(e){var t=e.dismiss;if("cancel"!==t){V.isProcessing=!0;var c={Call:"DisableAccount",MerchantID:f.value.ID,APIKey:f.value.APIKey,output:"json"};n.dispatch(qe["r"],c).then((function(e){if(200===e.status){var t=e.data.message;n.dispatch(qe["p"],f.value.SessionID).then((function(e){"success"===e.toLowerCase()&&(i.remove("JSESSIONID"),a.warning(t),p(t),r.push("/"))})).catch((function(e){console.log(e)}))}})).catch((function(e){V.isProcessing=!1,a.error(e.data.message),p(e.data.message)}))}}))};return Object(c["onBeforeMount"])((function(){V.form={BusinessAccount:O.value.BusinessAccount,PayoutBankName:O.value.PayoutBankName,PayoutBankLegalEntityIdentifier:O.value.PayoutBankLegalEntityIdentifier,PayoutBankAddress:O.value.PayoutBankAddress,PayoutBankPostalCode:O.value.PayoutBankPostalCode,PayoutBankCity:O.value.PayoutBankCity,PayoutBankState:O.value.PayoutBankState,PayoutBankCountry:O.value.PayoutBankCountry,PayoutFirstName:null===O.value.PayoutFirstName?"":O.value.PayoutFirstName,PayoutLastName:null===O.value.PayoutLastName?"":O.value.PayoutLastName,PayoutFullName:null===O.value.PayoutFullName?"":O.value.PayoutFullName,PayoutBirthDate:Ul["tz"](new Date(O.value.PayoutBirthDate),"Atlantic/Azores").format(g.value),PEP:O.value.PEP,payoutAddress:O.value.PayoutAddress,payoutPostalCode:O.value.PayoutPostalCode,payoutCity:O.value.PayoutCity,PayoutState:null!==O.value.PayoutState?O.value.PayoutState:"",payoutCountry:O.value.PayoutCountry,PayoutIdentityType:null===O.value.PayoutIdentityType?"":O.value.PayoutIdentityType,PayoutIdentityCardNr:null===O.value.PayoutIdentityCardNr?"":O.value.PayoutIdentityCardNr,PayoutIdentityCountry:null===O.value.PayoutIdentityCountry?"":O.value.PayoutIdentityCountry},k(),C()})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(V)),{},{passportElm:E,avatarElm:h,dateFormat:g,selfieWithIDTooltip:v,isProvidedIncomeSource:N,accountInfo:O,countries:y,showError:m,uploadFile:x,submit:P,removeAccount:S,fancyBox:j})}};const ql=f()(Ll,[["render",Ml]]);var _l=ql,zl=a("010c"),Kl=a.n(zl),Rl=function(e){return Object(c["pushScopeId"])("data-v-36234698"),e=e(),Object(c["popScopeId"])(),e},Wl={class:"card"},Yl=Rl((function(){return Object(c["createElementVNode"])("h5",{class:"title"},"Cointopay Shopping Carts",-1)})),Jl=Rl((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),Gl={class:"body"},Ql={class:"flex flex-wrap justify-center gap-1 md:gap-2"},Hl=["href"],Zl=["src"],Xl=["href"],$l={class:"card"},es=Rl((function(){return Object(c["createElementVNode"])("h5",{class:"title"},"Configure Shopify Settings",-1)})),ts=Rl((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),as={class:"body"},cs={class:"flex items-center mb-4"},os=Rl((function(){return Object(c["createElementVNode"])("img",{alt:"Shopify",class:"cursor-pointer",src:Kl.a,style:{width:"60px"}},null,-1)})),ns=[os],rs=Rl((function(){return Object(c["createElementVNode"])("a",{class:"ml-4",href:"https://cointopay.freshdesk.com/support/solutions/articles/13000078242-shopify-integration-guide",target:"_blank"},"Shopify integration guide",-1)})),ls={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ss={class:"col-span-3 md:col-span-1 mb-1"},is=Rl((function(){return Object(c["createElementVNode"])("a",{href:"https://www.shopify.com/",target:"_blank"},"Shopify",-1)})),ds={class:"ml-3"},us={class:"col-span-3 md:col-span-2"},ms={class:"text-blue-500 text-sm"},bs={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ps={class:"col-span-3 md:col-span-1 mb-1"},js={class:"col-span-3 md:col-span-2"},Os={class:"text-blue-500 text-sm"},fs={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ys={class:"col-span-3 md:col-span-1 mb-1"},gs={class:"col-span-3 md:col-span-2"},vs={class:"text-blue-500 text-sm"},Ns={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Es={class:"col-span-3 md:col-span-1 mb-1",for:"script"},hs={class:"col-span-3 md:col-span-2"},Vs=Rl((function(){return Object(c["createElementVNode"])("p",{class:"help text-xs"},"Paste under: Settings - Checkout - Additional content and scripts",-1)})),ws={class:"mt-4 text-right"},ks={key:0,class:"mr-3"};function xs(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button"),i=Object(c["resolveDirective"])("tippy");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",Wl,[Yl,Jl,Object(c["createElementVNode"])("div",Gl,[Object(c["createElementVNode"])("div",Ql,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.cartsList,(function(e,t){return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"w-28 h-28 p-2 shadow rounded-md flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-700",key:t},[Object(c["createElementVNode"])("a",{class:"text-sm dark:text-gray-100 break-all",href:e.url,target:"_blank"},[Object(c["createElementVNode"])("img",{class:"h-8 mb-2 mx-auto object-contain",src:e.icon,alt:""},null,8,Zl)],8,Hl),Object(c["createElementVNode"])("a",{class:"text-sm dark:text-gray-100 break-all",href:e.url,target:"_blank"},Object(c["toDisplayString"])(e.name),9,Xl)])),[[i,{content:e.name}]])})),128))])])]),Object(c["createElementVNode"])("div",$l,[es,ts,Object(c["createElementVNode"])("div",as,[Object(c["createElementVNode"])("div",cs,[Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{onClick:t[0]||(t[0]=function(t){return e.isShopify=!e.isShopify})},ns)),[[i,"Configure Shopify Settings"]]),rs]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])({hidden:!e.isShopify})},[Object(c["createElementVNode"])("form",{onSubmit:t[6]||(t[6]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",ls,[Object(c["createElementVNode"])("label",ss,[is,Object(c["createElementVNode"])("span",ds,Object(c["toDisplayString"])(o.translate("account.shopping_cart.shopify_api")),1)]),Object(c["createElementVNode"])("div",us,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.shopifyApiKey=t})},null,512),[[c["vModelText"],e.form.shopifyApiKey]]),Object(c["createElementVNode"])("div",ms,Object(c["toDisplayString"])(o.showError(e.errorBag,"shopifyApiKey")),1)])]),Object(c["createElementVNode"])("div",bs,[Object(c["createElementVNode"])("label",ps,Object(c["toDisplayString"])(o.translate("account.shopping_cart.shopify_password")),1),Object(c["createElementVNode"])("div",js,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.shopifyPassword=t})},null,512),[[c["vModelText"],e.form.shopifyPassword]]),Object(c["createElementVNode"])("div",Os,Object(c["toDisplayString"])(o.showError(e.errorBag,"shopifyPassword")),1)])]),Object(c["createElementVNode"])("div",fs,[Object(c["createElementVNode"])("label",ys,Object(c["toDisplayString"])(o.translate("account.shopping_cart.shopify_url"))+" ",1),Object(c["createElementVNode"])("div",gs,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.shopifyUrl=t})},null,512),[[c["vModelText"],e.form.shopifyUrl]]),Object(c["createElementVNode"])("div",vs,Object(c["toDisplayString"])(o.showError(e.errorBag,"shopifyUrl")),1)])]),Object(c["createElementVNode"])("div",Ns,[Object(c["createElementVNode"])("label",Es,Object(c["toDisplayString"])(o.translate("account.shopping_cart.shopify_script")),1),Object(c["createElementVNode"])("div",hs,[Object(c["createElementVNode"])("p",{onClick:t[4]||(t[4]=function(e){return o.generateScript()}),class:"mb-0 cursor-pointer"},"Generate Script"),Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-input w-full",id:"script",rows:"3","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.script=t})},null,512),[[c["vModelText"],e.script]]),Vs])]),Object(c["createElementVNode"])("div",ws,[Object(c["createVNode"])(s,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ks,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)],2)])])],64)}a("466d");var Cs={name:"ShoppingCart",components:{JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("toast"),a=Object(Fe["b"])(),o=Object(Le["a"])(),n=o.validate,r=o.showError,l=Object(_e["a"])(),i=l.saveNotification,d=Object(c["reactive"])({isShopify:!1,carts:[{name:"Wordpress WooCommerce",url:"https://github.com/Cointopay/Wordpress-WooCommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/woocommerce.png"},{name:"Opencart-2.x",url:"https://github.com/Cointopay/Opencart-2.x",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"OSCommerce",url:"https://github.com/Cointopay/OSCommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/oscommerce.png"},{name:"CS-Cart",url:"https://github.com/Cointopay/CS-Cart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/cscart.png"},{name:"Joomla-Virtuemart",url:"https://github.com/Cointopay/Joomla-Virtuemart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/joomla.png"},{name:"Magento1.9",url:"https://github.com/Cointopay/Magento1.9",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/Magento.png"},{name:"Magento",url:"https://github.com/Cointopay/Magento",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/Magento.png"},{name:"Opencart-3x",url:"https://github.com/Cointopay/Opencart-3x",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"Prestashop",url:"https://github.com/Cointopay/Prestashop",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/prestashop.png"},{name:"Ecwid",url:"https://github.com/Cointopay/ecwid",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/ecwid.png"},{name:"Opencart2x-refresh",url:"https://github.com/Cointopay/Opencart2x-refresh",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"WooCommerce-Marketplace",url:"https://github.com/Cointopay/WooCommerce-Marketplace",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/woocommerce.png"},{name:"BoxBilling",url:"https://github.com/Cointopay/BoxBilling",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/boxbilling.jpg"},{name:"TomatoCart",url:"https://github.com/Cointopay/TomatoCart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/tomatocart.png"},{name:"Odoo",url:"https://github.com/Cointopay/Odoo",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/odoo.png"},{name:"Coinpress.club-API-docs-and-requests",url:"https://github.com/Cointopay/Coinpress.club-API-docs-and-requests",icon:"https://avatars1.githubusercontent.com/u/8329602?s=460&u=4ca1dac5506a266f751a27dd8c91bf607e6b4129&v=4"},{name:"WordPress-EasyDigitalDownloads",url:"https://github.com/Cointopay/WordPress-EasyDigitalDownloads",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/wordpressecommerce.jpg"},{name:"WordPressEcommerce",url:"https://github.com/Cointopay/WordPressEcommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/wordpressecommerce.jpg"},{name:"Blesta",url:"https://github.com/Cointopay/Blesta",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/blesta.png"},{name:"Ubercart",url:"https://github.com/Cointopay/Ubercart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/ubercart.png"},{name:"Zencart",url:"https://github.com/Cointopay/Zencart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/zencart.png"},{name:"DrupalCommerce",url:"https://github.com/Cointopay/DrupalCommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/drupalcommerce.png"},{name:"X-Cart",url:"https://github.com/Cointopay/X-Cart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/xcart.png"},{name:"Wordpress-MembershipPro",url:"https://github.com/Cointopay/Wordpress-MembershipPro",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/membershippro.jpg"},{name:"Arastta",url:"https://github.com/Cointopay/Arastta",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/arastta.png"},{name:"WHMCS",url:"https://github.com/Cointopay/WHMCS",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/whmcs.jpg"},{name:"Opencart-1.5.6",url:"https://github.com/Cointopay/Opencart-1.5.6",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"Opencart-2.3",url:"https://github.com/Cointopay/Opencart-2.3",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"Opencart-2.2",url:"https://github.com/Cointopay/Opencart-2.2",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"}],script:"",form:{shopifyApiKey:"",shopifyPassword:"",shopifyUrl:"",ecwidShopID:0},errorBag:{},rules:{shopifyUrl:["url"]},isProcessing:!1}),u=Object(c["computed"])((function(){return a.state.accountInfo})),m=Object(c["computed"])((function(){return Yt["sortBy"](d.carts,["name"])}));Object(c["watch"])((function(){return Object(s["a"])({},d.form)}),(function(e,t){Object.keys(d.errorBag).length>0&&(d.errorBag=n(e,d.rules))}));var b=function(){var e=d.form.shopifyUrl.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g);e?d.script='{% if order.financial_status == \'paid\' %}\n        <p>This order {{ order.order_number }} has been set to status paid already by the merchant.</p>\n        {% else %}\n        <p><iframe id="iCOINTOPAY" src="https://cointopay.com/SHOPIFYv2?Continue&TransactionID={{ checkout.order_id }}&url='.concat(d.form.shopifyUrl,'" style="width: 100%; height: 565px; border: 0;"></iframe></p>\n        {% endif %}'):t.error("Please enter a valid shopify url")},p=function(){if(d.errorBag=n(d.form,d.rules),0===Object.keys(d.errorBag).length&&u.value){d.isProcessing=!0;var e=Object(s["a"])(Object(s["a"])({},u.value),{},{ShopifyAPIKey:d.form.shopifyApiKey?d.form.shopifyApiKey:null,ShopifyPassword:d.form.shopifyPassword?d.form.shopifyPassword:null,ShopifyURL:d.form.shopifyUrl?d.form.shopifyUrl:"https://your-url-input.com",ECWID:d.form.ecwidShopID?d.form.ecwidShopID:0});a.dispatch(qe["gb"],e).then((function(e){d.isProcessing=!1,200===e.status&&(t.success("Shopping carts settings updated successfully"),i("Shopping carts settings updated successfully"))})).catch((function(e){d.isProcessing=!1,t.error(e.data.message),i(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){u.value&&(d.form={shopifyApiKey:u.value.ShopifyAPIKey,shopifyPassword:u.value.ShopifyPassword,shopifyUrl:u.value.ShopifyURL,ecwidShopID:u.value.ECWID})})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(d)),{},{showError:r,cartsList:m,generateScript:b,submit:p})}};a("1f0c");const Bs=f()(Cs,[["render",xs],["__scopeId","data-v-36234698"]]);var Ps=Bs,Ss={class:"card"},Ds={class:"title"},Is=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),As={class:"body"},Ms={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ts={class:"col-span-3 md:col-span-1"},Fs=Object(c["createElementVNode"])("span",{class:"text-red-500 text-sm"},"*",-1),Us={class:"col-span-3 md:col-span-2"},Ls={class:"text-red-500 text-sm"},qs={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},_s={class:"col-span-3 md:col-span-1"},zs=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500 text-sm"},"*",-1),Ks={class:"col-span-3 md:col-span-2"},Rs={class:"text-xs whitespace-normal break-all"},Ws={class:"text-red-500 text-sm"},Ys={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Js={class:"col-span-3 md:col-span-1"},Gs=Object(c["createElementVNode"])("span",{class:"ml-1 text-red-500 text-sm"},"*",-1),Qs={class:"col-span-3 md:col-span-2"},Hs=Object(c["createElementVNode"])("option",{value:"0"},"Disable",-1),Zs=Object(c["createElementVNode"])("option",{value:"1"},"Enable",-1),Xs=[Hs,Zs],$s={class:"text-red-500 text-sm"},ei={class:"mt-4 text-right"},ti={key:0,class:"mr-3"};function ai(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("j-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ss,[Object(c["createElementVNode"])("h5",Ds,Object(c["toDisplayString"])(o.translate("account.menu.payments")),1),Is,Object(c["createElementVNode"])("div",As,[Object(c["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",Ms,[Object(c["createElementVNode"])("label",Ts,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payment_urls.confirm"))+" ",1),Fs]),Object(c["createElementVNode"])("div",Us,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.transactionSuccessUrl=t})},null,512),[[c["vModelText"],e.form.transactionSuccessUrl]]),Object(c["createElementVNode"])("div",Ls,Object(c["toDisplayString"])(o.showError(e.errorBag,"transactionSuccessUrl")),1)])]),Object(c["createElementVNode"])("div",qs,[Object(c["createElementVNode"])("label",_s,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.payment_urls.fail"))+" ",1),zs]),Object(c["createElementVNode"])("div",Ks,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.transactionFailUrl=t})},null,512),[[c["vModelText"],e.form.transactionFailUrl]]),Object(c["createElementVNode"])("p",Rs,Object(c["toDisplayString"])(o.translate("account.payment_urls.description")),1),Object(c["createElementVNode"])("div",Ws,Object(c["toDisplayString"])(o.showError(e.errorBag,"transactionFailUrl")),1)])]),Object(c["createElementVNode"])("div",Ys,[Object(c["createElementVNode"])("label",Js,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.email_notifications"))+" ",1),Gs]),Object(c["createElementVNode"])("div",Qs,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select w-full","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.Emailnotifications=t})},Xs,512),[[c["vModelSelect"],e.form.Emailnotifications]]),Object(c["createElementVNode"])("div",$s,Object(c["toDisplayString"])(o.showError(e.errorBag,"Emailnotifications")),1)])]),Object(c["createElementVNode"])("div",ei,[Object(c["createVNode"])(s,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ti,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)])])}var ci={name:"PaymentUrls",components:{JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("toast"),a=Object(Fe["b"])(),o=Object(Le["a"])(),n=o.validate,r=o.showError,l=Object(_e["a"])(),i=l.saveNotification,d=Object(c["reactive"])({form:{transactionSuccessUrl:"",transactionFailUrl:"",Emailnotifications:"0"},errorBag:{},rules:{transactionSuccessUrl:["required"],transactionFailUrl:["required"],Emailnotifications:["required"]},isProcessing:!1}),u=Object(c["computed"])((function(){return a.state.accountInfo}));Object(c["watch"])((function(){return Object(s["a"])({},d.form)}),(function(e,t){Object.keys(d.errorBag).length>0&&(d.errorBag=n(e,d.rules))}));var m=function(e){return"null"===e||null===e?"":e},b=function(){if(d.errorBag=n(d.form,d.rules),0===Object.keys(d.errorBag).length&&u.value){var e=Object(s["a"])({},u.value);e.TransactionConfirmURL=d.form.transactionSuccessUrl,e.TransactionFailURL=d.form.transactionFailUrl,e.Emailnotifications=d.form.Emailnotifications,d.isProcessing=!0,a.dispatch(qe["gb"],e).then((function(e){d.isProcessing=!1,200===e.status&&(t.success("Payment urls updated successfully"),i("Payment urls updated successfully"))})).catch((function(e){d.isProcessing=!1,t.error(e.data.message),i(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){d.form={transactionSuccessUrl:m(u.value.TransactionConfirmURL),transactionFailUrl:m(u.value.TransactionFailURL),Emailnotifications:u.value.Emailnotifications}})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(d)),{},{showError:r,submit:b})}};const oi=f()(ci,[["render",ai]]);var ni=oi,ri=function(e){return Object(c["pushScopeId"])("data-v-78431bb0"),e=e(),Object(c["popScopeId"])(),e},li={class:"card"},si=ri((function(){return Object(c["createElementVNode"])("h5",{class:"title"},"Fees paid by",-1)})),ii=ri((function(){return Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1)})),di={class:"body"},ui={class:"flex"},mi={class:"mr-4 flex items-center"},bi=["checked"],pi=ri((function(){return Object(c["createElementVNode"])("span",{class:"ml-2"},"Merchant",-1)})),ji={class:"mr-4 flex items-center"},Oi=["checked"],fi=ri((function(){return Object(c["createElementVNode"])("span",{class:"ml-2"},"Customer",-1)})),yi={class:"flex items-center"},gi=["checked"],vi=ri((function(){return Object(c["createElementVNode"])("span",{class:"ml-2"},"Shared",-1)})),Ni={class:"card"},Ei={class:"body"},hi=ri((function(){return Object(c["createElementVNode"])("p",null,"A fee of 1.0102 percent is added to each incoming transaction.",-1)})),Vi={class:"flex items-center"},wi=ri((function(){return Object(c["createElementVNode"])("p",null,"Lifetime member status:",-1)})),ki=["innerHTML"],xi={class:"mt-2"};function Ci(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",li,[si,ii,Object(c["createElementVNode"])("div",di,[Object(c["createElementVNode"])("div",ui,[Object(c["createElementVNode"])("label",mi,[Object(c["createElementVNode"])("input",{checked:o.isChecked(1),onClick:t[0]||(t[0]=function(e){return o.payFee(1)}),name:"fee",type:"radio",value:"1"},null,8,bi),pi]),Object(c["createElementVNode"])("label",ji,[Object(c["createElementVNode"])("input",{checked:o.isChecked(2),onClick:t[1]||(t[1]=function(e){return o.payFee(2)}),name:"fee",type:"radio",value:"2"},null,8,Oi),fi]),Object(c["createElementVNode"])("label",yi,[Object(c["createElementVNode"])("input",{checked:o.isChecked(3),onClick:t[2]||(t[2]=function(e){return o.payFee(3)}),name:"fee",type:"radio",value:"3"},null,8,gi),vi])])])]),Object(c["createElementVNode"])("div",Ni,[Object(c["createElementVNode"])("div",Ei,[hi,Object(c["createElementVNode"])("div",Vi,[wi,Object(c["createElementVNode"])("div",{innerHTML:o.getStatus},null,8,ki)]),Object(c["createElementVNode"])("div",xi,[Object(c["createVNode"])(l,{tag:"a",to:"/webshop-overview"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.billing.overview_confirmed_transactions")),1)]})),_:1})])])])],64)}var Bi={name:"Billing",setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("http"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(_e["a"])(),r=n.saveNotification,l=Object(c["ref"])(0),s=Object(c["computed"])((function(){return o.state.accountInfo})),i=Object(c["computed"])((function(){var e=-1===l.value?"bg-red-700 dark:bg-red-500":"bg-green-500",t=-1===l.value?"false":"true";return'<label class="ml-3 text-white text-sm px-2 py-1 rounded '.concat(e,'">').concat(t,"</label>")})),d=function(e){return Number(s.value.FeesPaidBy)===e},u=function(e){var c="https://app.cointopay.com",o={Call:"FeesPaid",Type:e,MerchantID:s.value.ID,APIKey:s.value.APIkey,output:"json"};t.get("".concat(c,"/v2REAPI"),{params:o}).then((function(e){200===e.data.status_code&&(a.success(e.data.message),r(e.data.message))})).catch((function(e){a.error(e.data.message),r(e.data.message)}))};return Object(c["onBeforeMount"])((function(){s.value&&(l.value=Number(s.value.LifetimeMember))})),{translate:e,isChecked:d,payFee:u,getStatus:i}}};a("3b01");const Pi=f()(Bi,[["render",Ci],["__scopeId","data-v-78431bb0"]]);var Si=Pi,Di={class:"card"},Ii={class:"title"},Ai=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Mi={class:"body text-center"},Ti={class:"card"},Fi={class:"title"},Ui=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Li={class:"body"},qi={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},_i=Object(c["createElementVNode"])("label",{for:"avatar",class:"col-span-3 md:col-span-1"},"POS Logo",-1),zi={class:"col-span-3 md:col-span-2"},Ki={key:0,style:{"margin-top":"8px"}},Ri=["src"],Wi={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Yi=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},"Social Url",-1),Ji={class:"col-span-3 md:col-span-2"},Gi={class:"text-red-500 text-sm"},Qi={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Hi=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},"Facebook",-1),Zi={class:"col-span-3 md:col-span-2"},Xi={class:"text-red-500 text-sm"},$i={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ed=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},"Twitter",-1),td={class:"col-span-3 md:col-span-2"},ad={class:"text-red-500 text-sm"},cd={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},od=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},"Reddit",-1),nd={class:"col-span-3 md:col-span-2"},rd={class:"text-red-500 text-sm"},ld={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},sd=Object(c["createElementVNode"])("label",{class:"col-span-3 md:col-span-1"},"LinkedIn",-1),id={class:"col-span-3 md:col-span-2"},dd={class:"text-red-500 text-sm"},ud={class:"mt-4 text-right"},md={key:0,class:"mr-3"};function bd(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("router-link"),s=Object(c["resolveComponent"])("icon"),i=Object(c["resolveComponent"])("j-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",Di,[Object(c["createElementVNode"])("h5",Ii,Object(c["toDisplayString"])(o.translate("pos.pos_manager")),1),Ai,Object(c["createElementVNode"])("div",Mi,[Object(c["createVNode"])(l,{tag:"a",to:"/account/pos/products",class:"btn btn-warning"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.translate("account.btn_manage_pos")),1)]})),_:1})])]),Object(c["createElementVNode"])("div",Ti,[Object(c["createElementVNode"])("h5",Fi,Object(c["toDisplayString"])(o.translate("pos.social_detail")),1),Ui,Object(c["createElementVNode"])("div",Li,[Object(c["createElementVNode"])("div",qi,[_i,Object(c["createElementVNode"])("div",zi,[Object(c["createElementVNode"])("input",{onChange:t[0]||(t[0]=function(e){return o.uploadFile()}),id:"avatar",ref:"logo",type:"file"},null,544),e.avatar?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ki,[Object(c["createElementVNode"])("img",{src:e.avatar,alt:"",style:{"max-height":"70px"}},null,8,Ri)])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("form",{onSubmit:t[6]||(t[6]=Object(c["withModifiers"])((function(e){return o.submit()}),["prevent"]))},[Object(c["createElementVNode"])("div",Wi,[Yi,Object(c["createElementVNode"])("div",Ji,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.SocialURL=t})},null,512),[[c["vModelText"],e.form.SocialURL]]),Object(c["createElementVNode"])("div",Gi,Object(c["toDisplayString"])(o.showError(e.errorBag,"SocialURL")),1)])]),Object(c["createElementVNode"])("div",Qi,[Hi,Object(c["createElementVNode"])("div",Zi,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.SocialFacebook=t})},null,512),[[c["vModelText"],e.form.SocialFacebook]]),Object(c["createElementVNode"])("div",Xi,Object(c["toDisplayString"])(o.showError(e.errorBag,"SocialFacebook")),1)])]),Object(c["createElementVNode"])("div",$i,[ed,Object(c["createElementVNode"])("div",td,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.SocialTwitter=t})},null,512),[[c["vModelText"],e.form.SocialTwitter]]),Object(c["createElementVNode"])("div",ad,Object(c["toDisplayString"])(o.showError(e.errorBag,"SocialTwitter")),1)])]),Object(c["createElementVNode"])("div",cd,[od,Object(c["createElementVNode"])("div",nd,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.SocialReddit=t})},null,512),[[c["vModelText"],e.form.SocialReddit]]),Object(c["createElementVNode"])("div",rd,Object(c["toDisplayString"])(o.showError(e.errorBag,"SocialReddit")),1)])]),Object(c["createElementVNode"])("div",ld,[sd,Object(c["createElementVNode"])("div",id,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.SocialLinkedIn=t})},null,512),[[c["vModelText"],e.form.SocialLinkedIn]]),Object(c["createElementVNode"])("div",dd,Object(c["toDisplayString"])(o.showError(e.errorBag,"SocialLinkedIn")),1)])]),Object(c["createElementVNode"])("div",ud,[Object(c["createVNode"])(i,{disabled:e.isProcessing},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",md,[Object(c["createVNode"])(s,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("account.button_update")),1)]})),_:1},8,["disabled"])])],32)])])],64)}var pd={name:"PosSettings",components:{JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("http"),a=Object(c["inject"])("toast"),o=Object(Fe["b"])(),n=Object(Le["a"])(),r=n.validate,l=n.showError,i=Object(_e["a"])(),d=i.saveNotification,u=Object(c["ref"])(null),m=Object(c["reactive"])({form:{SocialURL:"",SocialTwitter:"",SocialFacebook:"",SocialReddit:"",SocialLinkedIn:""},avatar:"",errorBag:{},rules:{SocialURL:["url"],SocialTwitter:["regex:/http(?:s)?:\\/\\/(?:www\\.)?twitter\\.com\\/([a-zA-Z0-9_]+)/"],SocialFacebook:["regex:/(?:https?:\\/\\/)?(?:www\\.)?facebook\\.com\\/.(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[\\w-]*\\/)*([\\w\\-.]*)/"],SocialReddit:["regex:/http(s)?:\\/\\/(www\\.)?reddit\\.com\\/r\\/[A-z0-9_-]+\\/?/"],SocialLinkedIn:["regex:/http(s)?:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[A-z0-9_-]+\\/?/"]},messages:{SocialURL:{url:"Please provide a valid url"},SocialTwitter:{regex:"Please provide a valid twitter profile url"},SocialFacebook:{regex:"Please provide a valid facebook profile url"},SocialReddit:{regex:"Please provide a valid reddit url"},SocialLinkedIn:{regex:"Please provide a valid linkedIn profile url"}},isProcessing:!1}),b=Object(c["computed"])((function(){return o.state.accountInfo}));Object(c["watch"])((function(){return Object(s["a"])({},m.form)}),(function(e,t){Object.keys(m.errorBag).length>0&&(m.errorBag=r(e,m.rules,m.messages))}));var p="https://app.cointopay.com",j=function(){var e=u.value.files;if(e.length>0){var c=e[0];if(c.type.startsWith("image/")){var n=new FormData;n.append("file123",c),n.append("MerchantID",b.value.ID),t.post("".concat(p,"/MarketAPI?POSBLOB"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var c="";if(200===e.status&&(u.value.value="",m.avatar=e.data,b.value)){var n=Object(s["a"])({},b.value);if(n.Avatar){var r=n.Avatar.split("ID=");c=r[r.length-1]}n.Avatar=m.avatar,o.dispatch(qe["gb"],n).then((function(e){200===e.status&&(c&&t.get("".concat(p,"/MarketAPI?POSBLOB"),{params:{MerchantID:b.value.ID,deleteString:c}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),a.success("Merchant logo updated successfully"))})).catch((function(e){a.error(e.data.message)}))}})).catch((function(e){console.log(e)}))}else u.value.value="",a.error("Please provide a valid image file")}},O=function(){if(m.errorBag=r(m.form,m.rules,m.messages),0===Object.keys(m.errorBag).length&&(m.isProcessing=!0,b.value)){var e=Object(s["a"])(Object(s["a"])({},b.value),{},{SocialOn:1,SocialURL:m.form.SocialURL,SocialTwitter:m.form.SocialTwitter,SocialFacebook:m.form.SocialFacebook,SocialReddit:m.form.SocialReddit,SocialLinkedIn:m.form.SocialLinkedIn});o.dispatch(qe["gb"],e).then((function(e){m.isProcessing=!1,200===e.status&&(a.success("Social information updated successfully"),d("Social information updated successfully"))})).catch((function(e){m.isProcessing=!1,a.error(e.data.message),d(e.data.message)}))}};return Object(c["onBeforeMount"])((function(){m.form={SocialURL:b.value.SocialURL,SocialTwitter:b.value.SocialTwitter,SocialFacebook:b.value.SocialFacebook,SocialReddit:b.value.SocialReddit,SocialLinkedIn:b.value.SocialLinkedIn},m.avatar=b.value.Avatar})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(m)),{},{logo:u,showError:l,uploadFile:j,submit:O})}};const jd=f()(pd,[["render",bd]]);var Od=jd,fd={class:"card"},yd={class:"title"},gd=Object(c["createElementVNode"])("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),vd={class:"body"};function Nd(e,t,a,o,n,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",fd,[Object(c["createElementVNode"])("h5",yd,Object(c["toDisplayString"])(o.translate("account.menu.referrals")),1),gd,Object(c["createElementVNode"])("div",vd,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(o.referralDescription),1)])])}var Ed={name:"Referrals",setup:function(){var e=Object(c["inject"])("translate"),t=Object(Fe["b"])(),a=Object(c["computed"])((function(){var e=t.state.translations.account.referrals.description,a=t.state.user;return e.replace("[MerchantID]",a.ID)}));return{translate:e,referralDescription:a}}};const hd=f()(Ed,[["render",Nd]]);var Vd=hd,wd={class:"flex items-center justify-between"},kd={class:"capitalize"},xd={class:"mb-2"},Cd={class:"flex items-center justify-between mb-1"},Bd={class:"text-blue-500 text-sm"},Pd={class:"mb-2"},Sd={class:"flex items-center justify-between mb-1"},Dd={class:"text-blue-500 text-sm"},Id={class:"mb-2"},Ad={class:"flex items-center justify-between mb-1"},Md={class:"text-red-700 dark:text-red-400 text-sm"},Td={class:"text-red-700 dark:text-red-400 text-sm"},Fd={class:"mt-4"},Ud={key:0,class:"mr-3"};function Ld(e,t,a,o,n,r){var l=Object(c["resolveComponent"])("icon"),s=Object(c["resolveComponent"])("vue-recaptcha"),i=Object(c["resolveComponent"])("j-button"),d=Object(c["resolveComponent"])("modal");return Object(c["openBlock"])(),Object(c["createBlock"])(d,{maxWidth:e.maxWidth,show:e.show,onClose:t[5]||(t[5]=function(e){return o.closeModal()})},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",wd,[Object(c["createElementVNode"])("span",kd,Object(c["toDisplayString"])(o.translate("login.title")),1),Object(c["createElementVNode"])("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=function(e){return o.closeModal()})},[Object(c["createVNode"])(l,{name:"close"})])])]})),content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(c["withModifiers"])((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Object(c["createElementVNode"])("div",xd,[Object(c["createElementVNode"])("div",Cd,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("login.username")),1),Object(c["createElementVNode"])("div",Bd,Object(c["toDisplayString"])(o.showError(e.errorBag,"User")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.User=t}),autofocus:"",class:"form-input w-full rounded",type:"text"},null,512),[[c["vModelText"],e.form.User]])]),Object(c["createElementVNode"])("div",Pd,[Object(c["createElementVNode"])("div",Sd,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("login.password")),1),Object(c["createElementVNode"])("div",Dd,Object(c["toDisplayString"])(o.showError(e.errorBag,"Password")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.Password=t}),autofocus:"",class:"form-input w-full rounded",type:"password"},null,512),[[c["vModelText"],e.form.Password]])]),Object(c["createElementVNode"])("div",Id,[Object(c["createElementVNode"])("div",Ad,[Object(c["createElementVNode"])("label",null,Object(c["toDisplayString"])(o.translate("login.twofa")),1),Object(c["createElementVNode"])("div",Md,Object(c["toDisplayString"])(o.showError(e.errorBag,"totp")),1)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.totp=t}),autofocus:"",class:"form-input w-full",type:"text"},null,512),[[c["vModelText"],e.form.totp]])]),Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(s,{ref:"vueRecaptcha",siteKey:e.reCaptchaAPIKey,size:"normal",onExpire:o.recaptchaExpired,theme:o.mode,onFail:o.recaptchaFailed,onVerify:o.recaptchaVerified},null,8,["siteKey","onExpire","theme","onFail","onVerify"]),Object(c["createElementVNode"])("div",Td,Object(c["toDisplayString"])(o.showError(e.errorBag,"reCaptcha")),1)]),Object(c["createElementVNode"])("div",Fd,[Object(c["createVNode"])(i,{disabled:e.isProcessing,size:"w-full"},{default:Object(c["withCtx"])((function(){return[e.isProcessing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ud,[Object(c["createVNode"])(l,{name:"spinner",classes:"w-4 h-4 text-white"})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.translate("login.button")),1)]})),_:1},8,["disabled"])])],32)]})),_:1},8,["maxWidth","show"])}var qd=a("2e4e"),_d={name:"LoginModal",components:{Modal:Wt["a"],vueRecaptcha:qd["a"],JButton:Ae["a"],Icon:v["a"]},setup:function(){var e=Object(Fl["b"])(),t=e.cookies,a=Object(c["ref"])(null),o=Object(c["inject"])("http"),n=Object(c["inject"])("toast"),r=Object(c["inject"])("translate"),l=Object(c["inject"])("emitter"),i=Object(Fe["b"])(),d=Object(Le["a"])(),u=d.validate,m=d.showError,b=Object(c["reactive"])({show:!1,maxWidth:"2xl",closeable:!0,reCaptchaAPIKey:"6LdOLTEUAAAAAGDKKH5DMUQbW8PtXjimV6ZDrBKr",form:{User:"",Password:"",totp:"000000",reCaptcha:"",output:"json"},errorBag:{},rules:{User:["required"],Password:["required"],totp:["required"],reCaptcha:["required"]},messages:{User:{required:"Username is required",regex:"Username should only contain alpha numeric,. and max 60 characters"},Password:{required:"Password is required"},totp:{required:"Google 2FA code is required",integer:"Only numeric value is allowed"},reCaptcha:{required:"Verify you are not a robot"}},isProcessing:!1}),p=Object(c["computed"])((function(){return i.state.mode}));Object(c["watch"])((function(){return Object(s["a"])({},b.form)}),(function(e,t){Object.keys(b.errorBag).length>0&&(b.errorBag=u(b.form,b.rules,b.messages))}));var j=function(){b.show=!1},O=function(e){b.form.reCaptcha=e},f=function(){a.value.reset(),b.form.reCaptcha=""},y=function(){},g=function(){if(b.errorBag=u(b.form,b.rules,b.messages),0===Object.keys(b.errorBag).length){b.isProcessing=!0;var e=b.form;e["g-recaptcha-response"]=b.form.reCaptcha,delete e.reCaptcha,o.get("".concat("https://app.cointopay.com","/Login"),{params:e}).then((function(a){if("Session already exists"===a.data)n.error(a.data),b.isProcessing=!1;else{var c=a.data;delete c.Status,c.Username=e.User,t.set("JSESSIONID",c.SessionID),i.dispatch(qe["q"],c).then((function(){i.dispatch(qe["i"],e),i.dispatch(qe["b"]).then((function(e){b.isProcessing=!1,j()})).catch((function(e){b.isProcessing=!1,console.log(e.response)}))}))}})).catch((function(e){n.error(e.response.data),b.isProcessing=!1}))}};return Object(c["onBeforeMount"])((function(){l.on("loginModal",(function(){b.show=!0}))})),Object(s["a"])(Object(s["a"])({translate:r},Object(c["toRefs"])(b)),{},{closeModal:j,cookies:t,vueRecaptcha:a,mode:p,showError:m,recaptchaVerified:O,recaptchaExpired:f,recaptchaFailed:y,submit:g})}};const zd=f()(_d,[["render",Ld]]);var Kd=zd,Rd={name:"Account",components:{AccountLayout:g,Icon:v["a"],AccountDetail:Re,WalletCurrencies:Ca,PayoutSettings:ro,Kyc:_l,ShoppingCart:Ps,PaymentUrls:ni,Billing:Si,PosSettings:Od,Referrals:Vd,LoginModal:Kd},setup:function(){var e=Object(c["inject"])("translate"),t=Object(c["inject"])("swal"),a=Object(c["inject"])("toast"),o=Object(c["inject"])("emitter"),n=Object(Fe["b"])(),r=Object(wa["d"])(),l=Object(wa["e"])(),i=Object(c["reactive"])({navs:[{name:"account.menu.details",key:"detail",isActive:!0},{name:"account.menu.wallet",key:"wallet",isActive:!1},{name:"account.menu.payout",key:"payout",isActive:!1},{name:"account.menu.kyc",key:"kyc",isActive:!1},{name:"account.menu.shopping",key:"shopping",isActive:!1},{name:"account.menu.payments",key:"payments",isActive:!1},{name:"account.menu.billing",key:"billing",isActive:!1},{name:"account.menu.referrals",key:"referrals",isActive:!1}],selectedNav:null}),d=Object(c["computed"])((function(){return n.state.accountInfo})),u=Object(c["computed"])((function(){return n.state.user})),m=function(e){i.selectedNav=Object(s["a"])(Object(s["a"])({},e),{},{isActive:!0}),i.navs.forEach((function(t){t.isActive=t.name===e.name}))};return Object(c["onBeforeMount"])((function(){n.dispatch(qe["b"]).then((function(c){var r=c.message.toLowerCase(),s=["session not available","action not permitted without correct session","no merchant session"];400===c.status_code&&-1!==s.indexOf(r)&&t.fire({title:e("account.session_expired"),text:e("account.expiry_msg"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No",focusCancel:!0,customClass:{container:"swal2-tailwind"}}).then((function(e){var t=e.value;t&&!0===t?n.dispatch(qe["p"],u.value.SessionID).then((function(e){"success"===e.toLowerCase()&&(a.warning("Session expired, Please login again."),o.emit("loginModal",{}))})).catch((function(e){return console.log(e)})):l.push("/wallet")}))})).catch((function(e){return console.log(e)}));var c=r.params.action;i.navs.forEach((function(e){e.isActive=e.key===c,e.isActive&&(i.selectedNav=e)})),null===i.selectedNav&&(i.navs[0]=Object(s["a"])(Object(s["a"])({},i.navs[0]),{},{isActive:!0}),i.selectedNav=i.navs[0])})),Object(s["a"])(Object(s["a"])({translate:e},Object(c["toRefs"])(i)),{},{accountInfo:d,toggleActive:m})}};a("3f37");const Wd=f()(Rd,[["render",l],["__scopeId","data-v-d6861d86"]]);t["default"]=Wd},9974:function(e,t,a){},ea34:function(e,t,a){"use strict";a("2c7c")}}]);
//# sourceMappingURL=account.9f7ffa64.js.map