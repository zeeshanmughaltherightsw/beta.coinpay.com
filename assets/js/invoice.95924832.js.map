{"version":3,"sources":["webpack:///./src/views/Invoice.vue?e7d2","webpack:///./src/components/PulseSkeleton.vue","webpack:///./src/components/PulseSkeleton.vue?5d19","webpack:///./src/views/Invoice.vue","webpack:///./src/components/invoice/ForwardInvoice.vue","webpack:///./src/components/invoice/ForwardInvoice.vue?339a","webpack:///./src/components/invoice/RefundInvoice.vue","webpack:///./src/components/invoice/RefundInvoice.vue?90ae","webpack:///./src/components/invoice/modals/PayWithDifferentCurrencyModal.vue","webpack:///./src/components/invoice/modals/PayWithDifferentCurrencyModal.vue?2a37","webpack:///./src/components/invoice/modals/PaymentNotificationModal.vue","webpack:///./src/components/invoice/modals/PaymentNotificationModal.vue?e040","webpack:///./src/components/invoice/StatusIcon.vue","webpack:///./src/components/invoice/StatusIcon.vue?d29c","webpack:///./src/views/Invoice.vue?1ce0","webpack:///./src/assets/images/warning.svg"],"names":["_hoisted_1","name","__exports__","render","class","_createElementVNode","alt","src","style","_hoisted_3","_hoisted_78","_createVNode","_component_centered_layout","_ctx","_createElementBlock","_hoisted_2","_hoisted_5","_Fragment","key","_hoisted_6","_hoisted_7","_hoisted_8","$setup","CoinName","_hoisted_11","TransactionID","_hoisted_14","onClick","_component_icon","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","ShopTitle","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","Amount","LongName","OriginalAmount","Reopenable","NotEnough","_createBlock","_component_j_button","disabled","_hoisted_26","classes","_hoisted_27","Status","toLowerCase","_hoisted_28","_hoisted_29","_hoisted_30","InitialAmount","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","MinerFee","href","target","_hoisted_36","_hoisted_37","_hoisted_38","MasterTransactionID","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","innerHTML","CustomerReferenceNr","_hoisted_49","_hoisted_50","_hoisted_51","coinAddress","_hoisted_52","_hoisted_53","_hoisted_54","CreatedOn","_hoisted_55","_component_TabSet","_component_Tab","selected","_hoisted_56","_hoisted_57","_hoisted_58","_component_status_icon","invoice","_hoisted_59","RedirectTargetURL","_hoisted_61","_component_QRCodeVue3","imgclass","width","height","qr-options","qrOptions","background-options","backgroundOptions","dots-options","dotsOptions","corners-dot-options","cornersDotOptions","corners-square-options","cornersSquareOptions","value","Tag","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","type","readonly","_hoisted_67","decodeURIComponent","_hoisted_68","_component_refund_invoice","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_75","_hoisted_76","TZERO","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_85","PaymentDetail","_component_forward_invoice","_hoisted_89","_hoisted_90","inputCurrency","LTR","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_component_pulse_skeleton","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_component_pay_with_different_currency_modal","_component_payment_notification_modal","_component_redirect_timer_modal","onSubmit","_hoisted_4","email","placeholder","_hoisted_9","props","components","JButton","Icon","setup","translate","inject","http","toast","showError","validate","validator","saveNotification","compositionUtils","state","reactive","form","errorBag","rules","isProcessing","hasErrors","computed","Object","keys","length","watch","apiBaseUrl","process","submit","get","params","invoiceAddress","shop","qrcode","amount","output","then","response","data","success","catch","error","console","log","toRefs","address","Call","MerchantID","APIKey","RefundAddress","ConfirmCode","Security","result","message","_component_modal","maxWidth","show","onClose","title","content","aria-label","coin","index","id","Modal","emitter","generateIconUrl","closeable","keyword","coins","coinsList","filter","indexOf","AltCoinID","closeModal","generateUrl","onBeforeMount","on","args","_imports_0","_imports_1","_hoisted_10","_hoisted_12","_hoisted_13","isFullPayment","close","status","moment","require","CenteredLayout","QRCodeVue3","PulseSkeleton","TabSet","Tab","ForwardInvoice","RefundInvoice","PayWithDifferentCurrencyModal","PaymentNotificationModal","RedirectTimerModal","StatusIcon","swal","route","useRoute","router","useRouter","store","useStore","copyToClipboard","formatDT","toFixed","qrCodeOptions","lang","isFiat","termsLink","window","location","protocol","host","loader","timer","interval","transactionInterval","showRedirectTimer","invoiceUrl","isSimpleView","isCryptoLink","isRefreshable","transactionSocket","isClosedTransactionsSocket","balanceSocket","isClosedBalanceSocket","isShowUrl","_","altCoins","ShorName","altCoin","ID","isWaiting","isPaid","isExpired","isActive","reOpenable","toString","generateCancelLink","theme","mode","user","isLoggedIn","fetchTransaction","confirmCode","payload","Buy","clearInterval","emit","startTimer","fetchEnabledCoins","fetchInvoiceData","setInterval","push","date","tz","add","Number","ExpiryTime","now","valueOf","diff","days","Math","floor","hours","minutes","seconds","merchantID","JsonArray","refreshTransaction","setTimeout","renewTransaction","url","SecurityCode","ConfirmURL","FailURL","reOpenInvoice","status_code","isOnlyPaymentMethod","option","methods","PaymentOptions","split","Boolean","isPaymentMethodAvailable","method","launchPayWithOtherCurrencyModal","payViaTZERO","fire","text","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","focusCancel","customClass","container","apikey","initBalanceSocket","WebSocket","onmessage","event","parts","onclose","initTransactionSocket","localStorage","getItem","setItem","parseFloat","query","commit","SET_LOCALE","toUpperCase","dispatch","FETCH_TRANSLATIONS","fiat","t","this","isNotice","onBeforeUnmount","module","exports"],"mappings":"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","file":"assets/js/invoice.95924832.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Invoice.vue?vue&type=style&index=0&id=0f41bacc&scoped=true&lang=scss\"","<template>\r\n  <div class=\"p-2 w-full mx-auto\">\r\n    <div class=\"animate-pulse\">\r\n      <div class=\"flex-1 space-y-3 py-1\">\r\n        <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded\"></div>\r\n        <div class=\"space-y-3\">\r\n          <div class=\"grid grid-cols-3 gap-4\">\r\n            <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-2\"></div>\r\n            <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-1\"></div>\r\n          </div>\r\n          <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"p-2 w-full mx-auto\">\r\n    <div class=\"animate-pulse\">\r\n      <div class=\"flex-1 space-y-3 py-1\">\r\n        <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded\"></div>\r\n        <div class=\"space-y-3\">\r\n          <div class=\"grid grid-cols-3 gap-4\">\r\n            <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-1\"></div>\r\n            <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-2\"></div>\r\n          </div>\r\n          <div class=\"h-2 bg-gray-200 dark:bg-gray-500 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PulseSkeleton'\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./PulseSkeleton.vue?vue&type=template&id=3485e4e1\"\nimport script from \"./PulseSkeleton.vue?vue&type=script&lang=js\"\nexport * from \"./PulseSkeleton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <centered-layout>\r\n    <div class=\"grid grid-cols-3 gap-0 md:gap-4\">\r\n      <div v-if=\"!loader && !invoice\" class=\"col-span-3\">\r\n        <img alt=\"\" src=\"https://s3-eu-west-1.amazonaws.com/cointopay/pics/wojak.png\" class=\"mx-auto\" style=\"max-width: 100%\"/>\r\n      </div>\r\n      <div class=\"col-span-3 md:col-span-2\">\r\n        <template v-if=\"loader !== 'main' && invoice\">\r\n          <div\r\n            class=\"text-sm md:text-base whitespace-nowrap mb-4 md:mb-0 scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600\">\r\n            <div class=\"flex items-center justify-between mb-4\">\r\n              <div class=\"flex items-center\">\r\n                    <div v-if=\"isSimpleView\">\r\n                      <img :src=\"generateIconUrl(invoice.CoinName)\" alt=\"Image of {{ `${invoice.LongName} ` }} currency\" class=\"w-fit h-fit ml-fit\"/> <h2 class=\"font-semibold text-xl\">{{ `${translate('invoice.invoice')} #${invoice.TransactionID}` }}</h2>\r\n                    </div>\r\n                    <div v-else>\r\n                      <img :src=\"generateIconUrl(invoice.CoinName)\" alt=\"Image of {{ `${invoice.LongName} ` }} currency\" class=\"w-fit h-fit ml-fit\"/> <h2 class=\"font-semibold text-xl\">{{ `${translate('invoice.invoice')} #${invoice.TransactionID}` }}</h2>\r\n                    </div>\r\n              </div>\r\n              <span class=\"cursor-pointer hover:text-blue-500\" @click=\"isShowUrl = !isShowUrl\">\r\n                <icon name=\"qr-code\"></icon>\r\n              </span>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n              <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.merchant') }}</div>\r\n                <div class=\"col-span-5 md:col-span-3 font-semibold\">{{ invoice.ShopTitle }}</div>\r\n              </div>\r\n              <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.amount') }}</div>\r\n                <div class=\"col-span-5 md:col-span-3 font-semibold\">\r\n                  <div class=\"flex items-center\">\r\n                    <div v-if=\"isSimpleView\">\r\n                      {{ `${invoice.Amount} ${invoice.LongName}` }}\r\n                    </div>\r\n                    <div v-else>\r\n                      {{ `${invoice.Amount} ${invoice.LongName} ` }}\r\n                      <span class=\"inline-block mx-2\">-</span>\r\n                      {{ ` ${invoice.OriginalAmount} ${inputCurrency}` }}\r\n                    </div>\r\n                    <j-button\r\n                      v-tippy=\"'Please pay the missing amount, once confirmed, click the recheck balance button. Thanks.'\"\r\n                      v-if=\"!isWaiting && invoice.Reopenable === 1 && invoice.NotEnough === 1\"\r\n                      :disabled=\"loader === 'reOpenInvoice'\" class=\"ml-3\" @click=\"reOpenInvoice()\">\r\n                      <div v-if=\"loader === 'reOpenInvoice'\" class=\"mr-3\">\r\n                        <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                      </div>\r\n                      <span>Recheck balance</span>\r\n                    </j-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div v-if=\"invoice.Status.toLowerCase() === 'underpaid'\"\r\n                   class=\"text-red-500 grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                <div class=\"col-span-5 md:col-span-2\">Missing amount</div>\r\n                <div class=\"col-span-5 md:col-span-3 font-semibold\">\r\n                  {{ `${toFixed(invoice.InitialAmount - invoice.Amount)} ${inputCurrency}` }}\r\n                </div>\r\n              </div>\r\n              <template v-if=\"!isSimpleView\" class=\"transform transition-transform\">\r\n                <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                  <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.fee') }}</div>\r\n                  <div class=\"col-span-5 md:col-span-3 font-semibold\">\r\n                    <div class=\"flex items-center\">\r\n                      <span>Service % + Fixed Network {{ invoice.MinerFee }} {{ invoice.LongName }}</span>\r\n                      <a class=\"ml-3\" :href=\"termsLink\" target=\"_blank\">\r\n                        <icon name=\"question-mark\" classes=\"w-5 h-5 text-yellow-500 dark:text-yellow-400\"></icon>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                  <div class=\"col-span-5 md:col-span-2\">Master Transaction ID</div>\r\n                  <div class=\"col-span-5 md:col-span-3 font-semibold\">{{ invoice.MasterTransactionID }}</div>\r\n                </div>\r\n                <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                  <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.transaction_id') }}</div>\r\n                  <div class=\"col-span-5 md:col-span-3 font-semibold\">{{ invoice.TransactionID }}</div>\r\n                </div>\r\n                <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                  <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.status') }}</div>\r\n                  <div class=\"col-span-5 md:col-span-3 font-semibold\">{{ invoice.Status }}</div>\r\n                </div>\r\n              </template>\r\n              <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.reference') }}</div>\r\n                <div class=\"col-span-5 md:col-span-3 font-semibold\">\r\n                  <div class=\"break-all whitespace-normal\" v-html=\"invoice.CustomerReferenceNr\"></div>\r\n                </div>\r\n              </div>\r\n              <template v-if=\"!isSimpleView\">\r\n                <div v-if=\"reOpenable\" class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                  <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.address') }}</div>\r\n                  <div class=\"col-span-5 md:col-span-3 font-semibold\">{{ invoice.coinAddress }}</div>\r\n                </div>\r\n                <div class=\"grid grid-cols-5 gap-0.5 md:gap-4\">\r\n                  <div class=\"col-span-5 md:col-span-2\">{{ translate('invoice.created_on') }}</div>\r\n                  <div class=\"col-span-5 md:col-span-3 font-semibold\">{{ formatDT(invoice.CreatedOn) }}</div>\r\n                </div>\r\n              </template>\r\n              <div class=\"mt-4 flex items-center justify-center\">\r\n                <span @click=\"isSimpleView = !isSimpleView\"\r\n                      class=\"cursor-pointer mx-auto inline-block transform transition-transform\"\r\n                      :class=\"{'rotate-180': !isSimpleView}\">\r\n                  <icon name=\"chevron-double\" classes=\"w-5 h-5\"></icon>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <TabSet>\r\n            <!-- Crypto -->\r\n            <Tab v-if=\"isPaymentMethodAvailable('crypto')\" :name=\"translate('invoice.crypto')\"\r\n                 :selected=\"isFiat === null || isFiat === 0 || isOnlyPaymentMethod('crypto')\">\r\n              <div class=\"text-center\">\r\n                <div class=\"mb-4\">\r\n                  <div class=\"flex items-center justify-center\">\r\n                    <status-icon :invoice=\"invoice\"></status-icon>\r\n                    <p class=\"text-2xl font-bold text-blue-500 text-center capitalize\">\r\n                      {{ timer }}\r\n                    </p>\r\n                  </div>\r\n                  <a :href=\"invoice.RedirectTargetURL\" v-if=\"isPaid || isExpired\"\r\n                     class=\"mt-2 text-blue-500 hover:underline inline-flex items-center animate-pulse text-2xl text-blue-500 font-bold\">\r\n                    <span class=\"mr-2\">Click to Redirect</span>\r\n                    <icon name=\"arrow-right\" classes=\"w-5 h-5\"></icon>\r\n                  </a>\r\n                </div>\r\n                <div v-if=\"!isPaid && !isExpired\">\r\n                  <QRCodeVue3 imgclass=\"mx-auto\"\r\n                              :width=\"qrOptions.width\"\r\n                              :height=\"qrOptions.height\"\r\n                              :qr-options=\"qrOptions.qrOptions\"\r\n                              :background-options=\"qrOptions.backgroundOptions\"\r\n                              :dots-options=\"qrOptions.dotsOptions\"\r\n                              :corners-dot-options=\"qrOptions.cornersDotOptions\"\r\n                              :corners-square-options=\"qrOptions.cornersSquareOptions\"\r\n                              :value=\"isCryptoLink ? invoice.CoinName.toLowerCase() + ':' + invoice.coinAddress + '?amount=' + invoice.Amount : invoice.coinAddress\"></QRCodeVue3>\r\n                </div>\r\n                <div v-if=\"invoice.Tag\" class=\"flex items-center justify-center mt-3\">\r\n                  <span class=\"cursor-pointer text-red-500 mr-4 animate-pulse\"\r\n                        v-tippy=\"'Please use this Memo/Tag, otherwise you risk losing your funds.'\">\r\n                    <icon name=\"exclamation-circle\"></icon>\r\n                  </span>\r\n                  <span>Memo/Tag: {{ invoice.Tag }}</span>\r\n                </div>\r\n                <div v-if=\"invoice.coinAddress !== 'none'\" class=\"mt-4\">\r\n                  <div class=\"flex flex-wrap justify-center items-stretch w-full mb-4 relative\">\r\n                    <input type=\"text\" v-model=\"invoice.coinAddress\" readonly\r\n                           class=\"form-input flex-1 md:flex-none md:w-2/3 rounded-r-none\"/>\r\n                    <div class=\"flex -mr-px\">\r\n                      <span @click=\"copyToClipboard(decodeURIComponent(invoice.coinAddress))\"\r\n                            class=\"hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer flex items-center leading-normal rounded rounded-l-none border border-l-0 border-gray-300 dark:border-gray-600 px-3 whitespace-no-wrap text-sm\">\r\n                        <icon name=\"clipboard\" classes=\"w-5 h-5\"></icon>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"flex items-center justify-center\" v-if=\"!isPaid && !isExpired\">\r\n                  <j-button class=\"mr-3\" @click=\"isCryptoLink = !isCryptoLink\">\r\n                    {{ isCryptoLink ? translate('invoice.full_crypto_link') : translate('invoice.address_only') }}\r\n                  </j-button>\r\n                  <j-button v-tippy=\"'Refresh'\" :disabled=\"!isRefreshable\" @click=\"refreshTransaction()\">\r\n                    <icon name=\"refresh\" classes=\"w-4 h-4\"></icon>\r\n                  </j-button>\r\n                </div>\r\n                <a v-if=\"isExpired\" class=\"text-blue-500 hover:underline\"\r\n                   :href=\"renewTransaction()\">Pay anyway? Click here</a>\r\n                <!-- Refund Invoice -->\r\n                <refund-invoice :invoice=\"invoice\"></refund-invoice>\r\n              </div>\r\n            </Tab>\r\n            <!-- Instant -->\r\n            <Tab v-if=\"isPaymentMethodAvailable('instant')\"\r\n                 :name=\"translate('invoice.tzero')\" :selected=\"isOnlyPaymentMethod('instant')\">\r\n              <div class=\"text-center\">\r\n                <div class=\"mb-4\">\r\n                  <div class=\"flex items-center justify-center\">\r\n                    <status-icon :invoice=\"invoice\"></status-icon>\r\n                    <p class=\"text-2xl font-bold text-blue-500 text-center capitalize\">\r\n                      {{ timer }}</p>\r\n                  </div>\r\n                  <a :href=\"invoice.RedirectTargetURL\" v-if=\"isPaid || isExpired\"\r\n                     class=\"mt-2 text-blue-500 hover:underline inline-flex items-center\">\r\n                    <span class=\"mr-2\">Click to Redirect</span>\r\n                    <icon name=\"arrow-right\" classes=\"w-5 h-5\"></icon>\r\n                  </a>\r\n                </div>\r\n                <div class=\"mb-3\" v-if=\"!isPaid && !isExpired\">\r\n                  <QRCodeVue3 imgclass=\"mx-auto\"\r\n                              :width=\"qrOptions.width\"\r\n                              :height=\"qrOptions.height\"\r\n                              :qr-options=\"qrOptions.qrOptions\"\r\n                              :background-options=\"qrOptions.backgroundOptions\"\r\n                              :dots-options=\"qrOptions.dotsOptions\"\r\n                              :corners-dot-options=\"qrOptions.cornersDotOptions\"\r\n                              :corners-square-options=\"qrOptions.cornersSquareOptions\"\r\n                              :value=\"invoice.TZERO\"></QRCodeVue3>\r\n                </div>\r\n                <a v-if=\"isExpired\" class=\"text-blue-500 hover:underline\"\r\n                   :href=\"renewTransaction()\">Pay anyway? Click here</a>\r\n                <span v-if=\"isLoggedIn && isWaiting\" class=\"mx-auto inline-block cursor-pointer\" @click=\"payViaTZERO()\">\r\n                  <img class=\"h-16\" src='https://s3-eu-west-1.amazonaws.com/cointopay/img/cointopay_checkout.png'\r\n                       alt=\"\"/>\r\n                </span>\r\n              </div>\r\n            </Tab>\r\n            <!-- Fiat -->\r\n            <Tab v-if=\"isPaymentMethodAvailable('fiat', isFiat)\" :name=\"translate('invoice.fiat')\"\r\n                 :selected=\"isFiat === 1 || isOnlyPaymentMethod('fiat')\">\r\n              <div class=\"text-center\">\r\n                <div class=\"mb-4\">\r\n                  <div class=\"flex items-center justify-center\">\r\n                    <status-icon :invoice=\"invoice\"></status-icon>\r\n                    <p class=\"text-2xl font-bold text-blue-500 text-center capitalize\">\r\n                      {{ timer }}</p>\r\n                  </div>\r\n                  <a :href=\"invoice.RedirectTargetURL\" v-if=\"isPaid || isExpired\"\r\n                     class=\"mt-2 text-blue-500 hover:underline inline-flex items-center\">\r\n                    <span class=\"mr-2\">Click to Redirect</span>\r\n                    <icon name=\"arrow-right\" classes=\"w-5 h-5\"></icon>\r\n                  </a>\r\n                </div>\r\n                <div v-if=\"!isPaid && !isExpired && invoice.PaymentDetail\">\r\n                  <div class=\"content-center\" v-html=\"invoice.PaymentDetail\"></div>\r\n                </div>\r\n                <a v-if=\"isExpired\" class=\"text-blue-500 hover:underline\"\r\n                   :href=\"renewTransaction()\">Pay anyway? Click here</a>\r\n              </div>\r\n            </Tab>\r\n          </TabSet>\r\n          <!-- Forward Invoice -->\r\n          <forward-invoice :invoice=\"invoice\"></forward-invoice>\r\n          <div class=\"grid grid-cols-2 gap-0 md:gap-4\">\r\n            <div class=\"col-span-2 md:col-span-1\">\r\n              <!-- Pay with different currency -->\r\n              <div class=\"card\"\r\n                   v-if=\"isActive && invoice.inputCurrency && invoice.LTR === 0 && (isFiat === null || isFiat === 0)\">\r\n                <div class=\"text-center body\">\r\n                  <j-button @click=\"launchPayWithOtherCurrencyModal()\">\r\n                    {{ translate('invoice.pay_with_different_currency') }}\r\n                  </j-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-span-2 md:col-span-1\">\r\n              <div v-if=\"isWaiting\" class=\"card\">\r\n                <div class=\"body text-center\">\r\n                  <a :href=\"generateCancelLink\" class=\"btn btn-warning\">Cancel</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <template v-if=\"loader === 'main'\">\r\n          <pulse-skeleton></pulse-skeleton>\r\n          <pulse-skeleton></pulse-skeleton>\r\n        </template>\r\n      </div>\r\n\r\n      <div class=\"col-span-3 md:col-span-1\" v-show=\"isShowUrl\">\r\n        <template v-if=\"loader !== 'main'\">\r\n          <div class=\"card\">\r\n            <div class=\"title\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <h5>{{ translate('invoice.invoice_url') }}</h5>\r\n                <span @click=\"isShowUrl = false\" class=\"cursor-pointer\">\r\n                  <icon name=\"close\"></icon>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n            <div class=\"body\">\r\n              <div class=\"mb-4 flex items-center justify-between flex-col\">\r\n                <QRCodeVue3 imgclass=\"mb-3\"\r\n                            :width=\"qrOptions.width\"\r\n                            :height=\"qrOptions.height\"\r\n                            :qr-options=\"qrOptions.qrOptions\"\r\n                            :background-options=\"qrOptions.backgroundOptions\"\r\n                            :dots-options=\"qrOptions.dotsOptions\"\r\n                            :corners-dot-options=\"qrOptions.cornersDotOptions\"\r\n                            :corners-square-options=\"qrOptions.cornersSquareOptions\"\r\n                            :value=\"invoiceUrl\"></QRCodeVue3>\r\n                <div class=\"flex flex-wrap items-stretch w-full mb-4 relative\">\r\n                  <input type=\"text\" v-model=\"invoiceUrl\" readonly class=\"form-input flex-1 rounded-r-none\"/>\r\n                  <div class=\"flex -mr-px\">\r\n                    <span @click=\"copyToClipboard(invoiceUrl)\"\r\n                          class=\"hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer flex items-center leading-normal rounded rounded-l-none border border-l-0 border-gray-300 dark:border-gray-600 px-3 whitespace-no-wrap text-sm\">\r\n                      <icon name=\"clipboard\" classes=\"w-5 h-5\"></icon>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <p class=\"text-center text-red-500\">{{ translate('invoice.warning') }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <template v-if=\"loader === 'main'\">\r\n          <pulse-skeleton></pulse-skeleton>\r\n          <pulse-skeleton></pulse-skeleton>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </centered-layout>\r\n  <!-- Pay with different currency modal -->\r\n  <pay-with-different-currency-modal></pay-with-different-currency-modal>\r\n  <!-- Payment notification modal -->\r\n  <payment-notification-modal></payment-notification-modal>\r\n  <!-- Redirect Timer Modal -->\r\n  <redirect-timer-modal></redirect-timer-modal>\r\n</template>\r\n\r\n<script>\r\nimport CenteredLayout from '@/components/layouts/CenteredLayout'\r\nimport QRCodeVue3 from 'qrcode-vue3'\r\nimport JButton from '@/templates/Button'\r\nimport TabSet from '@/components/common/TabSet'\r\nimport Tab from '@/components/common/Tab'\r\nimport PulseSkeleton from '@/components/PulseSkeleton'\r\nimport ForwardInvoice from '@/components/invoice/ForwardInvoice'\r\nimport RefundInvoice from '@/components/invoice/RefundInvoice'\r\nimport PayWithDifferentCurrencyModal from '@/components/invoice/modals/PayWithDifferentCurrencyModal'\r\nimport PaymentNotificationModal from '@/components/invoice/modals/PaymentNotificationModal'\r\nimport RedirectTimerModal from '@/components/invoice/modals/RedirectTimerModal'\r\nimport Icon from '@/components/Icon'\r\nimport StatusIcon from '@/components/invoice/StatusIcon'\r\nimport { computed, inject, onBeforeMount, onBeforeUnmount, reactive, toRefs } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { FETCH_TRANSLATIONS, SET_LOCALE } from '@/store/keys'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport qrCodeOptions from '@/qrOptions'\r\nimport * as _ from 'lodash'\r\n\r\nconst moment = require('moment-timezone/builds/moment-timezone-with-data-2012-2022.min')\r\n\r\nexport default {\r\n  name: 'Invoice',\r\n  components: {\r\n    CenteredLayout,\r\n    QRCodeVue3,\r\n    PulseSkeleton,\r\n    JButton,\r\n    TabSet,\r\n    Tab,\r\n    Icon,\r\n    ForwardInvoice,\r\n    RefundInvoice,\r\n    PayWithDifferentCurrencyModal,\r\n    PaymentNotificationModal,\r\n    RedirectTimerModal,\r\n    StatusIcon\r\n  },\r\n  setup () {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const http = inject('http')\r\n    const toast = inject('toast')\r\n    const swal = inject('swal')\r\n    const emitter = inject('emitter')\r\n\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const store = useStore()\r\n\r\n    const {\r\n      generateIconUrl,\r\n      copyToClipboard,\r\n      formatDT,\r\n      saveNotification,\r\n      toFixed\r\n    } = compositionUtils()\r\n    const { qrOptions } = qrCodeOptions()\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n\r\n    // State\r\n    const state = reactive({\r\n      lang: 'en',\r\n      isFiat: null,\r\n      coins: [],\r\n      termsLink: window.location.protocol + '//' + window.location.host + '/terms',\r\n      loader: '',\r\n      timer: null,\r\n      interval: null,\r\n      transactionInterval: null,\r\n      showRedirectTimer: false,\r\n      invoice: null,\r\n      invoiceUrl: window.location.href,\r\n      isSimpleView: true,\r\n      isCryptoLink: true,\r\n      isRefreshable: false,\r\n      transactionSocket: null,\r\n      isClosedTransactionsSocket: false,\r\n      balanceSocket: null,\r\n      isClosedBalanceSocket: false,\r\n      isShowUrl: false\r\n    })\r\n\r\n    // Computed\r\n    const inputCurrency = computed(() => {\r\n      let inputCurrency = ''\r\n      if (state.invoice) {\r\n        inputCurrency = state.invoice.inputCurrency\r\n        const coin = _.find(store.state.altCoins, { ShorName: inputCurrency })\r\n        if (coin) {\r\n          inputCurrency = coin.LongName\r\n        }\r\n      }\r\n      return inputCurrency\r\n    })\r\n    const altCoin = computed(() => {\r\n      return _.find(store.state.altCoins, {\r\n        ID: state.invoice.AltCoinID\r\n      })\r\n    })\r\n    const isWaiting = computed(() => {\r\n      return state.invoice && state.invoice.Status.toLowerCase() === 'waiting'\r\n    })\r\n    const isPaid = computed(() => {\r\n      return state.invoice && ['paid', 'underpaid'].indexOf(state.invoice.Status.toLowerCase()) !== -1\r\n    })\r\n    const isExpired = computed(() => {\r\n      return state.invoice && state.invoice.Status.toLowerCase() === 'expired'\r\n    })\r\n    const isActive = computed(() => {\r\n      return state.invoice && ['waiting', 'awaiting-fiat'].indexOf(state.invoice.Status.toLowerCase()) !== -1\r\n    })\r\n    const reOpenable = computed(() => {\r\n      return state.invoice && state.invoice.Status.toLowerCase() === 'underpaid' &&\r\n        state.invoice.Reopenable.toString() === '1'\r\n    })\r\n    const generateCancelLink = computed(() => {\r\n      return `${apiBaseUrl}/MerchantAPI?Confirm=true&CustomerReferenceNr=${state.invoice.CustomerReferenceNr}&TransactionID=${state.invoice.TransactionID}&MerchantID=${state.invoice.MerchantID}&coinAddress=${state.invoice.coinAddress}&AltCoinID=${state.invoice.AltCoinID}`\r\n    })\r\n    const theme = computed(() => store.state.mode)\r\n    const user = computed(() => store.state.user)\r\n    const isLoggedIn = computed(() => store.state.isLoggedIn)\r\n\r\n    // Methods\r\n    const fetchTransaction = (confirmCode, loader = 'main') => {\r\n      state.loader = loader\r\n      const payload = {\r\n        Call: 'Transactiondetail',\r\n        MerchantID: 1,\r\n        APIKey: '_',\r\n        ConfirmCode: confirmCode,\r\n        output: 'json'\r\n      }\r\n      http.get(`${apiBaseUrl}/v2REAPI`, {\r\n        params: payload\r\n      }).then(response => {\r\n        state.loader = ''\r\n        if (response.status === 200) {\r\n          if (response.data.result !== 'failed') {\r\n            state.invoice = response.data.data\r\n            const status = state.invoice.Status.toLowerCase()\r\n            state.isFiat = state.invoice.Buy === 1 || (state.isFiat === 1 ? 1 : 0)\r\n            if (['paid', 'underpaid', 'expired'].indexOf(status) !== -1) {\r\n              state.timer = state.invoice.Status\r\n              if (state.transactionInterval) {\r\n                clearInterval(state.transactionInterval)\r\n              }\r\n              if (state.interval) {\r\n                clearInterval(state.interval)\r\n                state.timer = status\r\n              }\r\n              if (status === 'paid' && state.showRedirectTimer) {\r\n                emitter.emit('paymentNotificationModal', {\r\n                  close: true\r\n                })\r\n                emitter.emit('redirectTimerModal', {\r\n                  invoice: state.invoice\r\n                })\r\n              }\r\n            }\r\n            if (['waiting', 'awaiting-fiat'].indexOf(status) !== -1) {\r\n              startTimer()\r\n            }\r\n            if (loader === 'main') {\r\n              fetchEnabledCoins(state.invoice.MerchantID)\r\n            }\r\n          }\r\n        }\r\n      }).catch(error => {\r\n        state.loader = ''\r\n        console.log(error)\r\n      })\r\n    }\r\n    const fetchInvoiceData = () => {\r\n      if (Object.keys(route.params).length > 0) {\r\n        const confirmCode = route.params.confirmCode\r\n        fetchTransaction(confirmCode)\r\n        if (state.transactionInterval) {\r\n          clearInterval(state.transactionInterval)\r\n        }\r\n        state.transactionInterval = setInterval(() => {\r\n          fetchTransaction(confirmCode, false)\r\n        }, 60000)\r\n      } else {\r\n        router.push('/')\r\n      }\r\n    }\r\n    // Start timer\r\n    const startTimer = () => {\r\n      if (!state.timer) {\r\n        const date = moment.tz(state.invoice.CreatedOn, 'Europe/Amsterdam')\r\n          .add(Number(state.invoice.ExpiryTime), 'minutes')\r\n        state.interval = setInterval(() => {\r\n          const now = moment().tz('Europe/Amsterdam').valueOf()\r\n          const diff = date.valueOf() - now\r\n          // Time calculations for days, hours, minutes and seconds\r\n          const days = Math.floor(diff / (1000 * 60 * 60 * 24))\r\n          const hours = Math.floor(\r\n            (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\r\n          )\r\n          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))\r\n          const seconds = Math.floor((diff % (1000 * 60)) / 1000)\r\n          state.timer = `${days}d ${hours}h ${minutes}m ${seconds}s`\r\n          if (diff < 0) {\r\n            clearInterval(state.interval)\r\n            state.timer = 'Expired'\r\n            fetchTransaction(state.invoice.ConfirmCode, '')\r\n          }\r\n        }, 1000)\r\n      }\r\n    }\r\n    // Fetch enabled coins\r\n    const fetchEnabledCoins = (merchantID) => {\r\n      const payload = {\r\n        MerchantID: merchantID,\r\n        output: 'json',\r\n        JsonArray: ''\r\n      }\r\n      http.get(`${apiBaseUrl}/CloneMasterTransaction`, {\r\n        params: payload\r\n      }).then(response => {\r\n        state.coins = response.data\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n    }\r\n    // Refresh Transaction\r\n    const refreshTransaction = () => {\r\n      if (!state.isRefreshable) {\r\n        return\r\n      }\r\n      state.isRefreshable = false\r\n      http.get(`${apiBaseUrl}/v2REAPI`, {\r\n        params: {\r\n          Call: 'txcheckcall',\r\n          MerchantID: state.invoice.MerchantID,\r\n          APIKey: '_',\r\n          AltCoinID: state.invoice.AltCoinID,\r\n          TransactionID: state.invoice.TransactionID,\r\n          coinAddress: state.invoice.coinAddress,\r\n          output: 'json'\r\n        }\r\n      }).then(response => {\r\n        setTimeout(() => {\r\n          state.isRefreshable = true\r\n        }, 60000)\r\n        if (response.data && response.data.message) {\r\n          toast.success(response.data.message)\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n    }\r\n    // Renew Transaction\r\n    const renewTransaction = () => {\r\n      let url = `https://cointopay.com/MerchantAPI?Checkout=true&MerchantID=${state.invoice.MerchantID}&Amount=${state.invoice.OriginalAmount}&AltCoinID=${state.invoice.AltCoinID}&CustomerReferenceNr=${state.invoice.CustomerReferenceNr}&SecurityCode=${state.invoice.SecurityCode}&inputCurrency=${state.invoice.inputCurrency}`\r\n      if (state.invoice.ConfirmURL) {\r\n        url += `&transactionconfirmurl=${state.invoice.ConfirmURL}`\r\n      }\r\n      if (state.invoice.FailURL) {\r\n        url += `&transactionfailurl=${state.invoice.FailURL}`\r\n      }\r\n      return url\r\n    }\r\n    // Reopen Invoice -- Transaction\r\n    const reOpenInvoice = () => {\r\n      state.loader = 'reOpenInvoice'\r\n      http.get(`${apiBaseUrl}/v2REAPI`, {\r\n        params: {\r\n          Call: 'ReopenNotEnough',\r\n          MerchantID: state.invoice.MerchantID,\r\n          APIKey: '_',\r\n          ConfirmCode: state.invoice.Security,\r\n          output: 'json'\r\n        }\r\n      }).then(response => {\r\n        state.loader = ''\r\n        if (response.data.status_code === 200) {\r\n          toast.success('Transaction scheduled for re-validation')\r\n          saveNotification('Transaction scheduled for re-validation')\r\n          fetchTransaction(state.invoice.Security, '')\r\n        } else {\r\n          toast.error(response.data.message)\r\n          saveNotification(response.data.message)\r\n        }\r\n      }).catch(error => {\r\n        state.loader = ''\r\n        console.log(error)\r\n      })\r\n    }\r\n    // Check payment options\r\n    const isOnlyPaymentMethod = (option) => {\r\n      const methods = state.invoice.PaymentOptions.split(',').filter(Boolean)\r\n      if (methods.length === 1 && state.isFiat !== 1) {\r\n        return methods.indexOf(option) !== -1\r\n      } else {\r\n        return methods.indexOf('crypto') === -1 ? option === 'instant' : false\r\n      }\r\n    }\r\n    // Check if payment method is available\r\n    const isPaymentMethodAvailable = (method, isFiat) => {\r\n      const methods = state.invoice.PaymentOptions.split(',').filter(Boolean)\r\n      return methods.indexOf(method) !== -1 || isFiat === 1\r\n    }\r\n    // Launch pay with different currency modal\r\n    const launchPayWithOtherCurrencyModal = () => {\r\n      emitter.emit('payWithDifferentCurrencyModal', {\r\n        coins: state.coins,\r\n        invoice: state.invoice\r\n      })\r\n    }\r\n    const payViaTZERO = () => {\r\n      swal.fire({\r\n        title: 'Pay Invoice',\r\n        text: 'Do you want to pay this invoice?',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        confirmButtonText: 'Yes',\r\n        cancelButtonText: 'No',\r\n        focusCancel: true,\r\n        customClass: {\r\n          container: 'swal2-tailwind'\r\n        }\r\n      }).then(({ value }) => {\r\n        if (value && value === true) {\r\n          http.get(`${apiBaseUrl}/TminusZeroPaymentProcessor`, {\r\n            params: {\r\n              MerchantID: state.invoice.MerchantID,\r\n              AltCoinID: state.invoice.AltCoinID,\r\n              TransactionID: state.invoice.TransactionID,\r\n              CustomerReferenceNr: state.invoice.CustomerReferenceNr,\r\n              coinAddress: state.invoice.coinAddress,\r\n              apikey: user.value.APIKey,\r\n              output: 'json'\r\n            }\r\n          }).then(response => {\r\n            if (response.status === 200) {\r\n              toast.success(response.data)\r\n              saveNotification(response.data)\r\n            }\r\n          }).catch(error => {\r\n            if (error.data) {\r\n              toast.error(error.data)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n    // Balance notifications socket\r\n    const initBalanceSocket = () => {\r\n      state.balanceSocket = new WebSocket('wss://wss.cointopay.com/balance')\r\n      state.balanceSocket.onmessage = function (event) {\r\n        if (event && event.data) {\r\n          const parts = event.data.split(':')\r\n          if (parts.length >= 4 && state.invoice) {\r\n            if (state.invoice.TransactionID.toString() === parts[1].toString()) {\r\n              if (Object.keys(route.params).length > 0) {\r\n                const confirmCode = route.params.confirmCode\r\n                setTimeout(() => {\r\n                  fetchTransaction(confirmCode, '')\r\n                }, 2000)\r\n                if (parts[2].toLowerCase() === 'paid') {\r\n                  state.showRedirectTimer = true\r\n                }\r\n              }\r\n            }\r\n          } else if (parts.length === 3 && state.invoice) {\r\n            if (state.invoice.TransactionID.toString() === parts[1].toString()) {\r\n              setTimeout(() => {\r\n                fetchTransaction(state.invoice.Security, '')\r\n              }, 2000)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      state.balanceSocket.onclose = function (event) {\r\n        if (!state.isClosedBalanceSocket) {\r\n          initBalanceSocket()\r\n        }\r\n      }\r\n    }\r\n    // Transaction notifications socket\r\n    const initTransactionSocket = () => {\r\n      state.transactionSocket = new WebSocket('wss://wss.cointopay.com/transactions')\r\n      state.transactionSocket.onmessage = function (event) {\r\n        if (event && event.data) {\r\n          const data = event.data\r\n          const parts = data.split(':')\r\n          if (parts.length >= 4 && state.invoice) {\r\n            if (state.invoice.TransactionID.toString() === parts[1].toString()) {\r\n              setTimeout(() => {\r\n                fetchTransaction(state.invoice.Security, '')\r\n              }, 2000)\r\n              if (parts[0].toLowerCase() === 'blockchain' && window.localStorage.getItem(parts[1]) === null) {\r\n                window.localStorage.setItem(parts[1], 'true')\r\n                const isFullPayment = parts[3].toLowerCase() === 'confirming'\r\n                const amount = !isFullPayment ? toFixed(Number.parseFloat(state.invoice.Amount) - Number.parseFloat(parts[2])) : 0\r\n                emitter.emit('paymentNotificationModal', {\r\n                  invoice: state.invoice,\r\n                  isFullPayment,\r\n                  amount\r\n                })\r\n              }\r\n            }\r\n          } else if (parts.length === 3 && state.invoice) {\r\n            if (state.invoice.TransactionID.toString() === parts[1].toString()) {\r\n              setTimeout(() => {\r\n                fetchTransaction(state.invoice.Security, '')\r\n              }, 2000)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      state.transactionSocket.onclose = function (event) {\r\n        if (!state.isClosedTransactionsSocket) {\r\n          initTransactionSocket()\r\n        }\r\n      }\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      state.isRefreshable = true\r\n      if (Object.keys(route.query).length > 0) {\r\n        if (typeof route.query.lang !== 'undefined') {\r\n          state.lang = route.query.lang\r\n          // Change language\r\n          store.commit(SET_LOCALE, state.lang.toUpperCase())\r\n          store.dispatch(FETCH_TRANSLATIONS)\r\n        }\r\n        if (typeof route.query.fiat !== 'undefined') {\r\n          state.isFiat = Number(route.query.fiat)\r\n        }\r\n        if (route.query.t === true) {\r\n          this.isNotice = true\r\n        }\r\n      }\r\n      // Fetch Invoice Data\r\n      fetchInvoiceData()\r\n      // Init Transaction Socket\r\n      initTransactionSocket()\r\n      // Init Balance Socket\r\n      initBalanceSocket()\r\n    })\r\n\r\n    onBeforeUnmount(() => {\r\n      if (state.transactionInterval) {\r\n        clearInterval(state.transactionInterval)\r\n      }\r\n      if (state.interval) {\r\n        clearInterval(state.interval)\r\n      }\r\n      // Destroy Sockets\r\n      if (state.balanceSocket !== null) {\r\n        state.isClosedBalanceSocket = true\r\n        state.balanceSocket.close()\r\n      }\r\n      if (state.transactionSocket !== null) {\r\n        state.isClosedTransactionsSocket = true\r\n        state.transactionSocket.close()\r\n      }\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      isLoggedIn,\r\n      generateIconUrl,\r\n      qrOptions,\r\n      copyToClipboard,\r\n      formatDT,\r\n      toFixed,\r\n      theme,\r\n      inputCurrency,\r\n      altCoin,\r\n      isWaiting,\r\n      isPaid,\r\n      isExpired,\r\n      isActive,\r\n      reOpenable,\r\n      generateCancelLink,\r\n      refreshTransaction,\r\n      renewTransaction,\r\n      reOpenInvoice,\r\n      isOnlyPaymentMethod,\r\n      isPaymentMethodAvailable,\r\n      launchPayWithOtherCurrencyModal,\r\n      payViaTZERO\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.content-center {\r\n  :deep(a) {\r\n    @apply block;\r\n    img {\r\n      @apply mx-auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"card\">\r\n    <div class=\"body\">\r\n      <form @submit.prevent=\"submit()\">\r\n        <div class=\"flex items-center flex-col md:flex-row\">\r\n          <div class=\"w-full md:flex-1 mr-0 md:mr-3\">\r\n            <div class=\"text-right mb-1\" v-if=\"hasErrors\">\r\n              <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'email') }}</div>\r\n            </div>\r\n            <input v-model=\"form.email\" class=\"form-input w-full\" placeholder=\"Email address\" type=\"text\"/>\r\n          </div>\r\n          <div class=\"mt-3 md:mt-0\">\r\n            <label class=\"mb-1 block\" v-if=\"hasErrors\">&nbsp;</label>\r\n            <j-button :disabled=\"isProcessing\">\r\n              <div v-if=\"isProcessing\" class=\"mr-3\">\r\n                <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n              </div>\r\n              <span>{{ translate('invoice.forward_invoice') }}</span>\r\n            </j-button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport JButton from '@/templates/Button'\r\nimport Icon from '@/components/Icon'\r\nimport { computed, inject, reactive, toRefs, watch } from 'vue'\r\nimport validator from '@/validator'\r\nimport compositionUtils from '@/compositionUtils'\r\n\r\nexport default {\r\n  name: 'ForwardInvoice',\r\n  props: ['invoice'],\r\n  components: {\r\n    JButton,\r\n    Icon\r\n  },\r\n  setup (props) {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const http = inject('http')\r\n    const toast = inject('toast')\r\n\r\n    const {\r\n      showError,\r\n      validate\r\n    } = validator()\r\n    const { saveNotification } = compositionUtils()\r\n\r\n    const state = reactive({\r\n      form: {\r\n        email: ''\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        email: ['required', 'email']\r\n      },\r\n      isProcessing: false\r\n    })\r\n    // Computed\r\n    const hasErrors = computed(() => Object.keys(state.errorBag).length > 0)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      () => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(state.form, state.rules)\r\n        }\r\n      })\r\n\r\n    // Methods\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    const submit = () => {\r\n      state.errorBag = validate(state.form, state.rules)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.isProcessing = true\r\n        http.get(`${apiBaseUrl}/InvoiceForwarder`, {\r\n          params: {\r\n            invoiceAddress: state.form.email,\r\n            target: false,\r\n            shop: props.invoice.ShopTitle,\r\n            TransactionID: props.invoice.TransactionID,\r\n            coinAddress: props.invoice.coinAddress,\r\n            qrcode: props.invoice.CoinName.toLowerCase() + ':' + props.invoice.coinAddress,\r\n            amount: props.invoice.Amount,\r\n            output: 'json'\r\n          }\r\n        }).then(response => {\r\n          state.isProcessing = false\r\n          if (response.data.toLowerCase() === 'mail sent') {\r\n            state.form.email = ''\r\n            state.errorBag = {}\r\n            toast.success('Invoice sent successfully')\r\n            saveNotification('Invoice sent successfully')\r\n          }\r\n        }).catch(error => {\r\n          state.isProcessing = false\r\n          console.log(error)\r\n        })\r\n      }\r\n    }\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      showError,\r\n      hasErrors,\r\n      submit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./ForwardInvoice.vue?vue&type=template&id=ff63606c\"\nimport script from \"./ForwardInvoice.vue?vue&type=script&lang=js\"\nexport * from \"./ForwardInvoice.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"mt-4\">\r\n    <form @submit.prevent=\"submit()\">\r\n      <div class=\"flex items-center flex-col md:flex-row\">\r\n        <div class=\"w-full md:flex-1 mr-0 md:mr-3\">\r\n          <div class=\"text-right mb-1\" v-if=\"hasErrors\">\r\n            <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'address') }}</div>\r\n          </div>\r\n          <input v-model=\"form.address\" class=\"form-input w-full\"\r\n                 placeholder=\"Refund address (crypto/coin address)\" type=\"text\"/>\r\n        </div>\r\n        <div class=\"mt-3 md:mt-0\">\r\n          <label class=\"mb-1 block\" v-if=\"hasErrors\">&nbsp;</label>\r\n          <j-button :disabled=\"isProcessing\">\r\n            <div v-if=\"isProcessing\" class=\"mr-3\">\r\n              <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n            </div>\r\n            <span>{{ translate('invoice.add') }}</span>\r\n          </j-button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport JButton from '@/templates/Button'\r\nimport Icon from '@/components/Icon'\r\nimport { computed, inject, reactive, toRefs, watch } from 'vue'\r\nimport validator from '@/validator'\r\nimport compositionUtils from '@/compositionUtils'\r\n\r\nexport default {\r\n  name: 'RefundInvoice',\r\n  props: ['invoice'],\r\n  components: {\r\n    JButton,\r\n    Icon\r\n  },\r\n  setup (props) {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const http = inject('http')\r\n    const toast = inject('toast')\r\n\r\n    const {\r\n      showError,\r\n      validate\r\n    } = validator()\r\n    const { saveNotification } = compositionUtils()\r\n\r\n    const state = reactive({\r\n      form: {\r\n        address: ''\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        address: ['required']\r\n      },\r\n      isProcessing: false\r\n    })\r\n    // Computed\r\n    const hasErrors = computed(() => Object.keys(state.errorBag).length > 0)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      () => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(state.form, state.rules)\r\n        }\r\n      })\r\n\r\n    // Methods\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    const submit = () => {\r\n      state.errorBag = validate(state.form, state.rules)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.isProcessing = true\r\n        const params = {\r\n          Call: 'Refund',\r\n          MerchantID: 1,\r\n          APIKey: '_',\r\n          RefundAddress: state.form.address,\r\n          ConfirmCode: props.invoice.Security,\r\n          output: 'json'\r\n        }\r\n\r\n        http.get(`${apiBaseUrl}/v2REAPI`, {\r\n          params: params\r\n        }).then(response => {\r\n          state.isProcessing = false\r\n          if (response.data.result === 'success') {\r\n            toast.success('Refund address added successfully')\r\n            saveNotification('Refund address added successfully')\r\n          } else {\r\n            toast.error(response.data.message)\r\n          }\r\n          state.form.address = ''\r\n          state.errorBag = {}\r\n        }).catch(error => {\r\n          state.isProcessing = false\r\n          console.log(error)\r\n        })\r\n      }\r\n    }\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      showError,\r\n      hasErrors,\r\n      submit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./RefundInvoice.vue?vue&type=template&id=38da961c\"\nimport script from \"./RefundInvoice.vue?vue&type=script&lang=js\"\nexport * from \"./RefundInvoice.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <modal :maxWidth=\"maxWidth\" :show=\"show\" @close=\"closeModal()\">\r\n    <template #title>\r\n      <div class=\"flex items-center justify-between\">\r\n        <span>Pay with different currency</span>\r\n        <span class=\"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer\"\r\n              @click=\"closeModal()\">\r\n          <icon name=\"close\"></icon>\r\n        </span>\r\n      </div>\r\n    </template>\r\n    <template #content>\r\n      <div class=\"relative flex-1\">\r\n        <icon classes=\"absolute w-5 h-5 top-3 left-3 dark:text-gray-300\" name=\"search\"></icon>\r\n        <input v-model=\"keyword\" aria-label=\"Search...\" class=\"form-input px-10 w-full\" type=\"text\"/>\r\n        <span v-if=\"keyword !== ''\" class=\"absolute top-3 right-3 dark:text-gray-400 cursor-pointer\"\r\n              @click=\"keyword = ''\">\r\n          <icon classes=\"w-5 h-5\" name=\"close\"></icon>\r\n        </span>\r\n      </div>\r\n      <div class=\"flex flex-wrap justify-center gap-2 mt-4\">\r\n        <div class=\"w-24 w-24 p-3 cursor-pointer text-center border-2 border-gray-300 dark:border-gray-500 hover:border-blue-700 dark:hover:border-blue-500 inline-block rounded-md shadow flex items-center justify-center flex-col\"\r\n             v-for=\"(coin, index) in coinsList\" :key=\"index\">\r\n          <a :href=\"generateUrl(coin.id)\">\r\n            <img class=\"w-10 h-10 mb-2 mx-auto\" :src=\"generateIconUrl(coin.name)\" alt/>\r\n            <p class=\"text-xs font-semibold\">{{ coin.name }}</p>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from '@/components/Modal'\r\nimport Icon from '@/components/Icon'\r\nimport { computed, inject, onBeforeMount, reactive, toRefs } from 'vue'\r\nimport compositionUtils from '@/compositionUtils'\r\n\r\nexport default {\r\n  name: 'PayWithDifferentCurrencyModal',\r\n  components: {\r\n    Modal,\r\n    Icon\r\n  },\r\n  setup () {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const emitter = inject('emitter')\r\n\r\n    const { generateIconUrl } = compositionUtils()\r\n\r\n    const state = reactive({\r\n      show: false,\r\n      maxWidth: '2xl',\r\n      closeable: true,\r\n      keyword: '',\r\n      coins: [],\r\n      invoice: null\r\n    })\r\n    // Computed\r\n    const coinsList = computed(() => {\r\n      return state.coins.filter(coin => {\r\n        if (state.keyword && state.keyword !== '') {\r\n          return (\r\n            coin.name.toLowerCase().indexOf(state.keyword.toLowerCase()) !== -1 &&\r\n            coin.id !== 0 && coin.id !== state.invoice.AltCoinID\r\n          )\r\n        }\r\n        return coin.id !== 0 && coin.id !== state.invoice.AltCoinID\r\n      })\r\n    })\r\n    // Methods\r\n    const closeModal = () => {\r\n      state.show = false\r\n    }\r\n    // Generate clone transaction url\r\n    const generateUrl = (id) => {\r\n      return `https://cointopay.com/CloneMasterTransaction?TargetAltCoinID=${id}&TransactionID=${state.invoice.TransactionID}&MerchantID=${state.invoice.MerchantID}`\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      emitter.on('payWithDifferentCurrencyModal', (args) => {\r\n        state.coins = args.coins\r\n        state.invoice = args.invoice\r\n        // Show modal\r\n        state.show = true\r\n      })\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      closeModal,\r\n      coinsList,\r\n      generateUrl,\r\n      generateIconUrl\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./PayWithDifferentCurrencyModal.vue?vue&type=template&id=555e13c4\"\nimport script from \"./PayWithDifferentCurrencyModal.vue?vue&type=script&lang=js\"\nexport * from \"./PayWithDifferentCurrencyModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <modal :maxWidth=\"maxWidth\" :show=\"show\" @close=\"closeModal()\">\r\n    <template #title>\r\n      <div class=\"flex items-center justify-between\">\r\n        <span>Notification</span>\r\n        <span class=\"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer\"\r\n              @click=\"closeModal()\">\r\n          <icon name=\"close\"></icon>\r\n        </span>\r\n      </div>\r\n    </template>\r\n    <template #content>\r\n      <div v-if=\"invoice\">\r\n        <div class=\"text-center\">\r\n          <img v-if=\"isFullPayment\" class=\"w-36 mx-auto\" src=\"@/assets/images/success.png\" alt=\"\"/>\r\n          <img v-else class=\"w-36 mx-auto\" src=\"@/assets/images/warning.svg\" alt=\"\"/>\r\n        </div>\r\n        <p class=\"mb-2\">Thank you for making the transfer with your preferred wallet.</p>\r\n        <p v-if=\"isFullPayment\">The {{ invoice.LongName }} blockchain can take some time to confirm your\r\n          payment. Please enter your email address to receive status update alerts for\r\n          #{{ invoice.TransactionID }}.</p>\r\n        <p v-if=\"!isFullPayment\">We received your payment, however it is not enough to fulfill the transaction,\r\n          please make the additional payment of {{ amount }} {{ invoice.LongName }}.</p>\r\n        <p>Please enter your email address to receive status update alerts.</p>\r\n        <!-- Email -->\r\n        <form @submit.prevent=\"submit()\">\r\n          <div class=\"flex items-center flex-col md:flex-row mt-4\">\r\n            <div class=\"w-full md:flex-1 mr-0 md:mr-3\">\r\n              <div class=\"text-right mb-1\" v-if=\"hasErrors\">\r\n                <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'email') }}</div>\r\n              </div>\r\n              <input v-model=\"form.email\" class=\"form-input w-full\" placeholder=\"Email address\" type=\"text\"/>\r\n            </div>\r\n            <div class=\"mt-3 md:mt-0\">\r\n              <label class=\"mb-1 block\" v-if=\"hasErrors\">&nbsp;</label>\r\n              <j-button :disabled=\"isProcessing\">\r\n                <div v-if=\"isProcessing\" class=\"mr-3\">\r\n                  <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                </div>\r\n                <span>Receive Alerts</span>\r\n              </j-button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </template>\r\n  </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from '@/components/Modal'\r\nimport Icon from '@/components/Icon'\r\nimport JButton from '@/templates/Button'\r\nimport { computed, inject, onBeforeMount, reactive, toRefs, watch } from 'vue'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport validator from '@/validator'\r\n\r\nexport default {\r\n  name: 'PaymentNotificationModal',\r\n  components: {\r\n    Modal,\r\n    Icon,\r\n    JButton\r\n  },\r\n  setup () {\r\n    // Providers\r\n    const translate = inject('translate')\r\n    const emitter = inject('emitter')\r\n    const http = inject('http')\r\n    const toast = inject('toast')\r\n\r\n    const { saveNotification } = compositionUtils()\r\n    const { validate, showError } = validator()\r\n\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    // State\r\n    const state = reactive({\r\n      show: false,\r\n      maxWidth: '2xl',\r\n      closeable: true,\r\n      invoice: null,\r\n      isFullPayment: true,\r\n      amount: 0,\r\n      form: {\r\n        email: ''\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        email: ['required', 'email']\r\n      },\r\n      isProcessing: false\r\n    })\r\n\r\n    // Computed\r\n    const hasErrors = computed(() => Object.keys(state.errorBag).length > 0)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      () => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(state.form, state.rules)\r\n        }\r\n      })\r\n\r\n    // Methods\r\n    const closeModal = () => {\r\n      state.show = false\r\n    }\r\n\r\n    const submit = () => {\r\n      state.errorBag = validate(state.form, state.rules)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.isProcessing = true\r\n        http.get(`${apiBaseUrl}/InvoiceForwarder`, {\r\n          params: {\r\n            invoiceAddress: state.form.email,\r\n            target: false,\r\n            shop: state.invoice.ShopTitle,\r\n            TransactionID: state.invoice.TransactionID,\r\n            coinAddress: state.invoice.coinAddress,\r\n            qrcode: state.invoice.CoinName.toLowerCase() + ':' + state.invoice.coinAddress,\r\n            amount: state.invoice.Amount,\r\n            output: 'json'\r\n          }\r\n        }).then(response => {\r\n          state.isProcessing = false\r\n          if (response.data.toLowerCase() === 'mail sent') {\r\n            state.form.email = ''\r\n            state.errorBag = {}\r\n            toast.success('Subscribed to alerts successfully')\r\n            saveNotification('Subscribed to alerts successfully')\r\n            closeModal()\r\n          }\r\n        }).catch(error => {\r\n          state.isProcessing = false\r\n          console.log(error)\r\n        })\r\n      }\r\n    }\r\n\r\n    onBeforeMount(() => {\r\n      emitter.on('paymentNotificationModal', (args) => {\r\n        if (args.close && args.close === true) {\r\n          state.show = false\r\n        } else {\r\n          state.invoice = args.invoice\r\n          state.isFullPayment = args.isFullPayment\r\n          state.amount = args.amount\r\n          // Reset\r\n          state.form = {\r\n            email: ''\r\n          }\r\n          state.errorBag = {}\r\n          // Show modal\r\n          state.show = true\r\n        }\r\n      })\r\n    })\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      hasErrors,\r\n      showError,\r\n      closeModal,\r\n      submit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./PaymentNotificationModal.vue?vue&type=template&id=abf7793e\"\nimport script from \"./PaymentNotificationModal.vue?vue&type=script&lang=js\"\nexport * from \"./PaymentNotificationModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <icon v-if=\"status === 'waiting'\" name=\"spinner\" classes=\"w-6 h-6 mr-3 text-blue-500\"></icon>\r\n  <icon v-if=\"status === 'paid'\" name=\"check-circle\" classes=\"w-8 h-8 mr-3 text-green-500\"></icon>\r\n  <icon v-if=\"status === 'underpaid'\" name=\"check-circle\" classes=\"w-8 h-8 mr-3 text-yellow-500\"></icon>\r\n  <icon v-if=\"status === 'expired'\" name=\"x-circle\" classes=\"w-8 h-8 mr-3 text-red-500\"></icon>\r\n</template>\r\n\r\n<script>\r\nimport Icon from '@/components/Icon'\r\nimport { computed } from 'vue'\r\n\r\nexport default {\r\n  name: 'StatusIcon',\r\n  props: ['invoice'],\r\n  components: {\r\n    Icon\r\n  },\r\n  setup (props) {\r\n    const status = computed(() => props.invoice && props.invoice.Status.toLowerCase())\r\n\r\n    return {\r\n      status\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./StatusIcon.vue?vue&type=template&id=ceb5b3ee\"\nimport script from \"./StatusIcon.vue?vue&type=script&lang=js\"\nexport * from \"./StatusIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Invoice.vue?vue&type=template&id=0f41bacc&scoped=true\"\nimport script from \"./Invoice.vue?vue&type=script&lang=js\"\nexport * from \"./Invoice.vue?vue&type=script&lang=js\"\n\nimport \"./Invoice.vue?vue&type=style&index=0&id=0f41bacc&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\zeesh\\\\OneDrive\\\\Desktop\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f41bacc\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"assets/img/warning.0228fbca.svg\";"],"sourceRoot":""}