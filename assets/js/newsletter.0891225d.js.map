{"version":3,"sources":["webpack:///./src/components/layouts/CenteredLayout.vue","webpack:///./src/components/layouts/CenteredLayout.vue?113c","webpack:///./src/views/Newsletter.vue","webpack:///./src/views/Newsletter.vue?f004"],"names":["class","_hoisted_2","_hoisted_3","_hoisted_4","style","_ctx","_cache","$props","_openBlock","_createElementBlock","_createElementVNode","_renderSlot","name","__exports__","render","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","key","_hoisted_12","_component_vue_recaptcha","_component_icon","_component_j_button","_component_centered_layout","_createBlock","default","_withCtx","_toDisplayString","$setup","_withDirectives","email","$event","autocomplete","type","_vModelText","_createVNode","ref","siteKey","theme","size","onExpire","onFail","onVerify","disabled","buttonStyle","onClick","classes","_createCommentVNode","_","components","CenteredLayout","JButton","Icon","vueRecaptcha","setup","translate","inject","http","toast","store","useStore","validator","validate","showError","compositionUtils","saveNotification","state","reactive","reCaptchaAPIKey","process","form","reCaptcha","output","errorBag","rules","messages","required","loader","mode","computed","watch","newVal","oldVal","Object","keys","length","apiBaseUrl","recaptchaVerified","response","recaptchaExpired","value","reset","recaptchaFailed","subscribe","payload","Subscriber","get","params","then","status","success","catch","error","console","log","unSubscribe","Unsubscriber","toRefs"],"mappings":"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","file":"assets/js/newsletter.0891225d.js","sourcesContent":["<template>\r\n  <div class=\"p-4\">\r\n    <div class=\"max-w-7xl 3xl:max-w-8xl mx-auto\">\r\n      <div class=\"flex flex-col md:flex-row space-x-0 md:space-x-4\">\r\n        <div class=\"w-full mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4\"\r\n          style=\"min-height: calc(100vh - 351px);\">\r\n          <slot/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CenteredLayout'\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./CenteredLayout.vue?vue&type=template&id=99072110\"\nimport script from \"./CenteredLayout.vue?vue&type=script&lang=js\"\nexport * from \"./CenteredLayout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <centered-layout>\r\n    <div class=\"card\">\r\n      <div class=\"title\">\r\n        <h5>{{ translate('newsletter.title') }}</h5>\r\n      </div>\r\n      <hr class=\"border-gray-300 dark:border-gray-600\"/>\r\n      <div class=\"body\">\r\n        <div class=\"grid grid-cols-2\">\r\n          <div class=\"col-span-2 lg:col-span-1\">\r\n            <form>\r\n              <div class=\"mb-2\">\r\n                <label>{{ translate('newsletter.email') }}</label>\r\n                <input v-model=\"form.email\" autocomplete=\"off\" class=\"form-input w-full\" type=\"email\"/>\r\n                <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'email') }}</div>\r\n              </div>\r\n              <div>\r\n                <vue-recaptcha ref=\"vueRecaptcha\" :siteKey=\"reCaptchaAPIKey\"\r\n                               :theme=\"mode\" size=\"normal\" @expire=\"recaptchaExpired\"\r\n                               @fail=\"recaptchaFailed\" @verify=\"recaptchaVerified\">\r\n                </vue-recaptcha>\r\n                <div class=\"text-red-500 text-sm\">{{ showError(errorBag, 'reCaptcha') }}</div>\r\n              </div>\r\n              <div class=\"mt-4 text-right\">\r\n                <j-button :disabled=\"loader !== ''\" class=\"mb-2 md:mb-0 mr-3\" type=\"button\"\r\n                          buttonStyle='danger' @click=\"unSubscribe()\">\r\n                  <div v-if=\"loader === 'unsub'\" class=\"mr-3\">\r\n                    <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                  </div>\r\n                  <span>{{ translate('newsletter.un_subscribe') }}</span>\r\n                </j-button>\r\n                <j-button :disabled=\"loader !== ''\" type=\"button\" @click=\"subscribe()\">\r\n                  <div v-if=\"loader === 'sub'\" class=\"mr-3\">\r\n                    <icon :name=\"'spinner'\" classes=\"w-4 h-4 text-white\"></icon>\r\n                  </div>\r\n                  <span>{{ translate('newsletter.subscribe') }}</span>\r\n                </j-button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </centered-layout>\r\n</template>\r\n\r\n<script>\r\nimport CenteredLayout from '@/components/layouts/CenteredLayout'\r\nimport JButton from '@/templates/Button'\r\nimport Icon from '@/components/Icon'\r\nimport { inject, reactive, toRefs, computed, watch, ref } from 'vue'\r\nimport vueRecaptcha from 'vue3-recaptcha2'\r\nimport validator from '@/validator'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Newsletter',\r\n  components: { CenteredLayout, JButton, Icon, vueRecaptcha },\r\n  setup () {\r\n    const vueRecaptcha = ref(null)\r\n\r\n    const translate = inject('translate')\r\n    const http = inject('http')\r\n    const toast = inject('toast')\r\n\r\n    const store = useStore()\r\n\r\n    const {\r\n      validate,\r\n      showError\r\n    } = validator()\r\n    const { saveNotification } = compositionUtils()\r\n    // State\r\n    const state = reactive({\r\n      reCaptchaAPIKey: process.env.VUE_APP_GOOGLE_reCAPTCHA_SITE_KEY,\r\n      form: {\r\n        email: '',\r\n        reCaptcha: '',\r\n        output: 'json'\r\n      },\r\n      errorBag: {},\r\n      rules: {\r\n        email: ['required', 'email'],\r\n        reCaptcha: ['required']\r\n      },\r\n      messages: {\r\n        email: {\r\n          required: 'Email address is required',\r\n          email: 'Please provide a valid email address'\r\n        },\r\n        reCaptcha: {\r\n          required: 'Verify you are not a robot'\r\n        }\r\n      },\r\n      loader: ''\r\n    })\r\n\r\n    // Computed\r\n    const mode = computed(() => store.state.mode)\r\n\r\n    // Watch\r\n    watch(() => ({ ...state.form }),\r\n      (newVal, oldVal) => {\r\n        if (Object.keys(state.errorBag).length > 0) {\r\n          state.errorBag = validate(state.form, state.rules, state.messages)\r\n        }\r\n      })\r\n\r\n    // Methods\r\n    const apiBaseUrl = process.env.VUE_APP_API_URL\r\n    const recaptchaVerified = (response) => {\r\n      state.form.reCaptcha = response\r\n    }\r\n    const recaptchaExpired = () => {\r\n      vueRecaptcha.value.reset()\r\n      state.form.reCaptcha = ''\r\n    }\r\n    const recaptchaFailed = () => {\r\n    }\r\n    const subscribe = () => {\r\n      state.errorBag = validate(state.form, state.rules, state.messages)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.loader = 'sub'\r\n        const payload = {\r\n          Subscriber: state.form.email,\r\n          'g-recaptcha-response': state.form.reCaptcha\r\n        }\r\n        http.get(`${apiBaseUrl}/Subscribe`, {\r\n          params: payload\r\n        }).then(response => {\r\n          state.loader = ''\r\n          if (response.status === 200) {\r\n            toast.success('Congratulations! You have subscribed to the Cointopay newsletter.')\r\n            saveNotification('Congratulations! You have subscribed to the Cointopay newsletter.')\r\n            if (vueRecaptcha.value) {\r\n              vueRecaptcha.value.reset()\r\n            }\r\n            state.form = {\r\n              email: '',\r\n              reCaptcha: ''\r\n            }\r\n          }\r\n        }).catch(error => {\r\n          console.log(error)\r\n          toast.error('Internal Server Error')\r\n          state.loader = ''\r\n          if (vueRecaptcha.value) {\r\n            vueRecaptcha.value.reset()\r\n          }\r\n          state.form.reCaptcha = ''\r\n        })\r\n      }\r\n    }\r\n    const unSubscribe = () => {\r\n      state.errorBag = validate(state.form, state.rules, state.messages)\r\n      if (Object.keys(state.errorBag).length === 0) {\r\n        state.loader = 'unsub'\r\n        const payload = {\r\n          Unsubscriber: state.form.email,\r\n          'g-recaptcha-response': state.form.reCaptcha\r\n        }\r\n        http.get(`${apiBaseUrl}/Subscribe`, {\r\n          params: payload\r\n        }).then(response => {\r\n          state.loader = ''\r\n          if (response.status === 200) {\r\n            toast.success('Congratulations! You have unsubscribed from Cointopay newsletter.')\r\n            saveNotification('Congratulations! You have unsubscribed from Cointopay newsletter.')\r\n            vueRecaptcha.value.reset()\r\n            state.form = {\r\n              email: '',\r\n              reCaptcha: ''\r\n            }\r\n          }\r\n        }).catch(error => {\r\n          console.log(error)\r\n          toast.error('Internal Server Error')\r\n          state.loader = ''\r\n          vueRecaptcha.value.reset()\r\n          state.form.reCaptcha = ''\r\n        })\r\n      }\r\n    }\r\n\r\n    return {\r\n      translate,\r\n      ...toRefs(state),\r\n      vueRecaptcha,\r\n      mode,\r\n      showError,\r\n      recaptchaVerified,\r\n      recaptchaExpired,\r\n      recaptchaFailed,\r\n      subscribe,\r\n      unSubscribe\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Newsletter.vue?vue&type=template&id=717ffaa6\"\nimport script from \"./Newsletter.vue?vue&type=script&lang=js\"\nexport * from \"./Newsletter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}