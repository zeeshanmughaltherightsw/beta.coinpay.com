{"version":3,"sources":["webpack:///./src/views/Cart.vue?e606","webpack:///./src/components/layouts/CenteredLayout.vue","webpack:///./src/components/layouts/CenteredLayout.vue?113c","webpack:///./src/views/Cart.vue","webpack:///./src/views/Cart.vue?65fa"],"names":["class","_hoisted_2","_hoisted_3","_hoisted_4","style","_ctx","_cache","$props","_openBlock","_createElementBlock","_createElementVNode","_renderSlot","name","__exports__","render","_hoisted_5","key","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_withScopeId","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","colspan","_hoisted_20","_hoisted_21","_component_router_link","_component_icon","_component_centered_layout","_createBlock","default","_withCtx","$setup","items","length","_toDisplayString","_createVNode","to","params","id","tag","_","_createCommentVNode","products","_Fragment","_renderList","item","index","src","url","alt","onClick","price","_withDirectives","max","onChange","aria-label","min","step","type","qty","$event","onInput","Math","round","_vModelText","translate","disabled","_createTextVNode","components","CenteredLayout","Icon","setup","inject","toast","store","useStore","compositionUtils","formatPrice","fancyBox","state","reactive","isValuesInValid","altCoins","computed","shopsList","shopId","shop","shopData","cart","selectedShop","value","ID","currency","PayoutCurrencyShortName","altCoin","ShortName","LongName","cartTotal","total","map","Number","totalAmount","maxQty","product","stock","updateCart","activeCart","oldItem","error","commit","UPDATE_CART","removeItem","splice","clearCart","merchantId","toRefs"],"mappings":"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","file":"assets/js/cart.5ec55955.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Cart.vue?vue&type=style&index=0&id=4996cff8&scoped=true&lang=scss\"","<template>\r\n  <div class=\"p-4\">\r\n    <div class=\"max-w-7xl 3xl:max-w-8xl mx-auto\">\r\n      <div class=\"flex flex-col md:flex-row space-x-0 md:space-x-4\">\r\n        <div class=\"w-full mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4\"\r\n          style=\"min-height: calc(100vh - 351px);\">\r\n          <slot/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CenteredLayout'\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./CenteredLayout.vue?vue&type=template&id=99072110\"\nimport script from \"./CenteredLayout.vue?vue&type=script&lang=js\"\nexport * from \"./CenteredLayout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <centered-layout>\r\n    <div class=\"h-full\" v-if=\"cart.items.length === 0\">\r\n      <div class=\"flex items-center justify-center h-full\">\r\n        <div class=\"text-center\">\r\n          <p class=\"mb-4 font-semibold text-lg\">{{ translate('pos.cart.empty_cart') }}</p>\r\n          <router-link :to=\"{name: 'shop-detail', params: {id: shopId}}\" class=\"btn btn-primary\" tag=\"a\">\r\n            {{ translate('pos.cart.continue_shopping') }}\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"card\" v-if=\"cart.items.length > 0 && shop && shop.products.length > 0\">\r\n      <div class=\"body\">\r\n        <div\r\n          class=\"w-full scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600\">\r\n          <table class=\"table-sm mb-2\">\r\n            <thead>\r\n            <tr>\r\n              <th>Item</th>\r\n              <th>Price</th>\r\n              <th>Quantity</th>\r\n              <th>Subtotal</th>\r\n              <th></th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr :key=\"index\" v-for=\"(item, index) of cart.items\">\r\n              <td>\r\n                <div class=\"flex items-center\">\r\n                  <img class=\"w-12 h-12 rounded-full mr-3\" :src=\"item.url\" alt=\"\"\r\n                       @click=\"fancyBox(item.url)\"/>\r\n                  <p class=\"mb-0 ml-1\">{{ item.name }}</p>\r\n                </div>\r\n              </td>\r\n              <td>{{ formatPrice(item.price, currency) }}</td>\r\n              <td>\r\n                <div class=\"items-center\">\r\n                  <span class=\"mr-3\">x</span>\r\n                  <input :max=\"maxQty(item)\" @change=\"updateCart(item, index)\" aria-label=\"qty\"\r\n                         class=\"form-input w-36\" min=\"1\" step=\"1\" type=\"number\" v-model=\"item.qty\" @input=\"item.qty = item.qty == 0 ? 1 : Math.round(item.qty)\" />\r\n                </div>\r\n              </td>\r\n              <td>{{ formatPrice(item.price * item.qty, currency) }}</td>\r\n              <td class=\"text-right\">\r\n                <div class=\"pr-3\">\r\n                  <button @click=\"removeItem(index)\" class=\"hover:text-red-500\">\r\n                    <icon name=\"trash\"></icon>\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td class=\"text-right\" colspan=\"5\">\r\n                <span class=\"font-bold pr-3\">Total: {{ cartTotal }}</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <button @click=\"clearCart()\" class=\"btn btn-danger\">\r\n                  {{ translate('pos.cart.clear_cart') }}\r\n                </button>\r\n              </td>\r\n              <td class=\"text-right\" colspan=\"4\">\r\n                <router-link :to=\"{name: 'shop-detail', params: {id: shopId}}\" class=\"btn btn-default\" tag=\"a\">\r\n                  {{ translate('pos.cart.continue_shopping') }}\r\n                </router-link>\r\n                <router-link :disabled=\"totalAmount === 0\" tag=\"a\" :to=\"{name: 'checkout'}\"\r\n                             class=\"btn btn-primary ml-2 mr-3\">\r\n                  {{ translate('pos.cart.checkout') }}\r\n                </router-link>\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </centered-layout>\r\n</template>\r\n\r\n<script>\r\nimport CenteredLayout from '@/components/layouts/CenteredLayout'\r\nimport Icon from '@/components/Icon'\r\nimport { computed, inject, reactive, toRefs } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport compositionUtils from '@/compositionUtils'\r\nimport * as _ from 'lodash'\r\nimport { UPDATE_CART } from '@/store/keys'\r\n\r\nexport default {\r\n  name: 'Cart',\r\n  components: {\r\n    CenteredLayout,\r\n    Icon\r\n  },\r\n  setup () {\r\n    const translate = inject('translate')\r\n    const toast = inject('toast')\r\n    const store = useStore()\r\n\r\n    const {\r\n      formatPrice,\r\n      fancyBox\r\n    } = compositionUtils()\r\n\r\n    const state = reactive({\r\n      isValuesInValid: false,\r\n    })\r\n    // Computed\r\n    const altCoins = computed(() => store.state.altCoins)\r\n    const shopsList = computed(() => store.state.shopsList)\r\n    const shopId = computed(() => store.state.shopId)\r\n    const shop = computed(() => store.state.shopData)\r\n    const cart = computed(() => store.state.cart)\r\n    const selectedShop = computed(() => {\r\n      let shop = null\r\n      if (shopId.value) {\r\n        shop = _.find(shopsList.value, { ID: shopId.value })\r\n      }\r\n      return shop\r\n    })\r\n    const currency = computed(() => {\r\n      let currency = 'EUR'\r\n      if (selectedShop.value) {\r\n        currency = selectedShop.value.PayoutCurrencyShortName\r\n        const altCoin = _.find(altCoins.value, { ShortName: currency })\r\n        if (altCoin) {\r\n          currency = altCoin.LongName\r\n        }\r\n      }\r\n      return currency\r\n    })\r\n    const cartTotal = computed(() => {\r\n      let total = 0\r\n      if (cart.value.items.length > 0) {\r\n        cart.value.items.map(item => {\r\n          total += Number(item.qty) * Number(item.price)\r\n        })\r\n      }\r\n      return formatPrice(total, currency.value)\r\n    })\r\n    const totalAmount = computed(() => {\r\n      let total = 0\r\n      if (cart.value.items.length > 0) {\r\n        cart.value.items.map(item => {\r\n          total += Number(item.qty) * Number(item.price)\r\n        })\r\n      }\r\n      return total\r\n    })\r\n\r\n    // Methods\r\n    const maxQty = (item) => {\r\n      const product = _.find(shop.value.products, { id: item.id })\r\n      if (product) {\r\n        return Number(product.stock) - Number(item.qty)\r\n      }\r\n      return 0\r\n    }\r\n    const updateCart = (item, index) => {\r\n      const activeCart = _.cloneDeep(cart.value)\r\n      const oldItem = _.find(activeCart.items, { id: item.id })\r\n      activeCart.items[index].qty = activeCart.items[index].qty == 0 ? 1 : Math.round(activeCart.items[index].qty) \r\n     if (Number(item.qty) === 0) {\r\n        activeCart.items[index].qty = oldItem.qty\r\n        toast.error('Invalid quantity entered. The previous value will be restored.')\r\n      } else if (Number(item.qty) > maxQty(item)) {\r\n        activeCart.items[index].qty = oldItem.qty\r\n        toast.error('Invalid quantity entered. The previous value will be restored.')\r\n      }\r\n      store.commit(UPDATE_CART, activeCart)\r\n    }\r\n    const removeItem = (index) => {\r\n      const activeCart = _.cloneDeep(cart.value)\r\n      activeCart.items.splice(index, 1)\r\n      store.commit(UPDATE_CART, activeCart)\r\n    }\r\n    const clearCart = () => {\r\n      store.commit(UPDATE_CART, {\r\n        items: [],\r\n        merchantId: null\r\n      })\r\n    }\r\n\r\n    return {\r\n      translate,\r\n      shopId,\r\n      cart,\r\n      currency,\r\n      formatPrice,\r\n      cartTotal,\r\n      totalAmount,\r\n      shop,\r\n      maxQty,\r\n      updateCart,\r\n      removeItem,\r\n      clearCart,\r\n      fancyBox,\r\n      ...toRefs(state), \r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.table-sm {\r\n  thead {\r\n    tr {\r\n      th:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    tr {\r\n      td:first-child {\r\n        @apply pl-3;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=4996cff8&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=4996cff8&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\TRS 37\\\\Desktop\\\\Zeeshan\\\\Cointopay\\\\cointopay.com.frontend.vuejs3.paymentfocus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4996cff8\"]])\n\nexport default __exports__"],"sourceRoot":""}