"use strict";(self["webpackChunkcointopay"]=self["webpackChunkcointopay"]||[]).push([[809],{7418:function(e,t,a){a.r(t),a.d(t,{default:function(){return Zd}});var o=a(821);const r={class:"pl-0",style:{"list-style-type":"none"}},l={key:0,class:"ml-3"},s={key:0};function n(e,t,a,n,c,i){const d=(0,o.resolveComponent)("icon"),m=(0,o.resolveComponent)("router-link"),u=(0,o.resolveComponent)("account-detail"),p=(0,o.resolveComponent)("wallet-currencies"),y=(0,o.resolveComponent)("payout-settings"),g=(0,o.resolveComponent)("kyc"),f=(0,o.resolveComponent)("shopping-cart"),v=(0,o.resolveComponent)("payment-urls"),N=(0,o.resolveComponent)("billing"),h=(0,o.resolveComponent)("pos-settings"),E=(0,o.resolveComponent)("referrals"),V=(0,o.resolveComponent)("account-layout"),k=(0,o.resolveComponent)("login-modal");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(V,null,{sidebar:(0,o.withCtx)((()=>[(0,o.createElementVNode)("ul",r,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.navs,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:t,class:"mb-1 border border-gray-200 dark:border-gray-700"},[(0,o.createVNode)(m,{class:(0,o.normalizeClass)([{active:e.isActive},"flex items-center hover:bg-gray-200 dark:hover:bg-gray-700 p-2 cursor-pointer dark:text-gray-300"]),to:{name:"account",params:{action:e.key}},tag:"a",onClick:t=>n.toggleActive(e)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(n.translate(e.name)),1),"kyc"===e.key&&n.accountInfo?((0,o.openBlock)(),(0,o.createElementBlock)("span",l,["0"===n.accountInfo.Verified?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,name:"exclamation-circle",classes:"w-5 h-5 text-yellow-400"})):(0,o.createCommentVNode)("",!0),"0"===n.accountInfo.FinalVerification?((0,o.openBlock)(),(0,o.createBlock)(d,{key:1,name:"refresh",classes:"w-5 h-5 text-blue-500"})):(0,o.createCommentVNode)("",!0),"1"===n.accountInfo.Verified&&"1"===n.accountInfo.FinalVerification?((0,o.openBlock)(),(0,o.createBlock)(d,{key:2,name:"badge-check",classes:"w-5 h-5 text-green-500"})):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])),_:2},1032,["class","to","onClick"])])))),128))])])),content:(0,o.withCtx)((()=>[e.selectedNav?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,["detail"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0})):(0,o.createCommentVNode)("",!0),"wallet"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(p,{key:1})):(0,o.createCommentVNode)("",!0),"payout"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(y,{key:2})):(0,o.createCommentVNode)("",!0),"kyc"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(g,{key:3})):(0,o.createCommentVNode)("",!0),"shopping"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(f,{key:4})):(0,o.createCommentVNode)("",!0),"payments"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(v,{key:5})):(0,o.createCommentVNode)("",!0),"billing"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(N,{key:6})):(0,o.createCommentVNode)("",!0),"pos"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(h,{key:7})):(0,o.createCommentVNode)("",!0),"referrals"===e.selectedNav.key?((0,o.openBlock)(),(0,o.createBlock)(E,{key:8})):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(k)],64)}const c={class:"p-4"},i={class:"max-w-7xl 3xl:max-w-8xl mx-auto"},d={class:"flex flex-col md:flex-row space-x-0 md:space-x-4"},m={class:"w-full md:w-72 mb-4 md:mb-0 bg-white dark:bg-gray-800 rounded shadow p-4",style:{"min-width":"18rem"}},u={class:"flex-grow bg-white dark:bg-gray-800 rounded shadow p-4"};function p(e,t,a,r,l,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",m,[(0,o.renderSlot)(e.$slots,"sidebar")]),(0,o.createElementVNode)("div",u,[(0,o.renderSlot)(e.$slots,"content")])])])])}var y={name:"AccountLayout"},g=a(3744);const f=(0,g.Z)(y,[["render",p]]);var v=f,N=a(7983);const h={class:"card"},E={class:"title"},V=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),k={class:"body"},w={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},x={class:"col-span-3 md:col-span-1"},b={class:"col-span-3 md:col-span-2"},C={key:0,class:"font-semibold text-red-500"},B={key:1,class:"font-semibold text-green-700 dark:text-green-500"},P={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},S={class:"col-span-3 md:col-span-1"},D={class:"col-span-3 md:col-span-2"},I=["value"],A={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},M={class:"col-span-3 md:col-span-1"},T={class:"col-span-3 md:col-span-2"},F=["value"],U={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},L={class:"col-span-3 md:col-span-1"},j={class:"col-span-3 md:col-span-2"},q=["value"],O={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},_={class:"col-span-3 md:col-span-1"},R=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Z={class:"col-span-3 md:col-span-2"},z={class:"text-red-500 text-sm"},K={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},W={class:"col-span-3 md:col-span-1"},Y=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),J={class:"col-span-3 md:col-span-2"},G=["value"],H={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Q={class:"col-span-3 md:col-span-1"},X={class:"col-span-3 md:col-span-2"},$={class:"text-red-500 text-sm"},ee={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},te={class:"col-span-3 md:col-span-1"},ae=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),oe={class:"col-span-3 md:col-span-2"},re={class:"text-red-500 text-sm"},le={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},se={class:"col-span-3 md:col-span-1"},ne={class:"col-span-3 md:col-span-2"},ce={class:"text-red-500 text-sm"},ie={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},de=(0,o.createElementVNode)("div",{class:"col-span-1"},null,-1),me={class:"col-span-3 md:col-span-2"},ue={class:"flex items-center justify-center flex-col"},pe={class:"mb-2"},ye={key:1,class:"pointer"},ge={class:"w-full mt-2 bg-gray-200 rounded-full h-1.5 dark:bg-gray-700"},fe={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ve={class:"col-span-3 md:col-span-1"},Ne=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),he={class:"col-span-3 md:col-span-2"},Ee=(0,o.createElementVNode)("option",{value:"1"},"On",-1),Ve=(0,o.createElementVNode)("option",{value:"0"},"Off",-1),ke=[Ee,Ve],we={class:"text-red-500 text-sm"},xe={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},be={class:"col-span-3 md:col-span-1"},Ce={class:"col-span-3 md:col-span-2"},Be=["value"],Pe={class:"text-red-500 text-sm"},Se={class:"mt-4 text-right"},De={key:0,class:"mr-3"};function Ie(e,t,a,r,l,s){const n=(0,o.resolveComponent)("QRCodeVue3"),c=(0,o.resolveComponent)("icon"),i=(0,o.resolveComponent)("j-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createElementVNode)("h5",E,(0,o.toDisplayString)(r.translate("account.menu.details")),1),V,(0,o.createElementVNode)("div",k,[r.accountInfo?((0,o.openBlock)(),(0,o.createElementBlock)("form",{key:0,onSubmit:t[8]||(t[8]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("label",x,(0,o.toDisplayString)(r.translate("account.details.verification")),1),(0,o.createElementVNode)("div",b,["0"===r.accountInfo.Verified?((0,o.openBlock)(),(0,o.createElementBlock)("p",C,(0,o.toDisplayString)(r.translate("account.details.un_verified")),1)):(0,o.createCommentVNode)("",!0),"1"===r.accountInfo.Verified?((0,o.openBlock)(),(0,o.createElementBlock)("p",B,(0,o.toDisplayString)(r.translate("account.details.verified")),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",P,[(0,o.createElementVNode)("label",S,(0,o.toDisplayString)(r.translate("account.details.id")),1),(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("input",{type:"text",class:"form-input w-full",value:r.accountInfo.ID,readonly:""},null,8,I)])]),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("label",M,(0,o.toDisplayString)(r.translate("account.details.api")),1),(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("input",{type:"text",class:"form-input w-full",value:r.accountInfo.APIkey,readonly:""},null,8,F)])]),(0,o.createElementVNode)("div",U,[(0,o.createElementVNode)("label",L,(0,o.toDisplayString)(r.translate("account.details.security_code")),1),(0,o.createElementVNode)("div",j,[(0,o.createElementVNode)("input",{type:"text",class:"form-input w-full",value:r.accountInfo.SecurityCode,readonly:""},null,8,q)])]),(0,o.createElementVNode)("div",O,[(0,o.createElementVNode)("label",_,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.details.organization"))+" ",1),R]),(0,o.createElementVNode)("div",Z,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.organizationName=t)},null,512),[[o.vModelText,e.form.organizationName]]),(0,o.createElementVNode)("div",z,(0,o.toDisplayString)(r.showError(e.errorBag,"organizationName")),1)])]),(0,o.createElementVNode)("div",K,[(0,o.createElementVNode)("label",W,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.details.username"))+" ",1),Y]),(0,o.createElementVNode)("div",J,[(0,o.createElementVNode)("input",{type:"text",class:"form-input w-full",value:r.accountInfo.OwnerNickName,readonly:""},null,8,G)])]),(0,o.createElementVNode)("div",H,[(0,o.createElementVNode)("label",Q,(0,o.toDisplayString)(r.translate("account.details.password")),1),(0,o.createElementVNode)("div",X,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"password",class:"form-input w-full","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t)},null,512),[[o.vModelText,e.form.password]]),(0,o.createElementVNode)("div",$,(0,o.toDisplayString)(r.showError(e.errorBag,"password")),1)])]),(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("label",te,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.details.email"))+" ",1),ae]),(0,o.createElementVNode)("div",oe,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",class:"form-input w-full","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.email=t)},null,512),[[o.vModelText,e.form.email]]),(0,o.createElementVNode)("div",re,(0,o.toDisplayString)(r.showError(e.errorBag,"email")),1)])]),(0,o.createElementVNode)("div",le,[(0,o.createElementVNode)("label",se,(0,o.toDisplayString)(r.translate("account.details.twofa.auth")),1),(0,o.createElementVNode)("div",ne,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.google2FA=t),readonly:""},null,512),[[o.vModelText,e.form.google2FA]]),(0,o.createElementVNode)("div",ce,(0,o.toDisplayString)(r.showError(e.errorBag,"google2FA")),1)])]),(0,o.createElementVNode)("div",ie,[de,(0,o.createElementVNode)("div",me,[(0,o.createElementVNode)("div",ue,[(0,o.createElementVNode)("p",{class:"mb-2 cursor-pointer",onClick:t[4]||(t[4]=e=>r.fetchTotp("GenerateSecurityID"))},(0,o.toDisplayString)(r.translate("account.details.twofa.reset")),1),(0,o.createVNode)(n,{width:r.qrOptions.width,height:r.qrOptions.height,value:r.qrCodeText,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},dotsOptions:{type:"dots",color:"#446BB3",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#446BB3"},{offset:1,color:"#446BB3"}]}},backgroundOptions:{color:"#ffffff"},image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAhFBMVEUAAABEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7NEa7N72HjYAAAAK3RSTlMA+AUK7fPo0hOh2XA3Md7jGWc9fq93UcomXg5DqCshhb9KmsWQHbqLV7SV0EE2FAAAD9dJREFUeNrk2lcSmzAQBuCVkOhNVJtqg8Fl73+/JE+ZVAShyM53ATSMymp/wfG0U/QQ8c16XnLb1xkh+BXhTPeNfqy6e3q+eiGF/xs1T27m3JLe8HWOf0ZYYOej1YrSGzT4HxXX+2gEHGdhfl6JGv4nYRlXNsHFWN8J7z+YYjR0YwPXQCrhFfCxaFOmo01wNcywhGvCB6JufOG4Ot0SA3yWQSQcN2Pcy4/ZwcLylXPclD86H7GBDTeb4A5Y/njz32WenwR3o78ieFe0FheGu/KtawjvaLB03B+xz2+3GmlZETxI0L5VMVFcDTwSuZ/epUkROheCBwsq9x1KL3qtUAVBewLVPQxUBelcUBh1LYYKMVJ1t3pNrV/1jf1Qc6fXHB8V9CxBPZE6m9VP2gbUUnfKrcDvDKFUhzDr8d8xOx8Tq7vd2zaO2/b+6qpnbwQE/12nzo3RrfAf6L3Vir8Fg1oTPdLb0+C4HE/VmFyak+My3L5YTuY2JpX4SlhH5zbJl040lqhwA2qspc3zhxfSBeF12uMigYCjZf6SNspL1BQWK6I00ZeEZyEcqbgtaP/GzRqL360MgjP5R5aow3P+BWS9KNmMXhznYSkcJTNwljx1YV3a9abjLJUJRygEzmFbNWyBXkeGM/gu7K+p+JxeXDbAVqiX9gyl+SmFnQ0jSuPdlcKmwvOM5iwRBeyJZjrK6s8m7KBO5Yc0DrAf7RygHJI7DYVd0Ki1UQ651LCbO0c5xr4hXpgSlON7sA+zRTm5oLCzsA1QCstgD2aCUnyhwQE0S1enPj3JnTt23MAxqNfpKIE4JmysHlFGUsKBHjZK4FsXXK6PEkYPjkXPBk4jlgYbcmXGoKfHJwTUSxhOIq0Gm2kCnJZ4oAJN6nHKS4ONeAFO0oUyDzK0F8NJ1cRwN1yD5KJUXi6TZVoUNlD7Ehd6xV7dhXeGE0hnwuqaJ04JSgUClB9RR5+utyisrBhxSnX8IfgbUY8TeAzrMiefiOqKxJi/MCff9vCMwppinMCPT+X+pJjsRfhfuLnXLTRhGA7gabkjCgqKgndl6v7v/3472zn7sEuqtMHhfk/QD6FN0oaW5OgSTxxH+Qm+fI7nUxKz8mGWjCMRZWU1zC4dCWlnMFLJaBJR675SRTKKHEb+ZHQZw5/iEmZXjwQUFYz8D5kuKn0Yzcmdd1YwuZzoM3ibECaz++CbezjG961ckyuAyawhR62CST2e94cvWNQwqTpyEl9gEo08Zfhdm8JAldrtqgQm0fjHY36zy4c7qyYKBvWHxdV30xAGeUfWFjAJP2q/+mk6GyY3jWsY1J9zDv5ilQ7R3NIHc1+DPpM+KfDCHVm5q/8gb/8bY3b6KMjC/mgMV/pcnqnBFRzIwk2Bt/2A2tmyB+HvqbcMBtvR92TMdCValXQVeJdRDx+/YpeCpeaSTXf1cYn7n7JQrohb52D5472bECpOvsh90yUNRTfFfjfNFj9k03UXezQUbwleSz2swHvEJE4Xu3Z+2x6jNPcDpQCoHz91Tesv53KzWDckzzuCdVzT645ghWuS1q3KR2pKfepk0nrEk+/XLEV29/xEoqbzbY5XqOjrPSZRpwCc/OWQWKeS/TGe3m2SNOgzTX07FZrEeGewvgoEVh2TFH1/hOgtPe9JjBeBozJ6SZaC469JyO4wg6Wj3DDQwrmzVYE1IRF6sYULVUoNBJUKnIxesFPgfGlIQHyvAjjKv7ZaZC0PcI4xPeUdwPEzErBLAgjwl53IagIwVEtPrYJBU/esghT/WpC7CTiPhp7QiXtay4vLCHLUceW5LykCI9w8DcsQnAW5Ol0gSyV7ctUGYNT0ROJaivPiawBx/t0jM4dvaUpG+2CoOkdPK4UBhNeO3LQ5GLfGMnk/kJuJj4GkGTnRS7srLJ07VZa8eIvhBBOPXDQhGGe7c7Qc7s783/95jc3jZx2xigiMyHOaCUkxLFVnmuwVDzAmNi/XlmRPM3nuiDauDRgz3f8QTT2nrpEw+Wn65gLGpndvRs0d1nELwBpNxnUHY0uMKxhRTNYSvEvgEls1FycxlzfI71hNgvcJJgPsWgcmFOWfjjZXvNWELPGRkhb97tHm2vr9boC3CqyXShvFfIenXv0GVVhfSUDeULMxRcoViL2y94QsLRXebnYiS4cem5BXcWX9iuwsZvgHosJ2uSH3afcYKqw0WelC/BPJN/bOfjttGIbiiqEh5WMF0pFAF76aNTC9//uNf8bZDtWQNTE7Pvo9QhIr8rV871zqmUHJy3BDhwQnEOE+MBCtAxFT6q9x2+yOqSKwBQmuxUDIh86ptXVTBuf0qK1U2Q6E/OoHtQ53jtvBzkA4Fx6Qb7p/pKpmbksqEPGKQVmDCErOXTGlzBIEuEWG4ZD7NKx580cn1cPCbfAEHtkfsRkSo+wblpAyAgHuiDJCCxDuzOnLB5WmOLN6weCMB4rrMNvBb9Q5sS8Vrf0osp0WIGDwRKxDzih3JXk/K4yBL1PFv3g2YJSsEvypK4yCo1McQJrCFTckHuhWZLUVByK1pLkvwdZUlQR/ikg+LMQz+ONy4jPdMJoxyYccDTM9CXDc0PKMfNewGWM0dAO5nQw9YEpJT7WkU4mHfCnffNBFi6jvL+DPB0ZEC964/Z2DiLleyWowJsYCYasl2lJ3p4tcSeYzYyI7SesI/dy/Zp8iMM/4Hlxu+Oeh4eVQtPHr7U7nIRzg7/R9FapSgjLbKPQGIVIj0z6d1/8vhkDSy2OKx1KALhGnlGvsNFWZYcqsgKbfgsOVGKYKP6NIuHG40IEmdcKNw4Vn0OSASbO3ksVnBJqEP4d+KDko4vaYNBkoUqRd33Vb+DrHtGlAj9kTps0SAEz4Y3KwzoHPGvToMHEWJmaF2Um/Y+KUoEdEQw6PYWcyKZ8W9Ej4sIKaZpCDqaP4sBymztEeFp+jLUM+P6zA82mtdeDTWlPKZ2fbHT6lbaT5TEyi4bMw8Y/P2g6kw8jKUzuwsKOwK40dsvIp7PieTWaDIXxyGzniM7JhtlDDbE3aFf7ZBnD5dDbazWdilwb4rOw6Cp+ZXXTiU9gVOjZDALucyeXVrv3yKe1Cub/0V2Z/8muV9t+q4KxuVUCbYPRdecjewJsFZYKRvL1KoWivYsY9fOMes4QSWEKpmo1FVOJVzcbMxs7Dxs4MEj0MEs16k2+9aaauHqauZhfsYRdsRtR8I+rELc43qhbnZp7vYZ5vsQwesQwW+CEN/NgcLUqGHSUDJ+WQoncU0oOQIou/utBy46+g0g29d5MMA5G/KceyLhOO7OvUI/sSDoMstMMgLWbUI2bUAmw9AmwtGpkfjZxq6PbP8u50x00YCADw2Jj7CgmEI0AgISTZef/3q9RKVaXWnDYx2+/37p8RGQZ7xma5hEu3v+t17pHs69zH/x4TWKqwcTu6C4vlc+dXO+QwLVhsu2jpiYQ5XGLxqjKH9x8RLFY8ddwEe2mw2As5yvntVY4Gi2k33AJLYLniPn/94kL4WWs5etZROscDkJCxAgo8BxM5TA2Wo66DcpHUo7Cc9V7S/O5K6hL0A5Tqy5LTOBw8llQbGGawhlWiPLqrwRqaseysnpO08zIShr+plK4AqLvw46nW132h8lE/JiiB0T1gnUuIHM9iaQ3Zw0pWp6NwLNfk9aP7MKwOJU76+DaKpZ8sWItf2PQr4txksJZ1MlEc0pw1iYcGGPmEQEsdMvBiFIU9D1KHJN8FjNGuyMM8EKASs8jF3AcIUOmrmugrgjy9BgJYr3h1uILuQkEAK0aexoIJYumjr/RY4hrkVFPpQ38eTOE5yMMyEKS6BrhQk1sgyJEgT7y+hTa1QBT6ehs4m3PLQBgtRR7iwTSZM/ADoCAMrXLb0XEy4/48H6jAWH0h15eI7uywBaH8qAxxCmJ+vSwQqtVRxLpBg1xGBqI9zqe3Q5BLT233ooFoRwe5EkHd2bEFwtFDdYmeZWM6IdN/TYcSnRmBmfa3U37MChBPa1DMxwqNke8EstDiUFe+d/zJ87OHpYEsWoJ8F5gjC5GLRfANRDpy9QIncEgGu+cZyGX6MM8jRr67DztXOchFovmhxwGlBrs2mJPTA8zWEeQrKexYESMfq2G+ukE+4sJ+ae5QUXcV351NctithInPMPSKA1gL+0RbgnxGBRyrxp3TC+xSaw6mFwoLHccGGXaoCmQd/DQ8JpF6sDt+iAOMGpbTbBxi1rAzWbi615nPaoajtbNS/uIgoryVzQvBIemu8pZ3xyHxA1Y6Mxxi7OedSHMdhwQFrKXdCA6576Xeoq9wOFYvWO8Qj06A7MKJbXFTjBWMbaTv4KvaOuGwThP5DuEjtvIrNla82TGkZ4bDbMVLCO+Ow+4PEIWecESjdHnqm8vPgZBxKJau7i6GNjok6lxAJKskOMxILFCSdWM4TD9TEKrocUz5AAV59/HGVBAte+OY8KJcDUEjA0cQGZVP4eAY0hWglEOJY8iVggSeiWNIo9RP0TNxlE1BCi/EUUakTIGqdQy55O+A1iGOi9UoUGmb4rgvDaTxTRxnJJ+vUGlVMhxFrhpI5AU4Qe/DZ9HcRI4tv2mrHqeIL/BBL3PatD4FybIGp3BONXwG9b8MnIC4FkhnvXGS4DPvRc02pk/ry2c9cZo0orAxa+osAjvDRiafa2HmBWzo4BKcJvBhK1oe4jQkdWsKm6De1Zk8qFjBdujZwKnuuQUbyJIQp+ofsKlHj5Ppt5aCVIe8ITgViQrYWF3qOFlYnh8gC/WTO8PJgoTC5ooI53DsCmSgbc/WH6ov39nEWdLEA7G0tjNwltKCD3m8cSYzqTQQxPI6HX9TqRL9tyIxcCaWdmd/dcAOxyg2Cc7UtxQ+6RzgbMT5iioKixXHJDZwNlJ+vD+qtnERw37588dSteyYNLhIqMLOpuamuAxzGts9e7VFp0wkZsf8GqchwUVYnKmx9eSVuIJxt69RO/CUafXx5XZvU8fldIW2gM93XI85aR/bt+55vZ5O1+vz61a+72ZIcL3bx7PVn6qbwreTm5E6j9UvRyXucfqX6+f3T/6iuR+/bedf3op2CGu2cr9F56XGO/AfqKdWuMxEqW6Cv+TqpC5yU362iLYxqiC87uKMgIPbEPywsPSUaVAZUbQmfhJ5KvJtMw29lAQ/JFSxsBpR2wZujzi5Yt2H09AqujPcVGC3Sn0FzmLlb4KbCb92MnM1FC8dNxDcdvP+G3K4fKWS4xX2rr/LVPUvjyiWGC6nu3yHh+oP1Ds1EgJm2NH+CoUJaN0mvUNQGGbakafaup5A9OAJOuWclNH3SVODGf9UrnnCWHqL/G+WpYYV7bM3DYKzsCAtowr+R9TKvLPbxXczMHTkIyx00t6+Rhf/8V89UJxt5ld06ux3kzqhwQhBREJ0FgbmvS9vzyRv/YMSywg/ANZwMFEAYrFHAAAAAElFTkSuQmCC",cornersSquareOptions:{type:"dot",color:"#000000"},cornersDotOptions:{type:void 0,color:"#000000"},fileExt:"png",myclass:"my-qur",imgclass:"img-qr",downloadButton:"my-button",downloadOptions:{name:"vqr",extension:"png"}},null,8,["width","height","value","imageOptions"]),e.totp?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"cursor-pointer text-center",onClick:t[5]||(t[5]=e=>r.fetchTotp("GenerateTOTP"))},[(0,o.createElementVNode)("p",pe,(0,o.toDisplayString)(r.translate("account.details.twofa.test")),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(r.translate("account.details.twofa.warning")),1)])),e.totp?((0,o.openBlock)(),(0,o.createElementBlock)("div",ye,[(0,o.createElementVNode)("span",null,"Test 2FA, result: "+(0,o.toDisplayString)(e.totp),1),(0,o.createElementVNode)("div",ge,[(0,o.createElementVNode)("div",{class:"bg-blue-600 h-1.5 rounded-full",style:(0,o.normalizeStyle)(`width:${e.progress}%; transition: width 2s;`)},null,4)])])):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",fe,[(0,o.createElementVNode)("label",ve,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.details.twofa.on_off"))+" ",1),Ne]),(0,o.createElementVNode)("div",he,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select w-full","onUpdate:modelValue":t[6]||(t[6]=t=>e.form.google2FAEnabled=t)},ke,512),[[o.vModelSelect,e.form.google2FAEnabled]]),(0,o.createElementVNode)("div",we,(0,o.toDisplayString)(r.showError(e.errorBag,"google2FAEnabled")),1)])]),(0,o.createElementVNode)("div",xe,[(0,o.createElementVNode)("label",be,(0,o.toDisplayString)(r.translate("account.details.locale")),1),(0,o.createElementVNode)("div",Ce,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select w-full","onUpdate:modelValue":t[7]||(t[7]=t=>e.form.locale=t)},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.languages,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:t},(0,o.toDisplayString)(e.naam),9,Be)))),128))],512),[[o.vModelSelect,e.form.locale]]),(0,o.createElementVNode)("div",Pe,(0,o.toDisplayString)(r.showError(e.errorBag,"locale")),1)])]),(0,o.createElementVNode)("div",Se,[(0,o.createVNode)(i,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",De,[(0,o.createVNode)(c,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)):(0,o.createCommentVNode)("",!0)])])}var Ae=a(3164),Me=a(2215),Te=a.n(Me),Fe=a(8637),Ue=a(9414),Le=a(6232),je=a(9783),qe=a(4729),Oe={name:"AccountDetail",components:{JButton:Ae.Z,Icon:N.Z,QRCodeVue3:Te()},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("http"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),{qrOptions:l}=(0,Ue.Z)(),{validate:s,showError:n}=(0,Le.Z)(),{saveNotification:c}=(0,qe.Z)(),i=(0,o.reactive)({form:{organizationName:"",email:"",password:"",google2FA:"",google2FAEnabled:"",locale:""},errorBag:{},rules:{organizationName:["required","regex:/^([0-9a-zA-Z-:.!@#$^&*+?| ]){1,50}$/"],email:["required","email"],password:["regex:/^[0-9a-zA-Z-:.!@#$^&*+_<>? |\\x22%'(),/;=?[\\]`{}~]{1,25}$/"],google2FA:["required"],google2FAEnabled:["required"],locale:["required"]},google2FA:null,totp:null,progress:100,timer:null,isProcessing:!1}),d=(0,o.computed)((()=>r.state.accountInfo)),m=(0,o.computed)((()=>r.state.languages)),u=(0,o.computed)((()=>i.google2FA?i.google2FA:d.value["2FA"])),p=(0,o.computed)((()=>`otpauth://totp/Cointopay(${d.value.OwnerNickName})?secret=${u.value}&issuer=Cointopay`));(0,o.watch)((()=>({...i.form})),((e,t)=>{Object.keys(i.errorBag).length>0&&(i.errorBag=s(e,i.rules))})),(0,o.watch)((()=>({...d.value})),((e,t)=>{i.form={organizationName:e.ShopTitle,email:e.Email,google2FA:e["2FA"],google2FAEnabled:e["2FAEnabled"],locale:e.Locale}}));const y="https://app.cointopay.com",g=e=>{t.get(`${y}/v2REAPI`,{params:{Call:e,MerchantID:d.value.ID,APIKey:d.value.APIkey,AltCoinID:-1,TOTPSecurity:i.form.google2FA.replace(/ /g,""),output:"json"}}).then((t=>{if("GenerateTOTP"===e){i.totp=t.data;let e=0;i.timer=setInterval((()=>{e++,e>=30&&(e=0,g("GenerateTOTP"),clearInterval(i.timer)),i.progress=100-100/30*e}),1e3)}else"GenerateSecurityID"===e&&(i.google2FA=t.data.replace(/ /g,"").replace(/'/g,""),i.form.google2FA=i.google2FA,i.timer&&(clearInterval(i.timer),i.totp=null))})).catch((e=>{console.log(e.response)}))},f=()=>{if(i.errorBag=s(i.form,i.rules),0===Object.keys(i.errorBag).length&&d.value){const e={...d.value,ShopTitle:i.form.organizationName,Email:i.form.email,"2FA":i.form.google2FA,"2FAEnabled":i.form.google2FAEnabled,Password:i.form.password,Locale:i.form.locale};i.isProcessing=!0,r.dispatch(je.CH,e).then((e=>{i.isProcessing=!1,200===e.status&&(a.success("Account detail updated successfully"),c("Account detail updated successfully"))})).catch((e=>{i.isProcessing=!1,a.error(e.data.message),c(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{d.value&&(i.form={organizationName:d.value.ShopTitle,email:d.value.Email,google2FA:d.value["2FA"],google2FAEnabled:d.value["2FAEnabled"],locale:d.value.Locale})})),(0,o.onBeforeUnmount)((()=>{i.timer&&clearInterval(i.timer)})),{translate:e,...(0,o.toRefs)(i),qrOptions:l,accountInfo:d,languages:m,qrCodeText:p,showError:n,fetchTotp:g,submit:f}}};const _e=(0,g.Z)(Oe,[["render",Ie]]);var Re=_e;const Ze=e=>((0,o.pushScopeId)("data-v-ceecce92"),e=e(),(0,o.popScopeId)(),e),ze={class:"card"},Ke={class:"title flex items-center justify-between"},We={class:"cursor-pointer"},Ye=Ze((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),Je={class:"body"},Ge={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},He={key:0,class:"mb-3 md:mb-0 font-semibold"},Qe={class:"card"},Xe={class:"title flex items-center justify-between"},$e={class:"cursor-pointer"},et=Ze((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),tt={class:"body"},at={class:"flex flex-wrap justify-start gap-x-1 gap-y-1 md:gap-x-4 md:gap-y-2"},ot=["src"],rt={class:"mt-4 text-right"},lt={class:"card"},st={class:"title flex items-center justify-between"},nt={class:"cursor-pointer"},ct=Ze((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),it={class:"body"},dt={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},mt={key:0,class:"mb-3 md:mb-0 font-semibold"},ut={key:0,class:"flex items-center mt-3 md:mt-0"},pt={class:"ml-3 flex items-center cursor-pointer relative",for:"swapPreferredAltCoinId"},yt=Ze((()=>(0,o.createElementVNode)("span",{class:"toggle-bg bg-gray-300 dark:bg-gray-700 border-2 border-gray-300 focus:outline-none dark:border-gray-700 h-5 w-9 rounded-full"},null,-1))),gt={class:"card"},ft={class:"title flex items-center justify-between"},vt={class:"cursor-pointer"},Nt=Ze((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),ht={class:"body"},Et={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},Vt=Ze((()=>(0,o.createElementVNode)("option",{value:"0"},"None",-1))),kt=["value"],wt={key:0,class:"mr-3"},xt={class:"card"},bt={class:"title flex items-center justify-between"},Ct={class:"cursor-pointer"},Bt=Ze((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),Pt={class:"body"},St={class:"flex flex-col md:flex-row items-start md:items-center justify-between"},Dt={class:"flex items-center w-full md:w-2/5 mb-3 md:mb-0"},It={class:"mx-8 w-8 text-center"},At={key:0,class:"mr-3"};function Mt(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveComponent)("input-currency-modal"),d=(0,o.resolveComponent)("active-currencies-modal"),m=(0,o.resolveComponent)("preferred-currency-modal"),u=(0,o.resolveDirective)("tippy");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",ze,[(0,o.createElementVNode)("div",Ke,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.wallet.default_title")),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",We,[(0,o.createVNode)(n,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[u,{content:r.translate("account.wallet.default_help")}]])]),Ye,(0,o.createElementVNode)("div",Je,[(0,o.createElementVNode)("div",Ge,[r.selectedInputCurrency?((0,o.openBlock)(),(0,o.createElementBlock)("p",He,(0,o.toDisplayString)(`${r.selectedInputCurrency.Name} ${r.selectedInputCurrency.LongName}`),1)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(c,{size:"w-full md:w-auto",onClick:t[0]||(t[0]=e=>r.launchInputCurrencyModal())},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.wallet.button")),1)])),_:1})])])]),(0,o.createElementVNode)("div",Qe,[(0,o.createElementVNode)("div",Xe,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.wallet.active_title")),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",$e,[(0,o.createVNode)(n,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[u,{content:r.translate("account.wallet.active_help")}]])]),et,(0,o.createElementVNode)("div",tt,[(0,o.createElementVNode)("div",at,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.selectedCoinsList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:"flex items-center w-40"},[(0,o.createElementVNode)("img",{src:r.generateIconUrl(e.Name),alt:"",class:"w-6 h-6 mr-3"},null,8,ot),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.Name),1)])))),128))]),(0,o.createElementVNode)("div",rt,[(0,o.createVNode)(c,{size:"w-full md:w-auto",onClick:t[1]||(t[1]=e=>r.launchActiveCurrenciesModal())},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.wallet.button")),1)])),_:1})])])]),(0,o.createElementVNode)("div",lt,[(0,o.createElementVNode)("div",st,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.wallet.preferred_title")),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",nt,[(0,o.createVNode)(n,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[u,{content:r.translate("account.wallet.preferred_help")}]])]),ct,(0,o.createElementVNode)("div",it,[(0,o.createElementVNode)("div",dt,[r.preferredCurrency?((0,o.openBlock)(),(0,o.createElementBlock)("p",mt,(0,o.toDisplayString)(`${r.preferredCurrency.Name} ${r.preferredCurrency.LongName}`),1)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(c,{size:"w-full md:w-auto",onClick:t[2]||(t[2]=e=>r.launchPreferredCurrencyModal())},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.wallet.button")),1)])),_:1})]),r.preferredCurrency?((0,o.openBlock)(),(0,o.createElementBlock)("div",ut,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(r.translate("account.wallet.auto_swap")),1),(0,o.createElementVNode)("label",pt,[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"swapPreferredAltCoinId","onUpdate:modelValue":t[3]||(t[3]=t=>e.isSwapPreferredAltCoinID=t),class:"sr-only",type:"checkbox"},null,512),[[o.vModelCheckbox,e.isSwapPreferredAltCoinID]]),yt])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",gt,[(0,o.createElementVNode)("div",ft,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.wallet.excluded_currencies_title")),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",vt,[(0,o.createVNode)(n,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[u,{content:r.translate("account.wallet.excluded_currencies_help")}]])]),Nt,(0,o.createElementVNode)("div",ht,[(0,o.createElementVNode)("div",Et,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.excludedCoin=t),class:"form-select w-full md:w-2/5 mb-3 md:mb-0"},[Vt,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.selectedCoinsList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:e.ID},(0,o.toDisplayString)(`${e.Name} ${e.LongName}`),9,kt)))),128))],512),[[o.vModelSelect,e.excludedCoin]]),(0,o.createVNode)(c,{disabled:e.isProcessing,size:"w-full md:w-auto",onClick:t[5]||(t[5]=e=>r.updateExcludedCurrency())},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",wt,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])])]),(0,o.createElementVNode)("div",xt,[(0,o.createElementVNode)("div",bt,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.wallet.flexibility_percentage")),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",Ct,[(0,o.createVNode)(n,{classes:"w-6 h-6 text-yellow-500",name:"question-mark"})])),[[u,{content:r.translate("account.wallet.help")}]])]),Bt,(0,o.createElementVNode)("div",Pt,[(0,o.createElementVNode)("div",St,[(0,o.createElementVNode)("div",Dt,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.flexibilityPercentage=t),class:"w-full h-1 rounded bg-blue-100 dark:bg-gray-700 appearance-none",max:"100",min:"60",type:"range"},null,512),[[o.vModelText,e.flexibilityPercentage]]),(0,o.createElementVNode)("span",It,(0,o.toDisplayString)(e.flexibilityPercentage),1)]),(0,o.createVNode)(c,{disabled:e.isProcessing,size:"w-full md:w-auto",onClick:t[7]||(t[7]=e=>r.updateFlexibilityPercentage())},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",At,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])])]),(0,o.createVNode)(i),(0,o.createVNode)(d),(0,o.createVNode)(m)],64)}const Tt={class:"flex items-center justify-between"},Ft={class:"capitalize"},Ut={class:"mb-2"},Lt={class:"flex items-center justify-between mb-1"},jt={class:"text-blue-500 text-sm"},qt=["value"],Ot={class:"mt-4 text-right"},_t={key:0,class:"mr-3"};function Rt(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createBlock)(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[3]||(t[3]=e=>r.closeModal())},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Tt,[(0,o.createElementVNode)("span",Ft,(0,o.toDisplayString)(r.translate("account.wallet.choose")),1),(0,o.createElementVNode)("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=e=>r.closeModal())},[(0,o.createVNode)(n,{name:"close"})])])])),content:(0,o.withCtx)((()=>[(0,o.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",Ut,[(0,o.createElementVNode)("div",Lt,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("account.wallet.default_title")),1),(0,o.createElementVNode)("div",jt,(0,o.toDisplayString)(r.showError(e.errorBag,"inputCurrency")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select w-full","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.inputCurrency=t)},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.inputCurrencies,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:e.ShortName},(0,o.toDisplayString)(`${e.Name} ${e.LongName}`),9,qt)))),128))],512),[[o.vModelSelect,e.form.inputCurrency]])]),(0,o.createElementVNode)("div",Ot,[(0,o.createVNode)(c,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",_t,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)])),_:1},8,["maxWidth","show"])}var Zt=a(9099),zt=a(6486),Kt={name:"InputCurrencyModal",components:{Modal:Zt.Z,JButton:Ae.Z,Icon:N.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("emitter"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),{validate:l,showError:s}=(0,Le.Z)(),{saveNotification:n}=(0,qe.Z)(),c=(0,o.reactive)({show:!1,maxWidth:"2xl",closeable:!0,inputCurrencies:[],defaultCurrency:null,form:{inputCurrency:""},errorBag:{},rules:{inputCurrency:["required"]},isProcessing:!1}),i=(0,o.computed)((()=>r.state.accountInfo)),d=(0,o.computed)((()=>r.state.altCoins)),m=(0,o.computed)((()=>r.state.pos)),u=(0,o.computed)((()=>r.state.posCalls)),p=()=>{c.show=!1},y=e=>{let t=m.value.tickets;if(t.length>0){const a=zt.find(d.value,{ShortName:e});a&&(e=a.LongName),t=t.map((t=>{if("paid"!==t.status.toLowerCase()){const a=t.ticketProducts.map((t=>({...t,currency:e}))),o=t.inputCurrency!==e;return{...t,ticketProducts:a,inputCurrency:e,paymentRequest:o?null:t.paymentRequest,status:o?"waiting":t.status}}return t})),r.dispatch(je.yF,{call:u.value.tickets,data:t})}},g=()=>{if(c.errorBag=l(c.form,c.rules),0===Object.keys(c.errorBag).length&&i.value){c.isProcessing=!0;const e={...i.value,PayoutCurrencyShortName:c.form.inputCurrency};r.dispatch(je.CH,e).then((e=>{c.isProcessing=!1,200===e.status&&(a.success("Default input currency updated successfully"),n("Default input currency updated successfully"),y(c.form.inputCurrency),p())})).catch((e=>{c.isProcessing=!1,a.error(e.data.message),n(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{t.on("inputCurrencyModal",(e=>{c.inputCurrencies=e.inputCurrencies,c.form.inputCurrency=e.defaultCurrency.ShortName,c.show=!0}))})),{translate:e,...(0,o.toRefs)(c),closeModal:p,showError:s,submit:g}}};const Wt=(0,g.Z)(Kt,[["render",Rt]]);var Yt=Wt;const Jt={class:"flex items-center justify-between"},Gt={class:"capitalize"},Ht={class:"flex items-center justify-between flex-col md:flex-row"},Qt=(0,o.createTextVNode)("Select All"),Xt=(0,o.createTextVNode)(" Select Popular Only "),$t=(0,o.createTextVNode)(" Unselect All "),ea={class:"relative flex-1 my-4"},ta={class:"flex flex-wrap justify-center gap-2"},aa=["onClick"],oa=["src"],ra={class:"text-xs font-semibold"},la={class:"text-center mt-4"},sa=(0,o.createTextVNode)("Close");function na(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createBlock)(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[7]||(t[7]=e=>r.closeModal())},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Jt,[(0,o.createElementVNode)("span",Gt,(0,o.toDisplayString)(r.translate("account.wallet.choose")),1),(0,o.createElementVNode)("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=e=>r.closeModal())},[(0,o.createVNode)(n,{name:"close"})])])])),content:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Ht,[(0,o.createVNode)(c,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[1]||(t[1]=e=>r.selectAll())},{default:(0,o.withCtx)((()=>[Qt])),_:1}),(0,o.createVNode)(c,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[2]||(t[2]=e=>r.selectPopularOnly())},{default:(0,o.withCtx)((()=>[Xt])),_:1}),(0,o.createVNode)(c,{size:"w-full md:w-auto",class:"mb-2 md:mb-0",type:"button",onClick:t[3]||(t[3]=e=>r.unSelectAll())},{default:(0,o.withCtx)((()=>[$t])),_:1})]),(0,o.createElementVNode)("div",ea,[(0,o.createVNode)(n,{classes:"absolute w-5 h-5 top-3 left-3 dark:text-gray-300",name:"search"}),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.keyword=t),"aria-label":"Search...",class:"form-input px-10 w-full",type:"text"},null,512),[[o.vModelText,e.keyword]]),""!==e.keyword?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,class:"absolute top-3 right-3 dark:text-gray-400 cursor-pointer",onClick:t[5]||(t[5]=t=>e.keyword="")},[(0,o.createVNode)(n,{classes:"w-5 h-5",name:"close"})])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",ta,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.altCoinsList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:(0,o.normalizeClass)("w-24 w-24 p-3 cursor-pointer hover:border-blue-700 dark:hover:border-blue-500 text-center border-2 inline-block rounded-md shadow flex items-center justify-center flex-col "+(r.isSelected(e)?"border-green-500":"border-gray-300 dark:border-gray-500")),onClick:t=>r.toggleAltCoinsSelection(e)},[(0,o.createElementVNode)("img",{src:r.generateIconUrl(e.Name),alt:"",class:"w-10 h-10 mb-2 mx-auto"},null,8,oa),(0,o.createElementVNode)("p",ra,(0,o.toDisplayString)(e.Name),1)],10,aa)))),128))]),(0,o.createElementVNode)("div",la,[(0,o.createVNode)(c,{onClick:t[6]||(t[6]=e=>r.closeModal())},{default:(0,o.withCtx)((()=>[sa])),_:1})])])),_:1},8,["maxWidth","show"])}var ca={name:"ActiveCurrenciesModal",components:{Modal:Zt.Z,JButton:Ae.Z,Icon:N.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("emitter"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),{generateIconUrl:l,saveNotification:s}=(0,qe.Z)(),n=(0,o.reactive)({show:!1,maxWidth:"2xl",closeable:!0,keyword:"",selectedAltCoinsList:[],selectedAltCoins:""}),c=(0,o.computed)((()=>r.state.accountInfo)),i=(0,o.computed)((()=>r.state.altCoins)),d=(0,o.computed)((()=>{const e=zt.orderBy(i.value,[e=>e.Name.toLowerCase()],"asc");return e.filter((e=>{if(n.keyword&&""!==n.keyword){const t=n.keyword.toLowerCase();return-1!==e.Name.toLowerCase().indexOf(t)||-1!==e.ShortName.toLowerCase().indexOf(t)||-1!==e.LongName.toLowerCase().indexOf(t)}return!0}))})),m=()=>{n.show=!1,v()},u=e=>-1!==zt.findIndex(n.selectedAltCoinsList,{ID:e.ID}),p=()=>{n.selectedAltCoinsList=i.value,n.selectedAltCoins=n.selectedAltCoinsList.map((e=>e.ID)).join(",")},y=()=>{n.selectedAltCoinsList=i.value.filter((e=>1===e.BuyEnabled&&0===e.vFiat)),n.selectedAltCoins=n.selectedAltCoinsList.map((e=>e.ID)).join(",")},g=()=>{n.selectedAltCoinsList=i.value.filter((e=>-1!==[1,8,9,2].indexOf(e.ID))),n.selectedAltCoins="1,8,9,2"},f=e=>{const t=zt.findIndex(n.selectedAltCoinsList,{ID:e.ID});-1!==t?n.selectedAltCoinsList.splice(t,1):n.selectedAltCoinsList.push(e),n.selectedAltCoins=n.selectedAltCoinsList.map((e=>e.ID)).join(",")},v=()=>{if(n.selectedAltCoinsList.length>0){const e={...c.value,SelectedAltCoins:n.selectedAltCoins};r.dispatch(je.CH,e).then((e=>{200===e.status&&(a.success("Active coins updated successfully"),s("Active coins updated successfully"),n.selectedAltCoins="")})).catch((e=>{a.error(e.data.message),s(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{t.on("activeCurrenciesModal",(e=>{n.selectedAltCoinsList=e.selectedAltCoins,n.selectedAltCoins=n.selectedAltCoinsList.map((e=>e.ID)).join(","),n.show=!0}))})),{translate:e,...(0,o.toRefs)(n),closeModal:m,generateIconUrl:l,altCoinsList:d,isSelected:u,toggleAltCoinsSelection:f,selectAll:p,selectPopularOnly:y,unSelectAll:g}}};const ia=(0,g.Z)(ca,[["render",na]]);var da=ia;const ma={class:"flex items-center justify-between"},ua={class:"capitalize"},pa={class:"mb-2"},ya={class:"flex items-center justify-between mb-1"},ga={class:"text-blue-500 text-sm"},fa=["value"],va={class:"mt-4 text-right"},Na={key:0,class:"mr-3"};function ha(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createBlock)(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[3]||(t[3]=e=>r.closeModal())},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",ma,[(0,o.createElementVNode)("span",ua,(0,o.toDisplayString)(r.translate("account.wallet.choose")),1),(0,o.createElementVNode)("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=e=>r.closeModal())},[(0,o.createVNode)(n,{name:"close"})])])])),content:(0,o.withCtx)((()=>[(0,o.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",pa,[(0,o.createElementVNode)("div",ya,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("account.wallet.preferred_title")),1),(0,o.createElementVNode)("div",ga,(0,o.toDisplayString)(r.showError(e.errorBag,"preferredCurrency")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.preferredCurrency=t),class:"form-select w-full"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectedCoinsList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:e.ID},(0,o.toDisplayString)(`${e.Name} ${e.LongName}`),9,fa)))),128))],512),[[o.vModelSelect,e.form.preferredCurrency]])]),(0,o.createElementVNode)("div",va,[(0,o.createVNode)(c,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",Na,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)])),_:1},8,["maxWidth","show"])}var Ea={name:"PreferredCurrencyModal",components:{Modal:Zt.Z,JButton:Ae.Z,Icon:N.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("emitter"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),{validate:l,showError:s}=(0,Le.Z)(),{saveNotification:n}=(0,qe.Z)(),c=(0,o.reactive)({show:!1,maxWidth:"2xl",closeable:!0,selectedCoinsList:[],form:{preferredCurrency:""},errorBag:{},rules:{preferredCurrency:["required"]},isProcessing:!1}),i=(0,o.computed)((()=>r.state.accountInfo)),d=()=>{c.show=!1},m=()=>{if(c.errorBag=l(c.form,c.rules),0===Object.keys(c.errorBag).length&&i.value){c.isProcessing=!0;const e={...i.value,PreferredCoinID:c.form.preferredCurrency};r.dispatch(je.CH,e).then((e=>{c.isProcessing=!1,200===e.status&&(a.success("Preferred currency updated successfully"),n("Preferred currency updated successfully"),d())})).catch((e=>{c.isProcessing=!1,a.error(e.data.message),n(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{t.on("preferredCurrencyModal",(e=>{c.form.preferredCurrency=e.preferredCurrency.ID,c.selectedCoinsList=e.selectedCoinsList,c.show=!0}))})),{translate:e,...(0,o.toRefs)(c),closeModal:d,showError:s,submit:m}}};const Va=(0,g.Z)(Ea,[["render",ha]]);var ka=Va,wa=a(2119),xa={name:"WalletCurrencies",components:{Icon:N.Z,JButton:Ae.Z,InputCurrencyModal:Yt,ActiveCurrenciesModal:da,PreferredCurrencyModal:ka},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("emitter"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),l=(0,wa.yj)(),{generateIconUrl:s}=(0,qe.Z)(),n=(0,o.reactive)({selectedCoins:[],isSwapPreferredAltCoinID:!1,excludedCoin:0,flexibilityPercentage:60,isProcessing:!1}),c=(0,o.computed)((()=>r.state.accountInfo)),i=(0,o.computed)((()=>r.state.inputCurrencies)),d=(0,o.computed)((()=>r.state.altCoins)),m=(0,o.computed)((()=>i.value.length>0&&c.value?zt.find(i.value,{ShortName:c.value.PayoutCurrencyShortName}):null)),u=(0,o.computed)((()=>{if(c.value){const e=c.value.SelectedAltCoins.split(",");n.selectedCoins=[],d.value.forEach((t=>{-1!==e.indexOf(t.ID.toString())&&-1===zt.findIndex(n.selectedCoins,{ID:t.ID})&&n.selectedCoins.push(t)}))}return zt.orderBy(n.selectedCoins,[e=>e.Name.toLowerCase()],"asc")})),p=(0,o.computed)((()=>d.value.length>0&&c.value&&c.value.PreferredCoinID?zt.find(d.value,{ID:Number(c.value.PreferredCoinID)}):null));(0,o.watch)((()=>n.isSwapPreferredAltCoinID),((e,t)=>{if(c.value&&e!==("1"===c.value.SWAPPreferredCoinID)){n.isProcessing=!0;const t={...c.value,SWAPPreferredCoinID:e};r.dispatch(je.CH,t).then((e=>{n.isProcessing=!1,200===e.status&&a.success("Auto swap settings updated successfully")})).catch((e=>{n.isProcessing=!1,a.error(e.data.message)}))}}));const y=()=>{t.emit("inputCurrencyModal",{inputCurrencies:i.value,defaultCurrency:m.value})},g=()=>{t.emit("activeCurrenciesModal",{selectedAltCoins:zt.cloneDeep(n.selectedCoins)})},f=()=>{t.emit("preferredCurrencyModal",{preferredCurrency:p.value,selectedCoinsList:u.value})},v=()=>{if(c.value){n.isProcessing=!0;const e={...c.value,AltCoinFiatPayOutExcludes:n.excludedCoin};r.dispatch(je.CH,e).then((e=>{n.isProcessing=!1,200===e.status&&a.success("Excluded coin updated successfully")})).catch((e=>{n.isProcessing=!1,a.error(e.data.message)}))}},N=()=>{if(c.value){n.isProcessing=!0;const e={...c.value,FlexibilityPercentage:n.flexibilityPercentage};r.dispatch(je.CH,e).then((e=>{n.isProcessing=!1,200===e.status&&a.success("Flexibility percentage updated successfully")})).catch((e=>{n.isProcessing=!1,a.error(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{c.value&&(n.isSwapPreferredAltCoinID="1"===c.value.SWAPPreferredCoinID,n.excludedCoin=parseInt(c.value.AltCoinFiatPayOutExcludes),n.flexibilityPercentage=c.value.FlexibilityPercentage)})),(0,o.onMounted)((()=>{Object.keys(l.query).length>0&&l.query.popup&&"true"===l.query.popup.toString()&&(console.log(l.query.popup),g())})),{translate:e,...(0,o.toRefs)(n),selectedInputCurrency:m,preferredCurrency:p,generateIconUrl:s,selectedCoinsList:u,launchInputCurrencyModal:y,launchActiveCurrenciesModal:g,launchPreferredCurrencyModal:f,updateExcludedCurrency:v,updateFlexibilityPercentage:N}}};const ba=(0,g.Z)(xa,[["render",Mt],["__scopeId","data-v-ceecce92"]]);var Ca=ba;const Ba={class:"card"},Pa={class:"flex items-center justify-between title"},Sa={class:"cursor-pointer"},Da=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Ia={class:"body"},Aa={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ma={class:"col-span-3 md:col-span-1"},Ta=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Fa={class:"col-span-3 md:col-span-2"},Ua={class:"flex items-center justify-between"},La=["value"],ja={class:"ml-2 cursor-pointer"},qa={class:"text-blue-500 text-sm"},Oa={key:0,class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},_a={class:"col-span-3 md:col-span-1"},Ra={class:"col-span-3 md:col-span-2"},Za={key:1,class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},za=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},"Payout account",-1),Ka={class:"col-span-3 md:col-span-2"},Wa={key:2},Ya={class:"mb-2 grid grid-cols-1 md:grid-cols-3 gap-1 md:gap-4"},Ja=(0,o.createElementVNode)("div",{class:"col-span-3 md:col-span-1"},null,-1),Ga={class:"col-span-3 md:col-span-2"},Ha={class:"text-center font-semibold text-lg mb-2"},Qa={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Xa={class:"col-span-3 md:col-span-1"},$a=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),eo={class:"col-span-3 md:col-span-2"},to={class:"text-blue-500 text-sm"},ao={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},oo={class:"col-span-3 md:col-span-1"},ro=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),lo={class:"col-span-3 md:col-span-2"},so={class:"text-blue-500 text-sm"},no={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},co={class:"col-span-3 md:col-span-1"},io=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),mo={class:"col-span-3 md:col-span-2"},uo={class:"text-blue-500 text-sm"},po={class:"mt-4 text-right"},yo={key:0,class:"mr-3"},go={key:0,class:"card"},fo={class:"title"},vo=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),No={class:"body text-center"},ho={key:1,class:"card"},Eo={class:"title"},Vo=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),ko={class:"body text-center"};function wo(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveComponent)("crypto-address-book-modal"),d=(0,o.resolveComponent)("transfer-wise-modal"),m=(0,o.resolveDirective)("tippy");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",Ba,[(0,o.createElementVNode)("div",Pa,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.payout.payout")),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",Sa,[(0,o.createVNode)(n,{name:"question-mark",classes:"w-6 h-6 text-yellow-500"})])),[[m,{content:r.translate("account.payout.payout_message")}]])]),Da,(0,o.createElementVNode)("div",Ia,[(0,o.createElementVNode)("form",{onSubmit:t[6]||(t[6]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",Aa,[(0,o.createElementVNode)("label",Ma,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payout.payout"))+" ",1),Ta]),(0,o.createElementVNode)("div",Fa,[(0,o.createElementVNode)("div",Ua,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select w-full","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.payoutSchema=t)},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.payoutOptions,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:t},(0,o.toDisplayString)(e),9,La)))),128))],512),[[o.vModelSelect,e.form.payoutSchema]]),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",ja,[(0,o.createVNode)(n,{name:"exclamation-circle",classes:"w-6 h-6 text-yellow-500"})])),[[m,{content:r.translate("account.payout.bank_verification_message")}]])]),(0,o.createElementVNode)("div",qa,(0,o.toDisplayString)(r.showError(e.errorBag,"locale")),1)])]),"Payout Paypal"===e.form.payoutSchema?((0,o.openBlock)(),(0,o.createElementBlock)("div",Oa,[(0,o.createElementVNode)("label",_a,(0,o.toDisplayString)(r.translate("account.payout.option")),1),(0,o.createElementVNode)("div",Ra,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"email","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.payoutTo=t)},null,512),[[o.vModelText,e.form.payoutTo]])])])):(0,o.createCommentVNode)("",!0),"Payout Payeer"===e.form.payoutSchema?((0,o.openBlock)(),(0,o.createElementBlock)("div",Za,[za,(0,o.createElementVNode)("div",Ka,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.payoutTo=t)},null,512),[[o.vModelText,e.form.payoutTo]])])])):(0,o.createCommentVNode)("",!0),r.isFiatCurrency?((0,o.openBlock)(),(0,o.createElementBlock)("div",Wa,[(0,o.createElementVNode)("div",Ya,[Ja,(0,o.createElementVNode)("div",Ga,[(0,o.createElementVNode)("h2",Ha,(0,o.toDisplayString)(r.translate("account.payout.bank")),1)])]),(0,o.createElementVNode)("div",Qa,[(0,o.createElementVNode)("label",Xa,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payout.bank_name"))+" ",1),$a]),(0,o.createElementVNode)("div",eo,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.payoutName=t)},null,512),[[o.vModelText,e.form.payoutName]]),(0,o.createElementVNode)("div",to,(0,o.toDisplayString)(r.showError(e.errorBag,"locale")),1)])]),(0,o.createElementVNode)("div",ao,[(0,o.createElementVNode)("label",oo,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payout.iban"))+" ",1),ro]),(0,o.createElementVNode)("div",lo,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.payoutIBAN=t)},null,512),[[o.vModelText,e.form.payoutIBAN]]),(0,o.createElementVNode)("div",so,(0,o.toDisplayString)(r.showError(e.errorBag,"locale")),1)])]),(0,o.createElementVNode)("div",no,[(0,o.createElementVNode)("label",co,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payout.bank_bic"))+" ",1),io]),(0,o.createElementVNode)("div",mo,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[5]||(t[5]=t=>e.form.payoutBIC=t)},null,512),[[o.vModelText,e.form.payoutBIC]]),(0,o.createElementVNode)("div",uo,(0,o.toDisplayString)(r.showError(e.errorBag,"locale")),1)])])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",po,[(0,o.createVNode)(c,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",yo,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)])]),"Pay out to bank address book default"===e.form.payoutSchema?((0,o.openBlock)(),(0,o.createElementBlock)("div",go,[(0,o.createElementVNode)("div",fo,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.payout.address_book")),1)]),vo,(0,o.createElementVNode)("div",No,[(0,o.createVNode)(c,{buttonStyle:"warning",type:"button",onClick:r.launchTransferWiseModal},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payout.address_book")),1)])),_:1},8,["onClick"])])])):(0,o.createCommentVNode)("",!0),"Pay out to crypto address book default"===e.form.payoutSchema?((0,o.openBlock)(),(0,o.createElementBlock)("div",ho,[(0,o.createElementVNode)("div",Eo,[(0,o.createElementVNode)("h5",null,(0,o.toDisplayString)(r.translate("account.payout.crypto_address_book")),1)]),Vo,(0,o.createElementVNode)("div",ko,[(0,o.createVNode)(c,{buttonStyle:"warning",type:"button",onClick:r.launchCryptoAddressBookModal},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payout.crypto_address_book")),1)])),_:1},8,["onClick"])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(i),(0,o.createVNode)(d)],64)}var xo=a(7980);const bo={class:"flex items-center justify-between"},Co={class:"capitalize"},Bo={class:"mb-2"},Po={class:"flex items-center justify-between mb-2"},So={class:"text-red-700 dark:text-red-400 text-sm mr-4"},Do=["value"],Io={class:"mb-2"},Ao={class:"flex items-center justify-between mb-2"},Mo={class:"text-red-700 dark:text-red-400 text-sm mr-4"},To={key:0,class:"mb-2"},Fo={class:"flex items-center justify-between mb-2"},Uo={class:"text-red-700 dark:text-red-400 text-sm mr-4"},Lo={class:"mb-2"},jo={class:"flex items-center justify-between mb-2"},qo={class:"text-red-700 dark:text-red-400 text-sm mr-4"},Oo={class:"mb-2 text-right"},_o={key:0,class:"mr-3"},Ro={class:"mt-4"},Zo={class:"scrollbar scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 dark:scrollbar-track-gray-900 dark:scrollbar-thumb-gray-600"},zo={class:"table-sm mb-2"},Ko=(0,o.createElementVNode)("th",null,"AltCoin",-1),Wo={class:"border-0"},Yo={colspan:"2",class:"text-base overflow-hidden",style:{"max-width":"50px"}},Jo={class:"border-0"},Go={colspan:"2",class:"text-base overflow-hidden",style:{"max-width":"80px"}},Ho={class:"space-x-2",colspan:"2"},Qo={key:0},Xo={key:1};function $o(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createBlock)(i,{maxWidth:e.maxWidth,show:e.show,onClose:t[6]||(t[6]=e=>r.closeModal())},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",bo,[(0,o.createElementVNode)("span",Co,(0,o.toDisplayString)(r.translate("account.payout.crypto_address_book")),1),(0,o.createElementVNode)("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=e=>r.closeModal())},[(0,o.createVNode)(n,{name:"close"})])])])),content:(0,o.withCtx)((()=>[(0,o.createElementVNode)("form",{onSubmit:t[5]||(t[5]=(0,o.withModifiers)(((...e)=>r.submit&&r.submit(...e)),["prevent"]))},[(0,o.createElementVNode)("div",Bo,[(0,o.createElementVNode)("div",Po,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("address_book.currency")),1),(0,o.createElementVNode)("div",So,(0,o.toDisplayString)(r.showError(e.errorBag,"altCoinID")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.altCoinID=t),class:"form-select w-full"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.selectedCoinsList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:e.ID},(0,o.toDisplayString)(`${e.Name} ${e.LongName}`),9,Do)))),128))],512),[[o.vModelSelect,e.form.altCoinID]])]),(0,o.createElementVNode)("div",Io,[(0,o.createElementVNode)("div",Ao,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("address_book.address")),1),(0,o.createElementVNode)("div",Mo,(0,o.toDisplayString)(r.showError(e.errorBag,"address")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.address=t),"aria-label":"",class:"form-input w-full",type:"text"},null,512),[[o.vModelText,e.form.address]])]),1===r.altCoinTag(e.form.altCoinID)?((0,o.openBlock)(),(0,o.createElementBlock)("div",To,[(0,o.createElementVNode)("div",Fo,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("address_book.tag")),1),(0,o.createElementVNode)("div",Uo,(0,o.toDisplayString)(r.showError(e.errorBag,"tag")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.tag=t),"aria-label":"",class:"form-input w-full",type:"text"},null,512),[[o.vModelText,e.form.tag]])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Lo,[(0,o.createElementVNode)("div",jo,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("address_book.description")),1),(0,o.createElementVNode)("div",qo,(0,o.toDisplayString)(r.showError(e.errorBag,"description")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.description=t),"aria-label":"",class:"form-input w-full"},null,512),[[o.vModelText,e.form.description]])]),(0,o.createElementVNode)("div",Oo,[(0,o.createVNode)(c,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",_o,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("address_book.save")),1)])),_:1},8,["disabled"])])],32),(0,o.createElementVNode)("div",Ro,[(0,o.createElementVNode)("div",Zo,[(0,o.createElementVNode)("table",zo,[(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[Ko,(0,o.createElementVNode)("th",null,(0,o.toDisplayString)(r.translate("address_book.description")),1)])]),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.addresses.crypto,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:t},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e,((e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:a},[(0,o.createElementVNode)("tr",Wo,[(0,o.createElementVNode)("td",Yo,(0,o.toDisplayString)(r.altCoinName(e.altCoinID)),1)]),(0,o.createElementVNode)("tr",Jo,[(0,o.createElementVNode)("td",Go,(0,o.toDisplayString)(e.description),1)]),(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",Ho,[(0,o.createVNode)(c,{buttonStyle:e.default?"danger":"primary",onClick:e=>r.toggleDefault(a,t)},{default:(0,o.withCtx)((()=>[e.default?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("span",Qo,(0,o.toDisplayString)(r.translate("address_book.select_default")),1)),e.default?((0,o.openBlock)(),(0,o.createElementBlock)("span",Xo,(0,o.toDisplayString)(r.translate("address_book.remove_default")),1)):(0,o.createCommentVNode)("",!0)])),_:2},1032,["buttonStyle","onClick"]),(0,o.createVNode)(c,{type:"button",onClick:e=>r.edit(a,t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("address_book.edit")),1)])),_:2},1032,["onClick"]),(0,o.createVNode)(c,{buttonStyle:"danger",type:"button",onClick:e=>r.deleteAddress(a,t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("address_book.delete")),1)])),_:2},1032,["onClick"])])])],64)))),128))],64)))),128))])])])])])),_:1},8,["maxWidth","show"])}var er={name:"CryptoAddressBookModal",components:{Modal:Zt.Z,Icon:N.Z,JButton:Ae.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("http"),a=(0,o.inject)("toast"),r=(0,o.inject)("emitter"),l=(0,Fe.oR)(),{saveNotification:s}=(0,qe.Z)(),{showError:n,validate:c}=(0,Le.Z)(),i=(0,o.reactive)({show:!1,maxWidth:"2xl",closeable:!0,addresses:{crypto:{},transferwise:{}},form:{address:"",tag:"",description:"",altCoinID:"",default:!1},errorBag:{},rules:{address:["required"],description:["required"],altCoinID:["required"]},tag:null,isProcessing:!1,editIndex:null}),d=(0,o.computed)((()=>l.state.user)),m=(0,o.computed)((()=>l.state.accountInfo)),u=(0,o.computed)((()=>l.state.altCoins)),p=(0,o.computed)((()=>{const e=[];if(m.value){const t=m.value.SelectedAltCoins.split(",");u.value.forEach((a=>{-1!==t.indexOf(a.ID.toString())&&e.push(a)}))}return e})),y="https://app.cointopay.com",g=()=>{i.show=!1},f=()=>{i.isProcessing=!0;const e={POSDATA:"",Call:"SHOW",KeyData:`AddressBook_${d.value.ID}`,MerchantID:d.value.ID,APIKey:d.value.APIKey,output:"json"};t.get(`${y}/MarketAPI`,{params:e}).then((e=>{i.isProcessing=!1,"nothing found"!==e.data&&(i.addresses=e.data)})).catch((e=>{i.isProcessing=!1,console.log(e.response)}))},v=()=>{if(i.errorBag=c(i.form,i.rules),0===Object.keys(i.errorBag).length){i.isProcessing=!0;const e={...i.addresses},a=Object.keys(e.crypto).length>0||Object.keys(e.transferwise).length>0?"UPDATE":"INSERT",o=i.form;"undefined"===typeof e.crypto[i.form.altCoinID]&&(e.crypto[i.form.altCoinID]=[]);const r=zt.findIndex(e.crypto[i.form.altCoinID],{address:i.form.address});-1!==r?e.crypto[i.form.altCoinID][r]=o:null!==i.editIndex?(e.crypto[i.form.altCoinID][i.editIndex]=o,i.editIndex=null):e.crypto[i.form.altCoinID].push(o);const l=new FormData;l.append("Call",a),l.append("KeyData","AddressBook_"+d.value.ID),l.append("ValueData",JSON.stringify(e)),l.append("MerchantID",d.value.ID),l.append("APIKey",d.value.APIKey),l.append("output","json"),t.post(`${y}/MarketAPI?POSDATA`,l,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{i.isProcessing=!1,w(),f()})).catch((e=>{i.isProcessing=!1,console.log(e.response)}))}},N=e=>{const t=zt.find(p.value,{ID:e});return t?t.Name:""},h=e=>{const t=zt.find(p.value,{ID:e});return t?t.Tag:""},E=(e,o)=>{Object.keys(i.addresses.crypto).forEach((t=>{i.addresses.crypto[t].forEach(((a,r)=>{t===o&&r===e?("undefined"===typeof i.addresses.crypto[t][r].default&&(i.addresses.crypto[t][r].default=!1),i.addresses.crypto[t][r].default=!i.addresses.crypto[t][r].default):i.addresses.crypto[t][r].default=!1}))}));const r=new FormData;r.append("Call","UPDATE"),r.append("KeyData",`AddressBook_${d.value.ID}`),r.append("ValueData",JSON.stringify(i.addresses)),r.append("MerchantID",d.value.ID),r.append("APIKey",d.value.APIKey),r.append("output","json"),t.post(`${y}/MarketAPI?POSDATA`,r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{a.success("Updated successfully"),s("Address Updated successfully")})).catch((e=>{console.log(e.response)}))},V=(e,t)=>{const a=i.addresses.crypto[t][e];a&&(i.form={...i.form,address:a.address,tag:a.tag?a.tag:"",altCoinID:a.altCoinID,description:a.description}),i.editIndex=e},k=(e,o)=>{i.isProcessing=!0;const r={...i.addresses};r.crypto[o].splice(e,1);const l=new FormData;l.append("Call","UPDATE"),l.append("KeyData","AddressBook_"+d.value.ID),l.append("ValueData",JSON.stringify(r)),l.append("MerchantID",d.value.ID),l.append("APIKey",d.value.APIKey),l.append("output","json"),t.post(`${y}/MarketAPI?POSDATA`,l,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{i.isProcessing=!1,f(),a.success("Address deleted successfully"),s("Address deleted successfully")})).catch((e=>{i.isProcessing=!1,console.log(e.response)}))},w=()=>{i.form={...i.form,address:"",tag:"",description:""}};return(0,o.onBeforeMount)((()=>{r.on("cryptoAddressBookAccountModal",(e=>{i.addresses=e.addresses,i.errorBag={},i.show=!0}))})),{translate:e,...(0,o.toRefs)(i),user:d,selectedCoinsList:p,closeModal:g,showError:n,submit:v,altCoinName:N,altCoinTag:h,toggleDefault:E,edit:V,deleteAddress:k}}};const tr=(0,g.Z)(er,[["render",$o]]);var ar=tr,or={name:"PayoutSettings",components:{JButton:Ae.Z,Icon:N.Z,TransferWiseModal:xo.Z,CryptoAddressBookModal:ar},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("http"),a=(0,o.inject)("emitter"),r=(0,o.inject)("toast"),l=(0,Fe.oR)(),{validate:s,showError:n}=(0,Le.Z)(),{saveNotification:c}=(0,qe.Z)(),i=(0,o.reactive)({payoutOptions:{"Keep with Cointopay":"Keep with Cointopay","Pay out EUR Bank":"Pay out EUR Bank","Pay out USD Bank":"Pay out USD Bank","Pay out GBP Bank":"Pay out GBP Bank","Wallet Cointopay":"Wallet Cointopay","Payout Paypal":"Payout Paypal","Payout Payeer":"Payout Payeer","Pay out to bank address book default":"Pay out to bank address book default","Pay out to crypto address book default":"Pay out to crypto address book default"},form:{payoutSchema:"",payoutTo:"",payoutName:"",payoutIBAN:"",payoutBIC:""},errorBag:{},rules:{payoutSchema:["required"],payoutName:["required","regex:/^[A-Za-z .,0-9]{3,}$/"],payoutIBAN:["required","regex:/^[A-Za-z .,0-9]+$/"],payoutBIC:["required"]},messages:{payoutSchema:{required:"Please select payout schema"},payoutName:{required:"Name on bank account is required",regex:"Please provide a valid account name"},payoutIBAN:{required:"IBAN is required",email:"Please provide a valid IBAN"},payoutBIC:{required:"BIC/Swift code is required"}},isProcessing:!1}),d=(0,o.computed)((()=>l.state.user)),m=(0,o.computed)((()=>l.state.accountInfo)),u=(0,o.computed)((()=>-1!==["Pay out EUR Bank","Pay out USD Bank","Pay out GBP Bank"].indexOf(i.form.payoutSchema))),p=(0,o.computed)((()=>l.state.addressBook)),y="https://app.cointopay.com",g=e=>{let a,o;switch(e.payoutSchema){case"Pay out EUR Bank":o="EUR",a={accountHolderName:e.payoutName,currency:"EUR",default:!0,details:{IBAN:e.payoutIBAN,legalType:"BUSINESS"},targetLegalType:"PRIVATE",type:"iban"};break;case"Pay out USD Bank":o="USD",a={accountHolderName:e.payoutName,currency:"USD",default:!0,details:{accountNumber:e.payoutIBAN,legalType:"BUSINESS",abartn:e.payoutBIC,accountType:"CHECKING",address:{city:m.value.PayoutCity,country:m.value.PayoutCountry,firstLine:m.value.PayoutAddress,postCode:m.value.PayoutPostalCode,state:m.value.PayoutState}},targetLegalType:"PRIVATE",type:"aba"};break;case"Pay out GBP Bank":o="GBP",a={accountHolderName:e.payoutName,currency:"GBP",default:!0,details:{accountNumber:e.payoutIBAN,legalType:"BUSINESS",sortCode:e.payoutBIC},targetLegalType:"PRIVATE",type:"sort_code"};break}const r=zt.cloneDeep(p.value),s=Object.keys(r.crypto).length>0||Object.keys(r.transferwise).length>0?"UPDATE":"INSERT";"undefined"===typeof r.transferwise[o]&&(r.transferwise[o]=[]);let n=!1,c=!1;zt.forEach(r.transferwise,((e,t)=>{zt.forEach(e,((o,r)=>{"GBP"===t||"USD"===t?(n=!0,o.details.accountNumber===a.details.accountNumber?(e[r]=a,c=!0):o.default=!1):"EUR"===t?(n=!0,o.details.IBAN===a.details.IBAN?(e[r]=a,c=!0):o.default=!1):o.default=!1}))})),n&&c||r.transferwise[o].push(a);const i=new FormData;i.append("Call",s),i.append("KeyData","AddressBook_"+d.value.ID),i.append("ValueData",JSON.stringify(r)),i.append("MerchantID",d.value.ID),i.append("APIKey",d.value.APIKey),i.append("output","json"),t.post(`${y}/MarketAPI?POSDATA`,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{l.dispatch(je.ce)})).catch((e=>{console.log(e.response)}))},f=()=>{if(i.errorBag=s(i.form,i.rules,i.messages),0===Object.keys(i.errorBag).length&&m.value){i.isProcessing=!0;const e={...m.value,PayoutSchema:i.form.payoutSchema,PayoutTo:i.form.payoutTo,PayoutName:i.form.payoutName,PayoutIBAN:i.form.payoutIBAN,PayoutBIC:i.form.payoutBIC};l.dispatch(je.CH,e).then((e=>{200===e.status&&(i.isProcessing=!1,u.value&&g(i.form),r.success("Payout settings updated successfully"),c("Payout settings updated successfully"))})).catch((e=>{i.isProcessing=!1,r.error(e.data.message),c(e.data.message)}))}},v=()=>{a.emit("transferwiseModal",{addresses:p.value,setDefault:!0,confirm:e=>{}})},N=()=>{a.emit("cryptoAddressBookAccountModal",{addresses:p.value})};return(0,o.onBeforeMount)((()=>{i.form={payoutSchema:m.value.PayoutSchema,payoutTo:m.value.PayoutTo,payoutName:m.value.PayoutName,payoutIBAN:m.value.PayoutIBAN,payoutBIC:m.value.PayoutBIC},l.dispatch(je.ce)})),{translate:e,...(0,o.toRefs)(i),showError:n,isFiatCurrency:u,submit:f,launchTransferWiseModal:v,launchCryptoAddressBookModal:N}}};const rr=(0,g.Z)(or,[["render",wo]]);var lr=rr;const sr={class:"card"},nr={class:"title"},cr=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),ir={class:"body"},dr={class:"grid grid-cols-3 gap-1 md:gap-4"},mr={class:"col-span-3 md:col-span-1"},ur=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),pr={class:"col-span-3 md:col-span-2"},yr=(0,o.createElementVNode)("option",{value:"0"},"Personal",-1),gr=(0,o.createElementVNode)("option",{value:"1"},"Business",-1),fr=[yr,gr],vr=["value"],Nr={class:"text-red-700 dark:text-red-400 text-sm"},hr={key:0,class:"card"},Er={class:"title"},Vr=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),kr={class:"body"},wr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},xr={class:"col-span-3 md:col-span-1"},br=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Cr={class:"col-span-3 md:col-span-2"},Br=["readonly"],Pr={class:"text-red-700 dark:text-red-400 text-sm"},Sr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Dr=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"}," Legal Entity Identifier (LEI) ",-1),Ir={class:"col-span-3 md:col-span-2"},Ar=["readonly"],Mr={class:"text-red-700 dark:text-red-400 text-sm"},Tr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Fr={class:"col-span-3 md:col-span-1"},Ur=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Lr={class:"col-span-3 md:col-span-2"},jr=["readonly"],qr={class:"text-red-700 dark:text-red-400 text-sm"},Or={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},_r={class:"col-span-3 md:col-span-1"},Rr=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Zr={class:"col-span-3 md:col-span-2"},zr=["readonly"],Kr={class:"text-red-700 dark:text-red-400 text-sm"},Wr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Yr={class:"col-span-3 md:col-span-1"},Jr=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Gr={class:"col-span-3 md:col-span-2"},Hr=["readonly"],Qr={class:"text-red-700 dark:text-red-400 text-sm"},Xr={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},$r={class:"col-span-3 md:col-span-1"},el=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),tl={class:"col-span-3 md:col-span-2"},al=["readonly"],ol={class:"text-red-700 dark:text-red-400 text-sm"},rl={class:"grid grid-cols-3 gap-1 md:gap-4"},ll={class:"col-span-3 md:col-span-1"},sl=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),nl={class:"col-span-3 md:col-span-2"},cl=["value"],il={class:"text-red-700 dark:text-red-400 text-sm"},dl={class:"card"},ml={class:"title"},ul=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),pl={class:"body"},yl={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},gl={class:"col-span-3 md:col-span-1"},fl=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),vl={class:"col-span-3 md:col-span-2"},Nl=["readonly"],hl={class:"text-red-700 dark:text-red-400 text-sm"},El={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Vl={class:"col-span-3 md:col-span-1"},kl=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),wl={class:"col-span-3 md:col-span-2"},xl=["readonly"],bl={class:"text-red-700 dark:text-red-400 text-sm"},Cl={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Bl={class:"col-span-3 md:col-span-1"},Pl=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Sl={class:"col-span-3 md:col-span-2"},Dl=["readonly"],Il={class:"text-red-700 dark:text-red-400 text-sm"},Al={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ml={class:"col-span-3 md:col-span-1"},Tl=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Fl={class:"col-span-3 md:col-span-2"},Ul=["value"],Ll={class:"text-red-700 dark:text-red-400 text-sm"},jl={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ql={class:"col-span-3 md:col-span-1"},Ol=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),_l={class:"col-span-3 md:col-span-2"},Rl={class:"flex items-center"},Zl={class:"mr-4 flex items-center"},zl=["disabled"],Kl=(0,o.createElementVNode)("span",{class:"ml-2"},"Yes",-1),Wl={class:"flex items-center"},Yl=["disabled"],Jl=(0,o.createElementVNode)("span",{class:"ml-2"},"No",-1),Gl={class:"text-red-700 dark:text-red-400 text-sm"},Hl={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Ql={class:"col-span-3 md:col-span-1"},Xl=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),$l={class:"col-span-3 md:col-span-2"},es=["readonly"],ts={class:"text-red-700 dark:text-red-400 text-sm"},as={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},os={class:"col-span-3 md:col-span-1"},rs=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),ls={class:"col-span-3 md:col-span-2"},ss=["readonly"],ns={class:"text-red-700 dark:text-red-400 text-sm"},cs={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},is={class:"col-span-3 md:col-span-1"},ds=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),ms={class:"col-span-3 md:col-span-2"},us=["readonly"],ps={class:"text-red-700 dark:text-red-400 text-sm"},ys={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},gs={class:"col-span-3 md:col-span-1"},fs=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),vs={class:"col-span-3 md:col-span-2"},Ns=["readonly"],hs={class:"text-red-700 dark:text-red-400 text-sm"},Es={class:"grid grid-cols-3 gap-1 md:gap-4"},Vs={class:"col-span-3 md:col-span-1"},ks=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),ws={class:"col-span-3 md:col-span-2"},xs=["value"],bs={class:"text-red-700 dark:text-red-400 text-sm"},Cs={class:"card"},Bs={class:"title"},Ps=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Ss={class:"body"},Ds={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Is=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},[(0,o.createTextVNode)(" Passport/Photo ID "),(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*")],-1),As={class:"col-span-3 md:col-span-2"},Ms=["hidden"],Ts={key:0,class:"mt-3"},Fs=["src"],Us={class:"text-red-700 dark:text-red-400 text-sm"},Ls={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},js={class:"col-span-3 md:col-span-1"},qs={class:"flex items-center"},Os=(0,o.createElementVNode)("label",null,[(0,o.createTextVNode)(" Profile image "),(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*")],-1),_s={class:"ml-1 cursor-pointer"},Rs={class:"col-span-3 md:col-span-2"},Zs=["hidden"],zs={class:"mt-1"},Ks={key:0,class:"mt-3"},Ws=["src"],Ys={class:"text-red-700 dark:text-red-400 text-sm"},Js={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Gs={class:"col-span-3 md:col-span-1"},Hs=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Qs={class:"col-span-3 md:col-span-2"},Xs=(0,o.createElementVNode)("option",{value:"1"},"Identity Card",-1),$s=(0,o.createElementVNode)("option",{value:"2"},"Passport",-1),en=(0,o.createElementVNode)("option",{value:"3"},"Driving License",-1),tn=[Xs,$s,en],an={class:"text-red-700 dark:text-red-400 text-sm"},on={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},rn={class:"col-span-3 md:col-span-1"},ln=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),sn={class:"col-span-3 md:col-span-2"},nn=["readonly"],cn={class:"text-red-700 dark:text-red-400 text-sm"},dn={class:"grid grid-cols-3 gap-1 md:gap-4"},mn={class:"col-span-3 md:col-span-1"},un=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),pn={class:"col-span-3 md:col-span-2"},yn=["value"],gn={class:"text-red-700 dark:text-red-400 text-sm"},fn={class:"card"},vn={class:"title"},Nn=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),hn={class:"body"},En={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Vn={class:"col-span-3 md:col-span-1"},kn=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),wn={class:"col-span-3 md:col-span-2"},xn=(0,o.createElementVNode)("option",{value:""},"Select Income Source",-1),bn=["value"],Cn={key:0,class:"grid grid-cols-3 gap-1 md:gap-4"},Bn={class:"col-span-3 md:col-span-1"},Pn=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500"},"*",-1),Sn={class:"col-span-3 md:col-span-2"},Dn={class:"mt-4 text-right"},In={key:0,class:"mr-3"},An={key:0,class:"mr-3"};function Mn(e,t,a,r,l,s){const n=(0,o.resolveComponent)("litepie-datepicker"),c=(0,o.resolveComponent)("icon"),i=(0,o.resolveComponent)("j-button"),d=(0,o.resolveDirective)("tippy");return(0,o.openBlock)(),(0,o.createElementBlock)("form",{onSubmit:t[29]||(t[29]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",sr,[(0,o.createElementVNode)("h5",nr,(0,o.toDisplayString)(r.translate("account.kyc.account_type")),1),cr,(0,o.createElementVNode)("div",ir,[(0,o.createElementVNode)("div",dr,[(0,o.createElementVNode)("label",mr,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_account"))+" ",1),ur]),(0,o.createElementVNode)("div",pr,["0"===r.accountInfo.FinalVerification?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.BusinessAccount=t),class:"form-select w-full"},fr,512)),[[o.vModelSelect,e.form.BusinessAccount]]):(0,o.createCommentVNode)("",!0),"1"===r.accountInfo.FinalVerification?((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,value:"0"===e.form.BusinessAccount.toString()?"Personal":"Business",class:"form-input w-full",readonly:"",type:"text"},null,8,vr)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Nr,(0,o.toDisplayString)(r.showError(e.errorBag,"BusinessAccount")),1)])])])]),"1"===e.form.BusinessAccount?((0,o.openBlock)(),(0,o.createElementBlock)("div",hr,[(0,o.createElementVNode)("h5",Er,(0,o.toDisplayString)(r.translate("account.kyc.business_information")),1),Vr,(0,o.createElementVNode)("div",kr,[(0,o.createElementVNode)("div",wr,[(0,o.createElementVNode)("label",xr,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_name"))+" ",1),br]),(0,o.createElementVNode)("div",Cr,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.PayoutBankName=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Br),[[o.vModelText,e.form.PayoutBankName]]),(0,o.createElementVNode)("div",Pr,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankName")),1)])]),(0,o.createElementVNode)("div",Sr,[Dr,(0,o.createElementVNode)("div",Ir,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.PayoutBankLegalEntityIdentifier=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Ar),[[o.vModelText,e.form.PayoutBankLegalEntityIdentifier]]),(0,o.createElementVNode)("div",Mr,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankLegalEntityIdentifier")),1)])]),(0,o.createElementVNode)("div",Tr,[(0,o.createElementVNode)("label",Fr,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_address"))+" ",1),Ur]),(0,o.createElementVNode)("div",Lr,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.PayoutBankAddress=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,jr),[[o.vModelText,e.form.PayoutBankAddress]]),(0,o.createElementVNode)("div",qr,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankAddress")),1)])]),(0,o.createElementVNode)("div",Or,[(0,o.createElementVNode)("label",_r,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_postal_code"))+" ",1),Rr]),(0,o.createElementVNode)("div",Zr,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.PayoutBankPostalCode=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,zr),[[o.vModelText,e.form.PayoutBankPostalCode]]),(0,o.createElementVNode)("div",Kr,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankPostalCode")),1)])]),(0,o.createElementVNode)("div",Wr,[(0,o.createElementVNode)("label",Yr,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_city"))+" ",1),Jr]),(0,o.createElementVNode)("div",Gr,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.PayoutBankCity=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Hr),[[o.vModelText,e.form.PayoutBankCity]]),(0,o.createElementVNode)("div",Qr,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankCity")),1)])]),(0,o.createElementVNode)("div",Xr,[(0,o.createElementVNode)("label",$r,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_state"))+" ",1),el]),(0,o.createElementVNode)("div",tl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.form.PayoutBankState=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,al),[[o.vModelText,e.form.PayoutBankState]]),(0,o.createElementVNode)("div",ol,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankState")),1)])]),(0,o.createElementVNode)("div",rl,[(0,o.createElementVNode)("label",ll,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.business_country"))+" ",1),sl]),(0,o.createElementVNode)("div",nl,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:(0,o.normalizeClass)("form-select w-full "+("1"===r.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[7]||(t[7]=t=>e.form.PayoutBankCountry=t)},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.countries,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.code,value:e.code},(0,o.toDisplayString)(e.name),9,cl)))),128))],2),[[o.vModelSelect,e.form.PayoutBankCountry]]),(0,o.createElementVNode)("div",il,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBankCountry")),1)])])])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",dl,[(0,o.createElementVNode)("h5",ml,(0,o.toDisplayString)(r.translate("account.kyc.beneficiary_information")),1),ul,(0,o.createElementVNode)("div",pl,[(0,o.createElementVNode)("div",yl,[(0,o.createElementVNode)("label",gl,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.first_name"))+" ",1),fl]),(0,o.createElementVNode)("div",vl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.form.PayoutFirstName=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Nl),[[o.vModelText,e.form.PayoutFirstName]]),(0,o.createElementVNode)("div",hl,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutFirstName")),1)])]),(0,o.createElementVNode)("div",El,[(0,o.createElementVNode)("label",Vl,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.last_name"))+" ",1),kl]),(0,o.createElementVNode)("div",wl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.form.PayoutLastName=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,xl),[[o.vModelText,e.form.PayoutLastName]]),(0,o.createElementVNode)("div",bl,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutLastName")),1)])]),(0,o.createElementVNode)("div",Cl,[(0,o.createElementVNode)("label",Bl,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.full_name"))+" ",1),Pl]),(0,o.createElementVNode)("div",Sl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.form.PayoutFullName=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Dl),[[o.vModelText,e.form.PayoutFullName]]),(0,o.createElementVNode)("div",Il,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutFullName")),1)])]),(0,o.createElementVNode)("div",Al,[(0,o.createElementVNode)("label",Ml,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.birth_date"))+" ",1),Tl]),(0,o.createElementVNode)("div",Fl,["0"===r.accountInfo.FinalVerification?((0,o.openBlock)(),(0,o.createBlock)(n,{key:0,overlay:"","as-single":"",modelValue:e.form.PayoutBirthDate,"onUpdate:modelValue":t[11]||(t[11]=t=>e.form.PayoutBirthDate=t),formatter:{date:r.dateFormat,month:"MMM"}},null,8,["modelValue","formatter"])):(0,o.createCommentVNode)("",!0),"1"===r.accountInfo.FinalVerification?((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,value:e.form.PayoutBirthDate,class:"form-input w-full",readonly:"",type:"text"},null,8,Ul)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",Ll,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutBirthDate")),1)])])]),(0,o.createElementVNode)("div",jl,[(0,o.createElementVNode)("label",ql,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.pep"))+" ",1),Ol]),(0,o.createElementVNode)("div",_l,[(0,o.createElementVNode)("div",Rl,[(0,o.createElementVNode)("label",Zl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.form.PEP=t),disabled:"1"===r.accountInfo.FinalVerification,type:"radio",value:"1"},null,8,zl),[[o.vModelRadio,e.form.PEP]]),Kl]),(0,o.createElementVNode)("label",Wl,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.form.PEP=t),disabled:"1"===r.accountInfo.FinalVerification,type:"radio",value:"0"},null,8,Yl),[[o.vModelRadio,e.form.PEP]]),Jl])]),(0,o.createElementVNode)("div",Gl,(0,o.toDisplayString)(r.showError(e.errorBag,"PEP")),1)])]),(0,o.createElementVNode)("div",Hl,[(0,o.createElementVNode)("label",Ql,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.bank_address"))+" ",1),Xl]),(0,o.createElementVNode)("div",$l,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[14]||(t[14]=t=>e.form.payoutAddress=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,es),[[o.vModelText,e.form.payoutAddress]]),(0,o.createElementVNode)("div",ts,(0,o.toDisplayString)(r.showError(e.errorBag,"payoutAddress")),1)])]),(0,o.createElementVNode)("div",as,[(0,o.createElementVNode)("label",os,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.bank_postal_code"))+" ",1),rs]),(0,o.createElementVNode)("div",ls,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[15]||(t[15]=t=>e.form.payoutPostalCode=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,ss),[[o.vModelText,e.form.payoutPostalCode]]),(0,o.createElementVNode)("div",ns,(0,o.toDisplayString)(r.showError(e.errorBag,"payoutPostalCode")),1)])]),(0,o.createElementVNode)("div",cs,[(0,o.createElementVNode)("label",is,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.bank_city"))+" ",1),ds]),(0,o.createElementVNode)("div",ms,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[16]||(t[16]=t=>e.form.payoutCity=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,us),[[o.vModelText,e.form.payoutCity]]),(0,o.createElementVNode)("div",ps,(0,o.toDisplayString)(r.showError(e.errorBag,"payoutCity")),1)])]),(0,o.createElementVNode)("div",ys,[(0,o.createElementVNode)("label",gs,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.bank_state"))+" ",1),fs]),(0,o.createElementVNode)("div",vs,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[17]||(t[17]=t=>e.form.PayoutState=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,Ns),[[o.vModelText,e.form.PayoutState]]),(0,o.createElementVNode)("div",hs,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutState")),1)])]),(0,o.createElementVNode)("div",Es,[(0,o.createElementVNode)("label",Vs,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.bank_country"))+" ",1),ks]),(0,o.createElementVNode)("div",ws,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:(0,o.normalizeClass)("form-select w-full "+("1"===r.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[18]||(t[18]=t=>e.form.payoutCountry=t)},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.countries,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.code,value:e.code},(0,o.toDisplayString)(e.name),9,xs)))),128))],2),[[o.vModelSelect,e.form.payoutCountry]]),(0,o.createElementVNode)("div",bs,(0,o.toDisplayString)(r.showError(e.errorBag,"payoutCountry")),1)])])])]),(0,o.createElementVNode)("div",Cs,[(0,o.createElementVNode)("h5",Bs,(0,o.toDisplayString)(r.translate("account.kyc.beneficiary_identity_information")),1),Ps,(0,o.createElementVNode)("div",Ss,[(0,o.createElementVNode)("div",Ds,[Is,(0,o.createElementVNode)("div",As,[(0,o.createElementVNode)("input",{id:"passport",ref:"passportElm",hidden:"1"===r.accountInfo.FinalVerification,type:"file",onChange:t[19]||(t[19]=e=>r.uploadFile("passport"))},null,40,Ms),e.files.passport?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ts,[(0,o.createElementVNode)("img",{src:e.files.passport,alt:"",style:{"max-height":"70px"},onClick:t[20]||(t[20]=t=>r.fancyBox(e.files.passport))},null,8,Fs)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",Us,(0,o.toDisplayString)(r.showError(e.errorBag,"passport")),1)])])]),(0,o.createElementVNode)("div",Ls,[(0,o.createElementVNode)("div",js,[(0,o.createElementVNode)("div",qs,[Os,(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("span",_s,[(0,o.createVNode)(c,{name:"question-mark",classes:"w-5 h-5 text-yellow-500"})])),[[d,{content:r.selfieWithIDTooltip}]])])]),(0,o.createElementVNode)("div",Rs,[(0,o.createElementVNode)("input",{ref:"avatarElm",hidden:"1"===r.accountInfo.FinalVerification,type:"file",onChange:t[21]||(t[21]=e=>r.uploadFile("avatar"))},null,40,Zs),(0,o.createElementVNode)("p",zs,(0,o.toDisplayString)(r.translate("account.kyc.profile_image_help")),1),e.files.avatar?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ks,[(0,o.createElementVNode)("img",{src:e.files.avatar,alt:"",style:{"max-height":"70px"},onClick:t[22]||(t[22]=t=>r.fancyBox(e.files.avatar))},null,8,Ws)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Ys,(0,o.toDisplayString)(r.showError(e.errorBag,"avatar")),1)])]),(0,o.createElementVNode)("div",Js,[(0,o.createElementVNode)("label",Gs,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.identity_type"))+" ",1),Hs]),(0,o.createElementVNode)("div",Qs,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:(0,o.normalizeClass)("form-select w-full "+("1"===r.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[23]||(t[23]=t=>e.form.PayoutIdentityType=t)},tn,2),[[o.vModelSelect,e.form.PayoutIdentityType]]),(0,o.createElementVNode)("div",an,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutIdentityType")),1)])]),(0,o.createElementVNode)("div",on,[(0,o.createElementVNode)("label",rn,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.identity_number"))+" ",1),ln]),(0,o.createElementVNode)("div",sn,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[24]||(t[24]=t=>e.form.PayoutIdentityCardNr=t),readonly:"1"===r.accountInfo.FinalVerification,class:"form-input w-full",type:"text"},null,8,nn),[[o.vModelText,e.form.PayoutIdentityCardNr]]),(0,o.createElementVNode)("div",cn,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutIdentityCardNr")),1)])]),(0,o.createElementVNode)("div",dn,[(0,o.createElementVNode)("label",mn,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.identity_country"))+" ",1),un]),(0,o.createElementVNode)("div",pn,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:(0,o.normalizeClass)("form-select w-full "+("1"===r.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[25]||(t[25]=t=>e.form.PayoutIdentityCountry=t)},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.countries,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.code,value:e.code},(0,o.toDisplayString)(e.name),9,yn)))),128))],2),[[o.vModelSelect,e.form.PayoutIdentityCountry]]),(0,o.createElementVNode)("div",gn,(0,o.toDisplayString)(r.showError(e.errorBag,"PayoutIdentityCountry")),1)])])])]),(0,o.createElementVNode)("div",fn,[(0,o.createElementVNode)("h5",vn,(0,o.toDisplayString)(r.translate("account.kyc.income_source")),1),Nn,(0,o.createElementVNode)("div",hn,[(0,o.createElementVNode)("div",En,[(0,o.createElementVNode)("label",Vn,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.income_source"))+" ",1),kn]),(0,o.createElementVNode)("div",wn,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:(0,o.normalizeClass)("form-select w-full "+("1"===r.accountInfo.FinalVerification?"pointer-events-none":"")),"onUpdate:modelValue":t[26]||(t[26]=t=>e.incomeSource.source=t)},[xn,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.incomeSources,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:t,value:e},(0,o.toDisplayString)(e),9,bn)))),128))],2),[[o.vModelSelect,e.incomeSource.source]])])]),"other"===e.incomeSource.source.toLowerCase()?((0,o.openBlock)(),(0,o.createElementBlock)("div",Cn,[(0,o.createElementVNode)("label",Bn,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.kyc.income_detail"))+" ",1),Pn]),(0,o.createElementVNode)("div",Sn,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{"onUpdate:modelValue":t[27]||(t[27]=t=>e.incomeSource.detail=t),class:"form-select w-full",rows:"3"},null,512),[[o.vModelText,e.incomeSource.detail]])])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",Dn,[(0,o.createVNode)(i,{disabled:e.isProcessing,buttonStyle:"danger",type:"button",onClick:t[28]||(t[28]=e=>r.removeAccount())},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",In,[(0,o.createVNode)(c,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.kyc.remove_account")),1)])),_:1},8,["disabled"]),(0,o.createVNode)(i,{disabled:e.isProcessing||"1"===r.accountInfo.FinalVerification||!r.isProvidedIncomeSource,class:"ml-3"},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",An,[(0,o.createVNode)(c,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)}var Tn=a(7377),Fn=a(2665),Un=a(8),Ln={name:"Kyc",components:{LitepieDatepicker:Tn.Z,Icon:N.Z,JButton:Ae.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("http"),a=(0,o.inject)("toast"),r=(0,o.inject)("swal"),l=(0,Fe.oR)(),s=(0,wa.tv)(),{cookies:n}=(0,Fn.fP)(),{validate:c,showError:i}=(0,Le.Z)(),{saveNotification:d,fancyBox:m}=(0,qe.Z)(),u=(0,o.computed)((()=>l.state.accountInfo)),p=(0,o.computed)((()=>l.state.user)),y=(0,o.computed)((()=>l.state.countries.filter((e=>""!==e.code)))),g=(0,o.computed)((()=>{let e="YYYY/MM/DD";const t=l.state.locale;if(t)switch(t.toLowerCase()){case"en":e="MM/DD/YYYY";break;case"de":e="MM.DD.YYYY";break;case"es":case"it":case"fr":case"pt":e="DD/MM/YYYY";break;case"ru":e="DD.MM.YYYY";break;case"nl":e="DD-MM-YYYY";break;case"cn":e="YYYY-MM-DD";break;default:break}return e})),f=(0,o.computed)((()=>"\n        <div class='img-container-tooltip'><img style='width:300px' src='/help_placeholder.png' alt='Image'/></div>\n      ")),v=(0,o.computed)((()=>{let e=!0;return(""===E.incomeSource.source||"other"===E.incomeSource.source.toLowerCase()&&""===E.incomeSource.detail)&&(e=!1),e})),N=(0,o.ref)(null),h=(0,o.ref)(null),E=(0,o.reactive)({form:{BusinessAccount:"",PayoutBankName:"",PayoutBankLegalEntityIdentifier:"",PayoutBankAddress:"",PayoutBankPostalCode:"",PayoutBankCity:"",PayoutBankState:"",PayoutBankCountry:"",PayoutFullName:"",PayoutBirthDate:"",PEP:"",PayoutFirstName:"",PayoutLastName:"",payoutAddress:"",payoutPostalCode:"",payoutCity:"",PayoutState:"",payoutCountry:"",PayoutIdentityCardNr:"",PayoutIdentityType:"",PayoutIdentityCountry:""},files:{passport:"",avatar:""},filesCall:"INSERT",incomeSources:["Salary","Savings","Gifts","Inherited","Other"],incomeSource:{source:"",detail:""},incomeSourceAction:"INSERT",errorBag:{},rules:{BusinessAccount:["required"],PayoutBankName:["required_if:BusinessAccount,1"],PayoutBankAddress:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankPostalCode:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankCity:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankState:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutBankCountry:["required_if:BusinessAccount,1","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutFullName:["required"],PayoutBirthDate:["required"],PEP:["required"],PayoutFirstName:["required"],PayoutLastName:["required"],payoutAddress:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],payoutPostalCode:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],payoutCity:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],PayoutState:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],payoutCountry:["required","regex:/^[:/0-9a-zA-Z-,.!@#$^&_*/=+?| ]+$/"],passport:["required"],avatar:["required"],PayoutIdentityCardNr:["required"],PayoutIdentityType:["required"],PayoutIdentityCountry:["required"]},messages:{BusinessAccount:{required:"Please select your account type"},PayoutBankName:{required:"Business name is required"},PayoutBankAddress:{required:"Business address is required",regex:"Please provide a valid business address"},PayoutBankPostalCode:{required:"Business postal code is required",regex:"Please provide a valid business postal code"},PayoutBankCity:{required:"Business city is required",regex:"Please provide a valid business city"},PayoutBankState:{required:"Business state is required",regex:"Please provide a valid business state"},PayoutBankCountry:{required:"Business country is required",regex:"Please provide a valid business country"},PayoutFirstName:{required:"First name is required"},PayoutLastName:{required:"Last name is required"},PayoutFullName:{required:"Beneficiary full name is required"},PayoutBirthDate:{required:"Beneficiary birth date is required",date_format:"Please provide date in format "+g.value},PEP:{required:"Please select one the options"},payoutAddress:{required:"Beneficiary address is required",regex:"Please provide a valid beneficiary address"},payoutPostalCode:{required:"Postal code is required",regex:"Please provide a valid postal code"},payoutCity:{required:"City is required",regex:"Please provide a valid city name"},PayoutState:{required:"State is required",regex:"Please provide a valid state name"},payoutCountry:{required:"Country is required",regex:"Please provide a valid country name"},passport:{required:"Passport is required"},avatar:{required:"A selfie of you holding the Photo ID incl. date and nick/username is required"},PayoutIdentityCardNr:{required:"Identity card number is required"},PayoutIdentityType:{required:"Identity type is required"},PayoutIdentityCountry:{required:"Identity issue country is required"}},isProcessing:!1});(0,o.watch)((()=>({...E.form})),((e,t)=>{Object.keys(E.errorBag).length>0&&(E.errorBag=c(e,E.rules,E.messages))}));const V="https://app.cointopay.com",k=()=>{const e={POSDATA:"",Call:"SHOW",KeyData:"FILES_"+u.value.ID,MerchantID:u.value.ID,APIKey:u.value.APIkey,output:"json"};t.get(`${V}/MarketAPI`,{params:e}).then((e=>{E.isProcessing=!1,"nothing found"!==e.data&&("undefined"===typeof e.data.avatar?E.files={passport:"",avatar:""}:(E.files=e.data,E.form.avatar=E.files.avatar,E.form.passport=E.files.passport,E.filesCall="UPDATE"))})).catch((e=>{E.isProcessing=!0,console.log(e.response)}))},w=e=>{const o="passport"===e?N.value.files:h.value.files;if(o.length>0){const r=o[0];if(r.type.startsWith("image/")){const a=new FormData;a.append("files123",r),a.append("MerchantID",u.value.ID),a.append("secure",!0),t.post(`${V}/MarketAPI?POSBLOB`,a,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(200===a.status){let o="";const r=E.filesCall;if("UPDATE"===r){const t={...E.files};let a="passport"===e?t.passport:t.avatar;a=a.split("ID="),o=a[a.length-1]}"passport"===e?E.files.passport=a.data:E.files.avatar=a.data,N.value.value="",h.value.value="";const l={POSDATA:"",Call:r,KeyData:"FILES_"+u.value.ID,ValueData:JSON.stringify(E.files),MerchantID:u.value.ID,APIKey:u.value.APIkey,output:"json"};t.get(`${V}/MarketAPI`,{params:l}).then((e=>{E.isProcessing=!0,E.filesCall="UPDATE",o&&t.get(`${V}/MarketAPI?POSBLOB`,{params:{MerchantID:u.value.ID,secure:!0,secureString:o}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)})),k()})).catch((e=>{E.isProcessing=!1,console.log(e.response)}))}})).catch((e=>{console.log(e)}))}else N.value.value="",h.value.value="",a.error("Please provide a valid image file")}},x=()=>{t.get(`${V}/MarketAPI`,{params:{POSDATA:"",Call:"SHOW",KeyData:u.value.ID+"_kyc",MerchantID:u.value.ID,APIKey:u.value.APIkey}}).then((e=>{"nothing found"===e.data?(E.incomeSourceAction="INSERT",E.incomeSource={source:"",detail:""}):(E.incomeSourceAction="UPDATE",E.incomeSource=e.data)})).catch((e=>{console.log(e)}))},b=()=>{const e=new FormData;e.append("Call",E.incomeSourceAction),e.append("KeyData",u.value.ID+"_kyc"),e.append("ValueData",JSON.stringify(E.incomeSource)),e.append("MerchantID",u.value.ID),e.append("APIKey",u.value.APIkey),e.append("output","json"),t.post(`${V}/MarketAPI?POSDATA`,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{200===e.status&&(E.incomeSourceAction="UPDATE")})).catch((e=>{console.log(e)}))},C=()=>{if(E.errorBag=c(E.form,E.rules,E.messages),0===Object.keys(E.errorBag).length&&(E.isProcessing=!0,b(),u.value)){const e={...u.value,BusinessAccount:E.form.BusinessAccount,PayoutBankName:E.form.PayoutBankName,PayoutBankLegalEntityIdentifier:E.form.PayoutBankLegalEntityIdentifier,PayoutBankAddress:E.form.PayoutBankAddress,PayoutBankPostalCode:E.form.PayoutBankPostalCode,PayoutBankCity:E.form.PayoutBankCity,PayoutBankState:E.form.PayoutBankState,PayoutBankCountry:E.form.PayoutBankCountry,PayoutFirstName:E.form.PayoutFirstName,PayoutLastName:E.form.PayoutLastName,PayoutFullName:E.form.PayoutFullName,PayoutBirthDate:E.form.PayoutBirthDate,PEP:E.form.PEP,PayoutAddress:E.form.payoutAddress,PayoutPostalCode:E.form.payoutPostalCode,PayoutCity:E.form.payoutCity,PayoutState:E.form.PayoutState,PayoutCountry:E.form.payoutCountry,PayoutIdentityType:E.form.PayoutIdentityType,PayoutIdentityCardNr:E.form.PayoutIdentityCardNr,PayoutIdentityCountry:E.form.PayoutIdentityCountry};l.dispatch(je.CH,e).then((e=>{E.isProcessing=!1,200===e.status&&(a.success("KYC/AML settings updated successfully"),d("KYC/AML settings updated successfully"))})).catch((e=>{E.isProcessing=!1,a.error(e.data.message),d(e.data.message)}))}},B=()=>{r.fire({text:"You want your right to be forgotten executed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No",focusCancel:!0}).then((({dismiss:e})=>{if("cancel"!==e){E.isProcessing=!0;const e={Call:"DisableAccount",MerchantID:p.value.ID,APIKey:p.value.APIKey,output:"json"};l.dispatch(je.pW,e).then((e=>{if(200===e.status){const t=e.data.message;l.dispatch(je.Nv,p.value.SessionID).then((e=>{"success"===e.toLowerCase()&&(n.remove("JSESSIONID"),a.warning(t),d(t),s.push("/"))})).catch((e=>{console.log(e)}))}})).catch((e=>{E.isProcessing=!1,a.error(e.data.message),d(e.data.message)}))}}))};return(0,o.onBeforeMount)((()=>{E.form={BusinessAccount:u.value.BusinessAccount,PayoutBankName:u.value.PayoutBankName,PayoutBankLegalEntityIdentifier:u.value.PayoutBankLegalEntityIdentifier,PayoutBankAddress:u.value.PayoutBankAddress,PayoutBankPostalCode:u.value.PayoutBankPostalCode,PayoutBankCity:u.value.PayoutBankCity,PayoutBankState:u.value.PayoutBankState,PayoutBankCountry:u.value.PayoutBankCountry,PayoutFirstName:null===u.value.PayoutFirstName?"":u.value.PayoutFirstName,PayoutLastName:null===u.value.PayoutLastName?"":u.value.PayoutLastName,PayoutFullName:null===u.value.PayoutFullName?"":u.value.PayoutFullName,PayoutBirthDate:Un.tz(new Date(u.value.PayoutBirthDate),"Atlantic/Azores").format(g.value),PEP:u.value.PEP,payoutAddress:u.value.PayoutAddress,payoutPostalCode:u.value.PayoutPostalCode,payoutCity:u.value.PayoutCity,PayoutState:null!==u.value.PayoutState?u.value.PayoutState:"",payoutCountry:u.value.PayoutCountry,PayoutIdentityType:null===u.value.PayoutIdentityType?"":u.value.PayoutIdentityType,PayoutIdentityCardNr:null===u.value.PayoutIdentityCardNr?"":u.value.PayoutIdentityCardNr,PayoutIdentityCountry:null===u.value.PayoutIdentityCountry?"":u.value.PayoutIdentityCountry},k(),x()})),{translate:e,...(0,o.toRefs)(E),passportElm:N,avatarElm:h,dateFormat:g,selfieWithIDTooltip:f,isProvidedIncomeSource:v,accountInfo:u,countries:y,showError:i,uploadFile:w,submit:C,removeAccount:B,fancyBox:m}}};const jn=(0,g.Z)(Ln,[["render",Mn]]);var qn=jn,On=a.p+"assets/img/shopify-brands.68aab657.svg";const _n=e=>((0,o.pushScopeId)("data-v-36234698"),e=e(),(0,o.popScopeId)(),e),Rn={class:"card"},Zn=_n((()=>(0,o.createElementVNode)("h5",{class:"title"},"Cointopay Shopping Carts",-1))),zn=_n((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),Kn={class:"body"},Wn={class:"flex flex-wrap justify-center gap-1 md:gap-2"},Yn=["href"],Jn=["src"],Gn=["href"],Hn={class:"card"},Qn=_n((()=>(0,o.createElementVNode)("h5",{class:"title"},"Configure Shopify Settings",-1))),Xn=_n((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),$n={class:"body"},ec={class:"flex items-center mb-4"},tc=_n((()=>(0,o.createElementVNode)("img",{alt:"Shopify",class:"cursor-pointer",src:On,style:{width:"60px"}},null,-1))),ac=[tc],oc=_n((()=>(0,o.createElementVNode)("a",{class:"ml-4",href:"https://cointopay.freshdesk.com/support/solutions/articles/13000078242-shopify-integration-guide",target:"_blank"},"Shopify integration guide",-1))),rc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},lc={class:"col-span-3 md:col-span-1 mb-1"},sc=_n((()=>(0,o.createElementVNode)("a",{href:"https://www.shopify.com/",target:"_blank"},"Shopify",-1))),nc={class:"ml-3"},cc={class:"col-span-3 md:col-span-2"},ic={class:"text-blue-500 text-sm"},dc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},mc={class:"col-span-3 md:col-span-1 mb-1"},uc={class:"col-span-3 md:col-span-2"},pc={class:"text-blue-500 text-sm"},yc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},gc={class:"col-span-3 md:col-span-1 mb-1"},fc={class:"col-span-3 md:col-span-2"},vc={class:"text-blue-500 text-sm"},Nc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},hc={class:"col-span-3 md:col-span-1 mb-1",for:"script"},Ec={class:"col-span-3 md:col-span-2"},Vc=_n((()=>(0,o.createElementVNode)("p",{class:"help text-xs"},"Paste under: Settings - Checkout - Additional content and scripts",-1))),kc={class:"mt-4 text-right"},wc={key:0,class:"mr-3"};function xc(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button"),i=(0,o.resolveDirective)("tippy");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",Rn,[Zn,zn,(0,o.createElementVNode)("div",Kn,[(0,o.createElementVNode)("div",Wn,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.cartsList,((e,t)=>(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"w-28 h-28 p-2 shadow rounded-md flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-700",key:t},[(0,o.createElementVNode)("a",{class:"text-sm dark:text-gray-100 break-all",href:e.url,target:"_blank"},[(0,o.createElementVNode)("img",{class:"h-8 mb-2 mx-auto object-contain",src:e.icon,alt:""},null,8,Jn)],8,Yn),(0,o.createElementVNode)("a",{class:"text-sm dark:text-gray-100 break-all",href:e.url,target:"_blank"},(0,o.toDisplayString)(e.name),9,Gn)])),[[i,{content:e.name}]]))),128))])])]),(0,o.createElementVNode)("div",Hn,[Qn,Xn,(0,o.createElementVNode)("div",$n,[(0,o.createElementVNode)("div",ec,[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("button",{onClick:t[0]||(t[0]=t=>e.isShopify=!e.isShopify)},ac)),[[i,"Configure Shopify Settings"]]),oc]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)({hidden:!e.isShopify})},[(0,o.createElementVNode)("form",{onSubmit:t[6]||(t[6]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",rc,[(0,o.createElementVNode)("label",lc,[sc,(0,o.createElementVNode)("span",nc,(0,o.toDisplayString)(r.translate("account.shopping_cart.shopify_api")),1)]),(0,o.createElementVNode)("div",cc,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.shopifyApiKey=t)},null,512),[[o.vModelText,e.form.shopifyApiKey]]),(0,o.createElementVNode)("div",ic,(0,o.toDisplayString)(r.showError(e.errorBag,"shopifyApiKey")),1)])]),(0,o.createElementVNode)("div",dc,[(0,o.createElementVNode)("label",mc,(0,o.toDisplayString)(r.translate("account.shopping_cart.shopify_password")),1),(0,o.createElementVNode)("div",uc,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.shopifyPassword=t)},null,512),[[o.vModelText,e.form.shopifyPassword]]),(0,o.createElementVNode)("div",pc,(0,o.toDisplayString)(r.showError(e.errorBag,"shopifyPassword")),1)])]),(0,o.createElementVNode)("div",yc,[(0,o.createElementVNode)("label",gc,(0,o.toDisplayString)(r.translate("account.shopping_cart.shopify_url"))+" ",1),(0,o.createElementVNode)("div",fc,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-input w-full",type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.shopifyUrl=t)},null,512),[[o.vModelText,e.form.shopifyUrl]]),(0,o.createElementVNode)("div",vc,(0,o.toDisplayString)(r.showError(e.errorBag,"shopifyUrl")),1)])]),(0,o.createElementVNode)("div",Nc,[(0,o.createElementVNode)("label",hc,(0,o.toDisplayString)(r.translate("account.shopping_cart.shopify_script")),1),(0,o.createElementVNode)("div",Ec,[(0,o.createElementVNode)("p",{onClick:t[4]||(t[4]=e=>r.generateScript()),class:"mb-0 cursor-pointer"},"Generate Script"),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-input w-full",id:"script",rows:"3","onUpdate:modelValue":t[5]||(t[5]=t=>e.script=t)},null,512),[[o.vModelText,e.script]]),Vc])]),(0,o.createElementVNode)("div",kc,[(0,o.createVNode)(c,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",wc,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)],2)])])],64)}var bc={name:"ShoppingCart",components:{JButton:Ae.Z,Icon:N.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("toast"),a=(0,Fe.oR)(),{validate:r,showError:l}=(0,Le.Z)(),{saveNotification:s}=(0,qe.Z)(),n=(0,o.reactive)({isShopify:!1,carts:[{name:"Wordpress WooCommerce",url:"https://github.com/Cointopay/Wordpress-WooCommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/woocommerce.png"},{name:"Opencart-2.x",url:"https://github.com/Cointopay/Opencart-2.x",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"OSCommerce",url:"https://github.com/Cointopay/OSCommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/oscommerce.png"},{name:"CS-Cart",url:"https://github.com/Cointopay/CS-Cart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/cscart.png"},{name:"Joomla-Virtuemart",url:"https://github.com/Cointopay/Joomla-Virtuemart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/joomla.png"},{name:"Magento1.9",url:"https://github.com/Cointopay/Magento1.9",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/Magento.png"},{name:"Magento",url:"https://github.com/Cointopay/Magento",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/Magento.png"},{name:"Opencart-3x",url:"https://github.com/Cointopay/Opencart-3x",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"Prestashop",url:"https://github.com/Cointopay/Prestashop",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/prestashop.png"},{name:"Ecwid",url:"https://github.com/Cointopay/ecwid",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/ecwid.png"},{name:"Opencart2x-refresh",url:"https://github.com/Cointopay/Opencart2x-refresh",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"WooCommerce-Marketplace",url:"https://github.com/Cointopay/WooCommerce-Marketplace",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/woocommerce.png"},{name:"BoxBilling",url:"https://github.com/Cointopay/BoxBilling",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/boxbilling.jpg"},{name:"TomatoCart",url:"https://github.com/Cointopay/TomatoCart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/tomatocart.png"},{name:"Odoo",url:"https://github.com/Cointopay/Odoo",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/odoo.png"},{name:"Coinpress.club-API-docs-and-requests",url:"https://github.com/Cointopay/Coinpress.club-API-docs-and-requests",icon:"https://avatars1.githubusercontent.com/u/8329602?s=460&u=4ca1dac5506a266f751a27dd8c91bf607e6b4129&v=4"},{name:"WordPress-EasyDigitalDownloads",url:"https://github.com/Cointopay/WordPress-EasyDigitalDownloads",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/wordpressecommerce.jpg"},{name:"WordPressEcommerce",url:"https://github.com/Cointopay/WordPressEcommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/wordpressecommerce.jpg"},{name:"Blesta",url:"https://github.com/Cointopay/Blesta",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/blesta.png"},{name:"Ubercart",url:"https://github.com/Cointopay/Ubercart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/ubercart.png"},{name:"Zencart",url:"https://github.com/Cointopay/Zencart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/zencart.png"},{name:"DrupalCommerce",url:"https://github.com/Cointopay/DrupalCommerce",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/drupalcommerce.png"},{name:"X-Cart",url:"https://github.com/Cointopay/X-Cart",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/xcart.png"},{name:"Wordpress-MembershipPro",url:"https://github.com/Cointopay/Wordpress-MembershipPro",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/membershippro.jpg"},{name:"Arastta",url:"https://github.com/Cointopay/Arastta",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/arastta.png"},{name:"WHMCS",url:"https://github.com/Cointopay/WHMCS",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/whmcs.jpg"},{name:"Opencart-1.5.6",url:"https://github.com/Cointopay/Opencart-1.5.6",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"Opencart-2.3",url:"https://github.com/Cointopay/Opencart-2.3",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"},{name:"Opencart-2.2",url:"https://github.com/Cointopay/Opencart-2.2",icon:"https://s3-eu-west-1.amazonaws.com/cointopay/pics/opencart.png"}],script:"",form:{shopifyApiKey:"",shopifyPassword:"",shopifyUrl:"",ecwidShopID:0},errorBag:{},rules:{shopifyUrl:["url"]},isProcessing:!1}),c=(0,o.computed)((()=>a.state.accountInfo)),i=(0,o.computed)((()=>zt.sortBy(n.carts,["name"])));(0,o.watch)((()=>({...n.form})),((e,t)=>{Object.keys(n.errorBag).length>0&&(n.errorBag=r(e,n.rules))}));const d=()=>{const e=n.form.shopifyUrl.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g);e?n.script=`{% if order.financial_status == 'paid' %}\n        <p>This order {{ order.order_number }} has been set to status paid already by the merchant.</p>\n        {% else %}\n        <p><iframe id="iCOINTOPAY" src="https://cointopay.com/SHOPIFYv2?Continue&TransactionID={{ checkout.order_id }}&url=${n.form.shopifyUrl}" style="width: 100%; height: 565px; border: 0;"></iframe></p>\n        {% endif %}`:t.error("Please enter a valid shopify url")},m=()=>{if(n.errorBag=r(n.form,n.rules),0===Object.keys(n.errorBag).length&&c.value){n.isProcessing=!0;const e={...c.value,ShopifyAPIKey:n.form.shopifyApiKey?n.form.shopifyApiKey:null,ShopifyPassword:n.form.shopifyPassword?n.form.shopifyPassword:null,ShopifyURL:n.form.shopifyUrl?n.form.shopifyUrl:"https://your-url-input.com",ECWID:n.form.ecwidShopID?n.form.ecwidShopID:0};a.dispatch(je.CH,e).then((e=>{n.isProcessing=!1,200===e.status&&(t.success("Shopping carts settings updated successfully"),s("Shopping carts settings updated successfully"))})).catch((e=>{n.isProcessing=!1,t.error(e.data.message),s(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{c.value&&(n.form={shopifyApiKey:c.value.ShopifyAPIKey,shopifyPassword:c.value.ShopifyPassword,shopifyUrl:c.value.ShopifyURL,ecwidShopID:c.value.ECWID})})),{translate:e,...(0,o.toRefs)(n),showError:l,cartsList:i,generateScript:d,submit:m}}};const Cc=(0,g.Z)(bc,[["render",xc],["__scopeId","data-v-36234698"]]);var Bc=Cc;const Pc={class:"card"},Sc={class:"title"},Dc=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Ic={class:"body"},Ac={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Mc={class:"col-span-3 md:col-span-1"},Tc=(0,o.createElementVNode)("span",{class:"text-red-500 text-sm"},"*",-1),Fc={class:"col-span-3 md:col-span-2"},Uc={class:"text-red-500 text-sm"},Lc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},jc={class:"col-span-3 md:col-span-1"},qc=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500 text-sm"},"*",-1),Oc={class:"col-span-3 md:col-span-2"},_c={class:"text-xs whitespace-normal break-all"},Rc={class:"text-red-500 text-sm"},Zc={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},zc={class:"col-span-3 md:col-span-1"},Kc=(0,o.createElementVNode)("span",{class:"ml-1 text-red-500 text-sm"},"*",-1),Wc={class:"col-span-3 md:col-span-2"},Yc=(0,o.createElementVNode)("option",{value:"0"},"Disable",-1),Jc=(0,o.createElementVNode)("option",{value:"1"},"Enable",-1),Gc=[Yc,Jc],Hc={class:"text-red-500 text-sm"},Qc={class:"mt-4 text-right"},Xc={key:0,class:"mr-3"};function $c(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("j-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",Pc,[(0,o.createElementVNode)("h5",Sc,(0,o.toDisplayString)(r.translate("account.menu.payments")),1),Dc,(0,o.createElementVNode)("div",Ic,[(0,o.createElementVNode)("form",{onSubmit:t[3]||(t[3]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",Ac,[(0,o.createElementVNode)("label",Mc,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payment_urls.confirm"))+" ",1),Tc]),(0,o.createElementVNode)("div",Fc,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.transactionSuccessUrl=t)},null,512),[[o.vModelText,e.form.transactionSuccessUrl]]),(0,o.createElementVNode)("div",Uc,(0,o.toDisplayString)(r.showError(e.errorBag,"transactionSuccessUrl")),1)])]),(0,o.createElementVNode)("div",Lc,[(0,o.createElementVNode)("label",jc,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.payment_urls.fail"))+" ",1),qc]),(0,o.createElementVNode)("div",Oc,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.transactionFailUrl=t)},null,512),[[o.vModelText,e.form.transactionFailUrl]]),(0,o.createElementVNode)("p",_c,(0,o.toDisplayString)(r.translate("account.payment_urls.description")),1),(0,o.createElementVNode)("div",Rc,(0,o.toDisplayString)(r.showError(e.errorBag,"transactionFailUrl")),1)])]),(0,o.createElementVNode)("div",Zc,[(0,o.createElementVNode)("label",zc,[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.email_notifications"))+" ",1),Kc]),(0,o.createElementVNode)("div",Wc,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select w-full","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.Emailnotifications=t)},Gc,512),[[o.vModelSelect,e.form.Emailnotifications]]),(0,o.createElementVNode)("div",Hc,(0,o.toDisplayString)(r.showError(e.errorBag,"Emailnotifications")),1)])]),(0,o.createElementVNode)("div",Qc,[(0,o.createVNode)(c,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",Xc,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)])])}var ei={name:"PaymentUrls",components:{JButton:Ae.Z,Icon:N.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("toast"),a=(0,Fe.oR)(),{validate:r,showError:l}=(0,Le.Z)(),{saveNotification:s}=(0,qe.Z)(),n=(0,o.reactive)({form:{transactionSuccessUrl:"",transactionFailUrl:"",Emailnotifications:"0"},errorBag:{},rules:{transactionSuccessUrl:["required"],transactionFailUrl:["required"],Emailnotifications:["required"]},isProcessing:!1}),c=(0,o.computed)((()=>a.state.accountInfo));(0,o.watch)((()=>({...n.form})),((e,t)=>{Object.keys(n.errorBag).length>0&&(n.errorBag=r(e,n.rules))}));const i=e=>"null"===e||null===e?"":e,d=()=>{if(n.errorBag=r(n.form,n.rules),0===Object.keys(n.errorBag).length&&c.value){const e={...c.value};e.TransactionConfirmURL=n.form.transactionSuccessUrl,e.TransactionFailURL=n.form.transactionFailUrl,e.Emailnotifications=n.form.Emailnotifications,n.isProcessing=!0,a.dispatch(je.CH,e).then((e=>{n.isProcessing=!1,200===e.status&&(t.success("Payment urls updated successfully"),s("Payment urls updated successfully"))})).catch((e=>{n.isProcessing=!1,t.error(e.data.message),s(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{n.form={transactionSuccessUrl:i(c.value.TransactionConfirmURL),transactionFailUrl:i(c.value.TransactionFailURL),Emailnotifications:c.value.Emailnotifications}})),{translate:e,...(0,o.toRefs)(n),showError:l,submit:d}}};const ti=(0,g.Z)(ei,[["render",$c]]);var ai=ti;const oi=e=>((0,o.pushScopeId)("data-v-78431bb0"),e=e(),(0,o.popScopeId)(),e),ri={class:"card"},li=oi((()=>(0,o.createElementVNode)("h5",{class:"title"},"Fees paid by",-1))),si=oi((()=>(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1))),ni={class:"body"},ci={class:"flex"},ii={class:"mr-4 flex items-center"},di=["checked"],mi=oi((()=>(0,o.createElementVNode)("span",{class:"ml-2"},"Merchant",-1))),ui={class:"mr-4 flex items-center"},pi=["checked"],yi=oi((()=>(0,o.createElementVNode)("span",{class:"ml-2"},"Customer",-1))),gi={class:"flex items-center"},fi=["checked"],vi=oi((()=>(0,o.createElementVNode)("span",{class:"ml-2"},"Shared",-1))),Ni={class:"card"},hi={class:"body"},Ei=oi((()=>(0,o.createElementVNode)("p",null,"A fee of 1.0102 percent is added to each incoming transaction.",-1))),Vi={class:"flex items-center"},ki=oi((()=>(0,o.createElementVNode)("p",null,"Lifetime member status:",-1))),wi=["innerHTML"],xi={class:"mt-2"};function bi(e,t,a,r,l,s){const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",ri,[li,si,(0,o.createElementVNode)("div",ni,[(0,o.createElementVNode)("div",ci,[(0,o.createElementVNode)("label",ii,[(0,o.createElementVNode)("input",{checked:r.isChecked(1),onClick:t[0]||(t[0]=e=>r.payFee(1)),name:"fee",type:"radio",value:"1"},null,8,di),mi]),(0,o.createElementVNode)("label",ui,[(0,o.createElementVNode)("input",{checked:r.isChecked(2),onClick:t[1]||(t[1]=e=>r.payFee(2)),name:"fee",type:"radio",value:"2"},null,8,pi),yi]),(0,o.createElementVNode)("label",gi,[(0,o.createElementVNode)("input",{checked:r.isChecked(3),onClick:t[2]||(t[2]=e=>r.payFee(3)),name:"fee",type:"radio",value:"3"},null,8,fi),vi])])])]),(0,o.createElementVNode)("div",Ni,[(0,o.createElementVNode)("div",hi,[Ei,(0,o.createElementVNode)("div",Vi,[ki,(0,o.createElementVNode)("div",{innerHTML:r.getStatus},null,8,wi)]),(0,o.createElementVNode)("div",xi,[(0,o.createVNode)(n,{tag:"a",to:"/webshop-overview"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.billing.overview_confirmed_transactions")),1)])),_:1})])])])],64)}var Ci={name:"Billing",setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("http"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),{saveNotification:l}=(0,qe.Z)(),s=(0,o.ref)(0),n=(0,o.computed)((()=>r.state.accountInfo)),c=(0,o.computed)((()=>{const e=-1===s.value?"bg-red-700 dark:bg-red-500":"bg-green-500",t=-1===s.value?"false":"true";return`<label class="ml-3 text-white text-sm px-2 py-1 rounded ${e}">${t}</label>`})),i=e=>Number(n.value.FeesPaidBy)===e,d=e=>{const o="https://app.cointopay.com",r={Call:"FeesPaid",Type:e,MerchantID:n.value.ID,APIKey:n.value.APIkey,output:"json"};t.get(`${o}/v2REAPI`,{params:r}).then((e=>{200===e.data.status_code&&(a.success(e.data.message),l(e.data.message))})).catch((e=>{a.error(e.data.message),l(e.data.message)}))};return(0,o.onBeforeMount)((()=>{n.value&&(s.value=Number(n.value.LifetimeMember))})),{translate:e,isChecked:i,payFee:d,getStatus:c}}};const Bi=(0,g.Z)(Ci,[["render",bi],["__scopeId","data-v-78431bb0"]]);var Pi=Bi;const Si={class:"card"},Di={class:"title"},Ii=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Ai={class:"body text-center"},Mi={class:"card"},Ti={class:"title"},Fi=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),Ui={class:"body"},Li={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ji=(0,o.createElementVNode)("label",{for:"avatar",class:"col-span-3 md:col-span-1"},"POS Logo",-1),qi={class:"col-span-3 md:col-span-2"},Oi={key:0,style:{"margin-top":"8px"}},_i=["src"],Ri={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Zi=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},"Social Url",-1),zi={class:"col-span-3 md:col-span-2"},Ki={class:"text-red-500 text-sm"},Wi={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Yi=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},"Facebook",-1),Ji={class:"col-span-3 md:col-span-2"},Gi={class:"text-red-500 text-sm"},Hi={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},Qi=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},"Twitter",-1),Xi={class:"col-span-3 md:col-span-2"},$i={class:"text-red-500 text-sm"},ed={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},td=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},"Reddit",-1),ad={class:"col-span-3 md:col-span-2"},od={class:"text-red-500 text-sm"},rd={class:"mb-2 grid grid-cols-3 gap-1 md:gap-4"},ld=(0,o.createElementVNode)("label",{class:"col-span-3 md:col-span-1"},"LinkedIn",-1),sd={class:"col-span-3 md:col-span-2"},nd={class:"text-red-500 text-sm"},cd={class:"mt-4 text-right"},id={key:0,class:"mr-3"};function dd(e,t,a,r,l,s){const n=(0,o.resolveComponent)("router-link"),c=(0,o.resolveComponent)("icon"),i=(0,o.resolveComponent)("j-button");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",Si,[(0,o.createElementVNode)("h5",Di,(0,o.toDisplayString)(r.translate("pos.pos_manager")),1),Ii,(0,o.createElementVNode)("div",Ai,[(0,o.createVNode)(n,{tag:"a",to:"/account/pos/products",class:"btn btn-warning"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(r.translate("account.btn_manage_pos")),1)])),_:1})])]),(0,o.createElementVNode)("div",Mi,[(0,o.createElementVNode)("h5",Ti,(0,o.toDisplayString)(r.translate("pos.social_detail")),1),Fi,(0,o.createElementVNode)("div",Ui,[(0,o.createElementVNode)("div",Li,[ji,(0,o.createElementVNode)("div",qi,[(0,o.createElementVNode)("input",{onChange:t[0]||(t[0]=e=>r.uploadFile()),id:"avatar",ref:"logo",type:"file"},null,544),e.avatar?((0,o.openBlock)(),(0,o.createElementBlock)("div",Oi,[(0,o.createElementVNode)("img",{src:e.avatar,alt:"",style:{"max-height":"70px"}},null,8,_i)])):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("form",{onSubmit:t[6]||(t[6]=(0,o.withModifiers)((e=>r.submit()),["prevent"]))},[(0,o.createElementVNode)("div",Ri,[Zi,(0,o.createElementVNode)("div",zi,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.SocialURL=t)},null,512),[[o.vModelText,e.form.SocialURL]]),(0,o.createElementVNode)("div",Ki,(0,o.toDisplayString)(r.showError(e.errorBag,"SocialURL")),1)])]),(0,o.createElementVNode)("div",Wi,[Yi,(0,o.createElementVNode)("div",Ji,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.SocialFacebook=t)},null,512),[[o.vModelText,e.form.SocialFacebook]]),(0,o.createElementVNode)("div",Gi,(0,o.toDisplayString)(r.showError(e.errorBag,"SocialFacebook")),1)])]),(0,o.createElementVNode)("div",Hi,[Qi,(0,o.createElementVNode)("div",Xi,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.SocialTwitter=t)},null,512),[[o.vModelText,e.form.SocialTwitter]]),(0,o.createElementVNode)("div",$i,(0,o.toDisplayString)(r.showError(e.errorBag,"SocialTwitter")),1)])]),(0,o.createElementVNode)("div",ed,[td,(0,o.createElementVNode)("div",ad,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.SocialReddit=t)},null,512),[[o.vModelText,e.form.SocialReddit]]),(0,o.createElementVNode)("div",od,(0,o.toDisplayString)(r.showError(e.errorBag,"SocialReddit")),1)])]),(0,o.createElementVNode)("div",rd,[ld,(0,o.createElementVNode)("div",sd,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":t[5]||(t[5]=t=>e.form.SocialLinkedIn=t)},null,512),[[o.vModelText,e.form.SocialLinkedIn]]),(0,o.createElementVNode)("div",nd,(0,o.toDisplayString)(r.showError(e.errorBag,"SocialLinkedIn")),1)])]),(0,o.createElementVNode)("div",cd,[(0,o.createVNode)(i,{disabled:e.isProcessing},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",id,[(0,o.createVNode)(c,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("account.button_update")),1)])),_:1},8,["disabled"])])],32)])])],64)}var md={name:"PosSettings",components:{JButton:Ae.Z,Icon:N.Z},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("http"),a=(0,o.inject)("toast"),r=(0,Fe.oR)(),{validate:l,showError:s}=(0,Le.Z)(),{saveNotification:n}=(0,qe.Z)(),c=(0,o.ref)(null),i=(0,o.reactive)({form:{SocialURL:"",SocialTwitter:"",SocialFacebook:"",SocialReddit:"",SocialLinkedIn:""},avatar:"",errorBag:{},rules:{SocialURL:["url"],SocialTwitter:["regex:/http(?:s)?:\\/\\/(?:www\\.)?twitter\\.com\\/([a-zA-Z0-9_]+)/"],SocialFacebook:["regex:/(?:https?:\\/\\/)?(?:www\\.)?facebook\\.com\\/.(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[\\w-]*\\/)*([\\w\\-.]*)/"],SocialReddit:["regex:/http(s)?:\\/\\/(www\\.)?reddit\\.com\\/r\\/[A-z0-9_-]+\\/?/"],SocialLinkedIn:["regex:/http(s)?:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[A-z0-9_-]+\\/?/"]},messages:{SocialURL:{url:"Please provide a valid url"},SocialTwitter:{regex:"Please provide a valid twitter profile url"},SocialFacebook:{regex:"Please provide a valid facebook profile url"},SocialReddit:{regex:"Please provide a valid reddit url"},SocialLinkedIn:{regex:"Please provide a valid linkedIn profile url"}},isProcessing:!1}),d=(0,o.computed)((()=>r.state.accountInfo));(0,o.watch)((()=>({...i.form})),((e,t)=>{Object.keys(i.errorBag).length>0&&(i.errorBag=l(e,i.rules,i.messages))}));const m="https://app.cointopay.com",u=()=>{const e=c.value.files;if(e.length>0){const o=e[0];if(o.type.startsWith("image/")){const e=new FormData;e.append("file123",o),e.append("MerchantID",d.value.ID),t.post(`${m}/MarketAPI?POSBLOB`,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{let o="";if(200===e.status&&(c.value.value="",i.avatar=e.data,d.value)){const e={...d.value};if(e.Avatar){const t=e.Avatar.split("ID=");o=t[t.length-1]}e.Avatar=i.avatar,r.dispatch(je.CH,e).then((e=>{200===e.status&&(o&&t.get(`${m}/MarketAPI?POSBLOB`,{params:{MerchantID:d.value.ID,deleteString:o}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)})),a.success("Merchant logo updated successfully"))})).catch((e=>{a.error(e.data.message)}))}})).catch((e=>{console.log(e)}))}else c.value.value="",a.error("Please provide a valid image file")}},p=()=>{if(i.errorBag=l(i.form,i.rules,i.messages),0===Object.keys(i.errorBag).length&&(i.isProcessing=!0,d.value)){const e={...d.value,SocialOn:1,SocialURL:i.form.SocialURL,SocialTwitter:i.form.SocialTwitter,SocialFacebook:i.form.SocialFacebook,SocialReddit:i.form.SocialReddit,SocialLinkedIn:i.form.SocialLinkedIn};r.dispatch(je.CH,e).then((e=>{i.isProcessing=!1,200===e.status&&(a.success("Social information updated successfully"),n("Social information updated successfully"))})).catch((e=>{i.isProcessing=!1,a.error(e.data.message),n(e.data.message)}))}};return(0,o.onBeforeMount)((()=>{i.form={SocialURL:d.value.SocialURL,SocialTwitter:d.value.SocialTwitter,SocialFacebook:d.value.SocialFacebook,SocialReddit:d.value.SocialReddit,SocialLinkedIn:d.value.SocialLinkedIn},i.avatar=d.value.Avatar})),{translate:e,...(0,o.toRefs)(i),logo:c,showError:s,uploadFile:u,submit:p}}};const ud=(0,g.Z)(md,[["render",dd]]);var pd=ud;const yd={class:"card"},gd={class:"title"},fd=(0,o.createElementVNode)("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),vd={class:"body"};function Nd(e,t,a,r,l,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",yd,[(0,o.createElementVNode)("h5",gd,(0,o.toDisplayString)(r.translate("account.menu.referrals")),1),fd,(0,o.createElementVNode)("div",vd,[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(r.referralDescription),1)])])}var hd={name:"Referrals",setup(){const e=(0,o.inject)("translate"),t=(0,Fe.oR)(),a=(0,o.computed)((()=>{const e=t.state.translations.account.referrals.description,a=t.state.user;return e.replace("[MerchantID]",a.ID)}));return{translate:e,referralDescription:a}}};const Ed=(0,g.Z)(hd,[["render",Nd]]);var Vd=Ed;const kd={class:"flex items-center justify-between"},wd={class:"capitalize"},xd={class:"mb-2"},bd={class:"flex items-center justify-between mb-1"},Cd={class:"text-blue-500 text-sm"},Bd={class:"mb-2"},Pd={class:"flex items-center justify-between mb-1"},Sd={class:"text-blue-500 text-sm"},Dd={class:"mb-2"},Id={class:"flex items-center justify-between mb-1"},Ad={class:"text-red-700 dark:text-red-400 text-sm"},Md={class:"text-red-700 dark:text-red-400 text-sm"},Td={class:"mt-4"},Fd={key:0,class:"mr-3"};function Ud(e,t,a,r,l,s){const n=(0,o.resolveComponent)("icon"),c=(0,o.resolveComponent)("vue-recaptcha"),i=(0,o.resolveComponent)("j-button"),d=(0,o.resolveComponent)("modal");return(0,o.openBlock)(),(0,o.createBlock)(d,{maxWidth:e.maxWidth,show:e.show,onClose:t[5]||(t[5]=e=>r.closeModal())},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",kd,[(0,o.createElementVNode)("span",wd,(0,o.toDisplayString)(r.translate("login.title")),1),(0,o.createElementVNode)("span",{class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 cursor-pointer",onClick:t[0]||(t[0]=e=>r.closeModal())},[(0,o.createVNode)(n,{name:"close"})])])])),content:(0,o.withCtx)((()=>[(0,o.createElementVNode)("form",{onSubmit:t[4]||(t[4]=(0,o.withModifiers)(((...e)=>r.submit&&r.submit(...e)),["prevent"]))},[(0,o.createElementVNode)("div",xd,[(0,o.createElementVNode)("div",bd,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("login.username")),1),(0,o.createElementVNode)("div",Cd,(0,o.toDisplayString)(r.showError(e.errorBag,"User")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.User=t),autofocus:"",class:"form-input w-full rounded",type:"text"},null,512),[[o.vModelText,e.form.User]])]),(0,o.createElementVNode)("div",Bd,[(0,o.createElementVNode)("div",Pd,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("login.password")),1),(0,o.createElementVNode)("div",Sd,(0,o.toDisplayString)(r.showError(e.errorBag,"Password")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.Password=t),autofocus:"",class:"form-input w-full rounded",type:"password"},null,512),[[o.vModelText,e.form.Password]])]),(0,o.createElementVNode)("div",Dd,[(0,o.createElementVNode)("div",Id,[(0,o.createElementVNode)("label",null,(0,o.toDisplayString)(r.translate("login.twofa")),1),(0,o.createElementVNode)("div",Ad,(0,o.toDisplayString)(r.showError(e.errorBag,"totp")),1)]),(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.totp=t),autofocus:"",class:"form-input w-full",type:"text"},null,512),[[o.vModelText,e.form.totp]])]),(0,o.createElementVNode)("div",null,[(0,o.createVNode)(c,{ref:"vueRecaptcha",siteKey:e.reCaptchaAPIKey,size:"normal",onExpire:r.recaptchaExpired,theme:r.mode,onFail:r.recaptchaFailed,onVerify:r.recaptchaVerified},null,8,["siteKey","onExpire","theme","onFail","onVerify"]),(0,o.createElementVNode)("div",Md,(0,o.toDisplayString)(r.showError(e.errorBag,"reCaptcha")),1)]),(0,o.createElementVNode)("div",Td,[(0,o.createVNode)(i,{disabled:e.isProcessing,size:"w-full"},{default:(0,o.withCtx)((()=>[e.isProcessing?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fd,[(0,o.createVNode)(n,{name:"spinner",classes:"w-4 h-4 text-white"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(r.translate("login.button")),1)])),_:1},8,["disabled"])])],32)])),_:1},8,["maxWidth","show"])}var Ld=a(38),jd={name:"LoginModal",components:{Modal:Zt.Z,vueRecaptcha:Ld.Z,JButton:Ae.Z,Icon:N.Z},setup(){const{cookies:e}=(0,Fn.fP)(),t=(0,o.ref)(null),a=(0,o.inject)("http"),r=(0,o.inject)("toast"),l=(0,o.inject)("translate"),s=(0,o.inject)("emitter"),n=(0,Fe.oR)(),{validate:c,showError:i}=(0,Le.Z)(),d=(0,o.reactive)({show:!1,maxWidth:"2xl",closeable:!0,reCaptchaAPIKey:"6LdOLTEUAAAAAGDKKH5DMUQbW8PtXjimV6ZDrBKr",form:{User:"",Password:"",totp:"000000",reCaptcha:"",output:"json"},errorBag:{},rules:{User:["required"],Password:["required"],totp:["required"],reCaptcha:["required"]},messages:{User:{required:"Username is required",regex:"Username should only contain alpha numeric,. and max 60 characters"},Password:{required:"Password is required"},totp:{required:"Google 2FA code is required",integer:"Only numeric value is allowed"},reCaptcha:{required:"Verify you are not a robot"}},isProcessing:!1}),m=(0,o.computed)((()=>n.state.mode));(0,o.watch)((()=>({...d.form})),((e,t)=>{Object.keys(d.errorBag).length>0&&(d.errorBag=c(d.form,d.rules,d.messages))}));const u=()=>{d.show=!1},p=e=>{d.form.reCaptcha=e},y=()=>{t.value.reset(),d.form.reCaptcha=""},g=()=>{},f=()=>{if(d.errorBag=c(d.form,d.rules,d.messages),0===Object.keys(d.errorBag).length){d.isProcessing=!0;const t=d.form;t["g-recaptcha-response"]=d.form.reCaptcha,delete t.reCaptcha,a.get("https://app.cointopay.com/Login",{params:t}).then((a=>{if("Session already exists"===a.data)r.error(a.data),d.isProcessing=!1;else{const o=a.data;delete o.Status,o.Username=t.User,e.set("JSESSIONID",o.SessionID),n.dispatch(je.Ff,o).then((()=>{n.dispatch(je.Z6,t),n.dispatch(je.XY).then((e=>{d.isProcessing=!1,u()})).catch((e=>{d.isProcessing=!1,console.log(e.response)}))}))}})).catch((e=>{r.error(e.response.data),d.isProcessing=!1}))}};return(0,o.onBeforeMount)((()=>{s.on("loginModal",(()=>{d.show=!0}))})),{translate:l,...(0,o.toRefs)(d),closeModal:u,cookies:e,vueRecaptcha:t,mode:m,showError:i,recaptchaVerified:p,recaptchaExpired:y,recaptchaFailed:g,submit:f}}};const qd=(0,g.Z)(jd,[["render",Ud]]);var Od=qd,_d={name:"Account",components:{AccountLayout:v,Icon:N.Z,AccountDetail:Re,WalletCurrencies:Ca,PayoutSettings:lr,Kyc:qn,ShoppingCart:Bc,PaymentUrls:ai,Billing:Pi,PosSettings:pd,Referrals:Vd,LoginModal:Od},setup(){const e=(0,o.inject)("translate"),t=(0,o.inject)("swal"),a=(0,o.inject)("toast"),r=(0,o.inject)("emitter"),l=(0,Fe.oR)(),s=(0,wa.yj)(),n=(0,wa.tv)(),c=(0,o.reactive)({navs:[{name:"account.menu.details",key:"detail",isActive:!0},{name:"account.menu.wallet",key:"wallet",isActive:!1},{name:"account.menu.payout",key:"payout",isActive:!1},{name:"account.menu.kyc",key:"kyc",isActive:!1},{name:"account.menu.shopping",key:"shopping",isActive:!1},{name:"account.menu.payments",key:"payments",isActive:!1},{name:"account.menu.billing",key:"billing",isActive:!1},{name:"account.menu.referrals",key:"referrals",isActive:!1}],selectedNav:null}),i=(0,o.computed)((()=>l.state.accountInfo)),d=(0,o.computed)((()=>l.state.user)),m=e=>{c.selectedNav={...e,isActive:!0},c.navs.forEach((t=>{t.isActive=t.name===e.name}))};return(0,o.onBeforeMount)((()=>{l.dispatch(je.XY).then((o=>{const s=o.message.toLowerCase(),c=["session not available","action not permitted without correct session","no merchant session"];400===o.status_code&&-1!==c.indexOf(s)&&t.fire({title:e("account.session_expired"),text:e("account.expiry_msg"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No",focusCancel:!0,customClass:{container:"swal2-tailwind"}}).then((({value:e})=>{e&&!0===e?l.dispatch(je.Nv,d.value.SessionID).then((e=>{"success"===e.toLowerCase()&&(a.warning("Session expired, Please login again."),r.emit("loginModal",{}))})).catch((e=>console.log(e))):n.push("/wallet")}))})).catch((e=>console.log(e)));const o=s.params.action;c.navs.forEach((e=>{e.isActive=e.key===o,e.isActive&&(c.selectedNav=e)})),null===c.selectedNav&&(c.navs[0]={...c.navs[0],isActive:!0},c.selectedNav=c.navs[0])})),{translate:e,...(0,o.toRefs)(c),accountInfo:i,toggleActive:m}}};const Rd=(0,g.Z)(_d,[["render",n],["__scopeId","data-v-d6861d86"]]);var Zd=Rd}}]);
//# sourceMappingURL=account.0ebc4208.js.map